




/*
     FILE ARCHIVED ON 7:33:38 Jun 16, 2013 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 21:15:22 Mar 8, 2015.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
function hex_md5(e){return binl2hex(core_md5(str2binl(e),e.length*chrsz))}function b64_md5(e){return binl2b64(core_md5(str2binl(e),e.length*chrsz))}function str_md5(e){return binl2str(core_md5(str2binl(e),e.length*chrsz))}function hex_hmac_md5(e,t){return binl2hex(core_hmac_md5(e,t))}function b64_hmac_md5(e,t){return binl2b64(core_hmac_md5(e,t))}function str_hmac_md5(e,t){return binl2str(core_hmac_md5(e,t))}function md5_vm_test(){return"900150983cd24fb0d6963f7d28e17f72"==hex_md5("abc")}function core_md5(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;for(var n=1732584193,i=-271733879,r=-1732584194,o=271733878,a=0;e.length>a;a+=16){var s=n,l=i,c=r,u=o;n=md5_ff(n,i,r,o,e[a+0],7,-680876936),o=md5_ff(o,n,i,r,e[a+1],12,-389564586),r=md5_ff(r,o,n,i,e[a+2],17,606105819),i=md5_ff(i,r,o,n,e[a+3],22,-1044525330),n=md5_ff(n,i,r,o,e[a+4],7,-176418897),o=md5_ff(o,n,i,r,e[a+5],12,1200080426),r=md5_ff(r,o,n,i,e[a+6],17,-1473231341),i=md5_ff(i,r,o,n,e[a+7],22,-45705983),n=md5_ff(n,i,r,o,e[a+8],7,1770035416),o=md5_ff(o,n,i,r,e[a+9],12,-1958414417),r=md5_ff(r,o,n,i,e[a+10],17,-42063),i=md5_ff(i,r,o,n,e[a+11],22,-1990404162),n=md5_ff(n,i,r,o,e[a+12],7,1804603682),o=md5_ff(o,n,i,r,e[a+13],12,-40341101),r=md5_ff(r,o,n,i,e[a+14],17,-1502002290),i=md5_ff(i,r,o,n,e[a+15],22,1236535329),n=md5_gg(n,i,r,o,e[a+1],5,-165796510),o=md5_gg(o,n,i,r,e[a+6],9,-1069501632),r=md5_gg(r,o,n,i,e[a+11],14,643717713),i=md5_gg(i,r,o,n,e[a+0],20,-373897302),n=md5_gg(n,i,r,o,e[a+5],5,-701558691),o=md5_gg(o,n,i,r,e[a+10],9,38016083),r=md5_gg(r,o,n,i,e[a+15],14,-660478335),i=md5_gg(i,r,o,n,e[a+4],20,-405537848),n=md5_gg(n,i,r,o,e[a+9],5,568446438),o=md5_gg(o,n,i,r,e[a+14],9,-1019803690),r=md5_gg(r,o,n,i,e[a+3],14,-187363961),i=md5_gg(i,r,o,n,e[a+8],20,1163531501),n=md5_gg(n,i,r,o,e[a+13],5,-1444681467),o=md5_gg(o,n,i,r,e[a+2],9,-51403784),r=md5_gg(r,o,n,i,e[a+7],14,1735328473),i=md5_gg(i,r,o,n,e[a+12],20,-1926607734),n=md5_hh(n,i,r,o,e[a+5],4,-378558),o=md5_hh(o,n,i,r,e[a+8],11,-2022574463),r=md5_hh(r,o,n,i,e[a+11],16,1839030562),i=md5_hh(i,r,o,n,e[a+14],23,-35309556),n=md5_hh(n,i,r,o,e[a+1],4,-1530992060),o=md5_hh(o,n,i,r,e[a+4],11,1272893353),r=md5_hh(r,o,n,i,e[a+7],16,-155497632),i=md5_hh(i,r,o,n,e[a+10],23,-1094730640),n=md5_hh(n,i,r,o,e[a+13],4,681279174),o=md5_hh(o,n,i,r,e[a+0],11,-358537222),r=md5_hh(r,o,n,i,e[a+3],16,-722521979),i=md5_hh(i,r,o,n,e[a+6],23,76029189),n=md5_hh(n,i,r,o,e[a+9],4,-640364487),o=md5_hh(o,n,i,r,e[a+12],11,-421815835),r=md5_hh(r,o,n,i,e[a+15],16,530742520),i=md5_hh(i,r,o,n,e[a+2],23,-995338651),n=md5_ii(n,i,r,o,e[a+0],6,-198630844),o=md5_ii(o,n,i,r,e[a+7],10,1126891415),r=md5_ii(r,o,n,i,e[a+14],15,-1416354905),i=md5_ii(i,r,o,n,e[a+5],21,-57434055),n=md5_ii(n,i,r,o,e[a+12],6,1700485571),o=md5_ii(o,n,i,r,e[a+3],10,-1894986606),r=md5_ii(r,o,n,i,e[a+10],15,-1051523),i=md5_ii(i,r,o,n,e[a+1],21,-2054922799),n=md5_ii(n,i,r,o,e[a+8],6,1873313359),o=md5_ii(o,n,i,r,e[a+15],10,-30611744),r=md5_ii(r,o,n,i,e[a+6],15,-1560198380),i=md5_ii(i,r,o,n,e[a+13],21,1309151649),n=md5_ii(n,i,r,o,e[a+4],6,-145523070),o=md5_ii(o,n,i,r,e[a+11],10,-1120210379),r=md5_ii(r,o,n,i,e[a+2],15,718787259),i=md5_ii(i,r,o,n,e[a+9],21,-343485551),n=safe_add(n,s),i=safe_add(i,l),r=safe_add(r,c),o=safe_add(o,u)}return[n,i,r,o]}function md5_cmn(e,t,n,i,r,o){return safe_add(bit_rol(safe_add(safe_add(t,e),safe_add(i,o)),r),n)}function md5_ff(e,t,n,i,r,o,a){return md5_cmn(t&n|~t&i,e,t,r,o,a)}function md5_gg(e,t,n,i,r,o,a){return md5_cmn(t&i|n&~i,e,t,r,o,a)}function md5_hh(e,t,n,i,r,o,a){return md5_cmn(t^n^i,e,t,r,o,a)}function md5_ii(e,t,n,i,r,o,a){return md5_cmn(n^(t|~i),e,t,r,o,a)}function core_hmac_md5(e,t){var n=str2binl(e);n.length>16&&(n=core_md5(n,e.length*chrsz));for(var i=Array(16),r=Array(16),o=0;16>o;o++)i[o]=909522486^n[o],r[o]=1549556828^n[o];var a=core_md5(i.concat(str2binl(t)),512+t.length*chrsz);return core_md5(r.concat(a),640)}function safe_add(e,t){var n=(65535&e)+(65535&t),i=(e>>16)+(t>>16)+(n>>16);return i<<16|65535&n}function bit_rol(e,t){return e<<t|e>>>32-t}function str2binl(e){for(var t=[],n=(1<<chrsz)-1,i=0;e.length*chrsz>i;i+=chrsz)t[i>>5]|=(e.charCodeAt(i/chrsz)&n)<<i%32;return t}function binl2str(e){for(var t="",n=(1<<chrsz)-1,i=0;32*e.length>i;i+=chrsz)t+=String.fromCharCode(e[i>>5]>>>i%32&n);return t}function binl2hex(e){for(var t=hexcase?"0123456789ABCDEF":"0123456789abcdef",n="",i=0;4*e.length>i;i++)n+=t.charAt(15&e[i>>2]>>8*(i%4)+4)+t.charAt(15&e[i>>2]>>8*(i%4));return n}function binl2b64(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="",i=0;4*e.length>i;i+=3)for(var r=(255&e[i>>2]>>8*(i%4))<<16|(255&e[i+1>>2]>>8*((i+1)%4))<<8|255&e[i+2>>2]>>8*((i+2)%4),o=0;4>o;o++)n+=8*i+6*o>32*e.length?b64pad:t.charAt(63&r>>6*(3-o));return n}function log(){ws.common.log.apply(this,arguments)}(function(e,t){function n(e){var t=e.length,n=lt.type(e);return lt.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e){var t=_t[e]={};return lt.each(e.match(ut)||[],function(e,n){t[n]=!0}),t}function r(e,n,i,r){if(lt.acceptData(e)){var o,a,s=lt.expando,l="string"==typeof n,c=e.nodeType,u=c?lt.cache:e,d=c?e[s]:e[s]&&s;if(d&&u[d]&&(r||u[d].data)||!l||i!==t)return d||(c?e[s]=d=Z.pop()||lt.guid++:d=s),u[d]||(u[d]={},c||(u[d].toJSON=lt.noop)),("object"==typeof n||"function"==typeof n)&&(r?u[d]=lt.extend(u[d],n):u[d].data=lt.extend(u[d].data,n)),o=u[d],r||(o.data||(o.data={}),o=o.data),i!==t&&(o[lt.camelCase(n)]=i),l?(a=o[n],null==a&&(a=o[lt.camelCase(n)])):a=o,a}}function o(e,t,n){if(lt.acceptData(e)){var i,r,o,a=e.nodeType,l=a?lt.cache:e,c=a?e[lt.expando]:lt.expando;if(l[c]){if(t&&(o=n?l[c]:l[c].data)){lt.isArray(t)?t=t.concat(lt.map(t,lt.camelCase)):t in o?t=[t]:(t=lt.camelCase(t),t=t in o?[t]:t.split(" "));for(i=0,r=t.length;r>i;i++)delete o[t[i]];if(!(n?s:lt.isEmptyObject)(o))return}(n||(delete l[c].data,s(l[c])))&&(a?lt.cleanData([e],!0):lt.support.deleteExpando||l!=l.window?delete l[c]:l[c]=null)}}}function a(e,n,i){if(i===t&&1===e.nodeType){var r="data-"+n.replace(St,"-$1").toLowerCase();if(i=e.getAttribute(r),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:Ct.test(i)?lt.parseJSON(i):i}catch(o){}lt.data(e,n,i)}else i=t}return i}function s(e){var t;for(t in e)if(("data"!==t||!lt.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function l(){return!0}function c(){return!1}function u(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function d(e,t,n){if(t=t||0,lt.isFunction(t))return lt.grep(e,function(e,i){var r=!!t.call(e,i,e);return r===n});if(t.nodeType)return lt.grep(e,function(e){return e===t===n});if("string"==typeof t){var i=lt.grep(e,function(e){return 1===e.nodeType});if($t.test(t))return lt.filter(t,i,!n);t=lt.filter(t,i)}return lt.grep(e,function(e){return lt.inArray(e,t)>=0===n})}function h(e){var t=Qt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function f(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function p(e){var t=e.getAttributeNode("type");return e.type=(t&&t.specified)+"/"+e.type,e}function m(e){var t=on.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function g(e,t){for(var n,i=0;null!=(n=e[i]);i++)lt._data(n,"globalEval",!t||lt._data(t[i],"globalEval"))}function v(e,t){if(1===t.nodeType&&lt.hasData(e)){var n,i,r,o=lt._data(e),a=lt._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(i=0,r=s[n].length;r>i;i++)lt.event.add(t,n,s[n][i])}a.data&&(a.data=lt.extend({},a.data))}}function y(e,t){var n,i,r;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!lt.support.noCloneEvent&&t[lt.expando]){r=lt._data(t);for(i in r.events)lt.removeEvent(t,i,r.handle);t.removeAttribute(lt.expando)}"script"===n&&t.text!==e.text?(p(t).text=e.text,m(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),lt.support.html5Clone&&e.innerHTML&&!lt.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&tn.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function b(e,n){var i,r,o=0,a=typeof e.getElementsByTagName!==V?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==V?e.querySelectorAll(n||"*"):t;if(!a)for(a=[],i=e.childNodes||e;null!=(r=i[o]);o++)!n||lt.nodeName(r,n)?a.push(r):lt.merge(a,b(r,n));return n===t||n&&lt.nodeName(e,n)?lt.merge([e],a):a}function w(e){tn.test(e.type)&&(e.defaultChecked=e.checked)}function x(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,r=Sn.length;r--;)if(t=Sn[r]+n,t in e)return t;return i}function k(e,t){return e=t||e,"none"===lt.css(e,"display")||!lt.contains(e.ownerDocument,e)}function _(e,t){for(var n,i,r,o=[],a=0,s=e.length;s>a;a++)i=e[a],i.style&&(o[a]=lt._data(i,"olddisplay"),n=i.style.display,t?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&k(i)&&(o[a]=lt._data(i,"olddisplay",D(i.nodeName)))):o[a]||(r=k(i),(n&&"none"!==n||!r)&&lt._data(i,"olddisplay",r?n:lt.css(i,"display"))));for(a=0;s>a;a++)i=e[a],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[a]||"":"none"));return e}function C(e,t,n){var i=yn.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function S(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=lt.css(e,n+Cn[o],!0,r)),i?("content"===n&&(a-=lt.css(e,"padding"+Cn[o],!0,r)),"margin"!==n&&(a-=lt.css(e,"border"+Cn[o]+"Width",!0,r))):(a+=lt.css(e,"padding"+Cn[o],!0,r),"padding"!==n&&(a+=lt.css(e,"border"+Cn[o]+"Width",!0,r)));return a}function T(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=dn(e),a=lt.support.boxSizing&&"border-box"===lt.css(e,"boxSizing",!1,o);if(0>=r||null==r){if(r=hn(e,t,o),(0>r||null==r)&&(r=e.style[t]),bn.test(r))return r;i=a&&(lt.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+S(e,t,n||(a?"border":"content"),i,o)+"px"}function D(e){var t=G,n=xn[e];return n||(n=M(e,t),"none"!==n&&n||(un=(un||lt("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(un[0].contentWindow||un[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=M(e,t),un.detach()),xn[e]=n),n}function M(e,t){var n=lt(t.createElement(e)).appendTo(t.body),i=lt.css(n[0],"display");return n.remove(),i}function E(e,t,n,i){var r;if(lt.isArray(t))lt.each(t,function(t,r){n||Dn.test(e)?i(e,r):E(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==lt.type(t))i(e,t);else for(r in t)E(e+"["+r+"]",t[r],n,i)}function N(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(ut)||[];if(lt.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function A(e,n,i,r){function o(l){var c;return a[l]=!0,lt.each(e[l]||[],function(e,l){var u=l(n,i,r);return"string"!=typeof u||s||a[u]?s?!(c=u):t:(n.dataTypes.unshift(u),o(u),!1)}),c}var a={},s=e===Un;return o(n.dataTypes[0])||!a["*"]&&o("*")}function I(e,n){var i,r,o=lt.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((o[r]?e:i||(i={}))[r]=n[r]);return i&&lt.extend(!0,e,i),e}function P(e,n,i){var r,o,a,s,l=e.contents,c=e.dataTypes,u=e.responseFields;for(s in u)s in i&&(n[u[s]]=i[s]);for(;"*"===c[0];)c.shift(),o===t&&(o=e.mimeType||n.getResponseHeader("Content-Type"));if(o)for(s in l)if(l[s]&&l[s].test(o)){c.unshift(s);break}if(c[0]in i)a=c[0];else{for(s in i){if(!c[0]||e.converters[s+" "+c[0]]){a=s;break}r||(r=s)}a=a||r}return a?(a!==c[0]&&c.unshift(a),i[a]):t}function j(e,t){var n,i,r,o,a={},s=0,l=e.dataTypes.slice(),c=l[0];if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l[1])for(r in e.converters)a[r.toLowerCase()]=e.converters[r];for(;i=l[++s];)if("*"!==i){if("*"!==c&&c!==i){if(r=a[c+" "+i]||a["* "+i],!r)for(n in a)if(o=n.split(" "),o[1]===i&&(r=a[c+" "+o[0]]||a["* "+o[0]])){r===!0?r=a[n]:a[n]!==!0&&(i=o[0],l.splice(s--,0,i));break}if(r!==!0)if(r&&e["throws"])t=r(t);else try{t=r(t)}catch(u){return{state:"parsererror",error:r?u:"No conversion from "+c+" to "+i}}}c=i}return{state:"success",data:t}}function L(){try{return new e.XMLHttpRequest}catch(t){}}function R(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function O(){return setTimeout(function(){Zn=t}),Zn=lt.now()}function F(e,t){lt.each(t,function(t,n){for(var i=(oi[t]||[]).concat(oi["*"]),r=0,o=i.length;o>r;r++)if(i[r].call(e,t,n))return})}function H(e,t,n){var i,r,o=0,a=ri.length,s=lt.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=Zn||O(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,o=1-i,a=0,l=c.tweens.length;l>a;a++)c.tweens[a].run(o);return s.notifyWith(e,[c,o,n]),1>o&&l?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:lt.extend({},t),opts:lt.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Zn||O(),duration:n.duration,tweens:[],createTween:function(t,n){var i=lt.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)c.tweens[n].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),u=c.props;for(B(u,c.opts.specialEasing);a>o;o++)if(i=ri[o].call(c,e,u,c.opts))return i;return F(c,u),lt.isFunction(c.opts.start)&&c.opts.start.call(e,c),lt.fx.timer(lt.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function B(e,t){var n,i,r,o,a;for(r in e)if(i=lt.camelCase(r),o=t[i],n=e[r],lt.isArray(n)&&(o=n[1],n=e[r]=n[0]),r!==i&&(e[i]=n,delete e[r]),a=lt.cssHooks[i],a&&"expand"in a){n=a.expand(n),delete e[i];for(r in n)r in e||(e[r]=n[r],t[r]=o)}else t[i]=o}function z(e,t,n){var i,r,o,a,s,l,c,u,d,h=this,f=e.style,p={},m=[],g=e.nodeType&&k(e);n.queue||(u=lt._queueHooks(e,"fx"),null==u.unqueued&&(u.unqueued=0,d=u.empty.fire,u.empty.fire=function(){u.unqueued||d()}),u.unqueued++,h.always(function(){h.always(function(){u.unqueued--,lt.queue(e,"fx").length||u.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],"inline"===lt.css(e,"display")&&"none"===lt.css(e,"float")&&(lt.support.inlineBlockNeedsLayout&&"inline"!==D(e.nodeName)?f.zoom=1:f.display="inline-block")),n.overflow&&(f.overflow="hidden",lt.support.shrinkWrapBlocks||h.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(r in t)if(a=t[r],ti.exec(a)){if(delete t[r],l=l||"toggle"===a,a===(g?"hide":"show"))continue;m.push(r)}if(o=m.length){s=lt._data(e,"fxshow")||lt._data(e,"fxshow",{}),"hidden"in s&&(g=s.hidden),l&&(s.hidden=!g),g?lt(e).show():h.done(function(){lt(e).hide()}),h.done(function(){var t;lt._removeData(e,"fxshow");for(t in p)lt.style(e,t,p[t])});for(r=0;o>r;r++)i=m[r],c=h.createTween(i,g?s[i]:0),p[i]=s[i]||lt.style(e,i),i in s||(s[i]=c.start,g&&(c.end=c.start,c.start="width"===i||"height"===i?1:0))}}function W(e,t,n,i,r){return new W.prototype.init(e,t,n,i,r)}function $(e,t){var n,i={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)n=Cn[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function U(e){return lt.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var q,Q,V=typeof t,G=e.document,K=e.location,Y=e.jQuery,J=e.$,X={},Z=[],et="1.9.1",tt=Z.concat,nt=Z.push,it=Z.slice,rt=Z.indexOf,ot=X.toString,at=X.hasOwnProperty,st=et.trim,lt=function(e,t){return new lt.fn.init(e,t,Q)},ct=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ut=/\S+/g,dt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ht=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,ft=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,pt=/^[\],:{}\s]*$/,mt=/(?:^|:|,)(?:\s*\[)+/g,gt=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,vt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,yt=/^-ms-/,bt=/-([\da-z])/gi,wt=function(e,t){return t.toUpperCase()},xt=function(e){(G.addEventListener||"load"===e.type||"complete"===G.readyState)&&(kt(),lt.ready())},kt=function(){G.addEventListener?(G.removeEventListener("DOMContentLoaded",xt,!1),e.removeEventListener("load",xt,!1)):(G.detachEvent("onreadystatechange",xt),e.detachEvent("onload",xt))};lt.fn=lt.prototype={jquery:et,constructor:lt,init:function(e,n,i){var r,o;if(!e)return this;if("string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:ht.exec(e),!r||!r[1]&&n)return!n||n.jquery?(n||i).find(e):this.constructor(n).find(e);if(r[1]){if(n=n instanceof lt?n[0]:n,lt.merge(this,lt.parseHTML(r[1],n&&n.nodeType?n.ownerDocument||n:G,!0)),ft.test(r[1])&&lt.isPlainObject(n))for(r in n)lt.isFunction(this[r])?this[r](n[r]):this.attr(r,n[r]);return this}if(o=G.getElementById(r[2]),o&&o.parentNode){if(o.id!==r[2])return i.find(e);this.length=1,this[0]=o}return this.context=G,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):lt.isFunction(e)?i.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),lt.makeArray(e,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return it.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=lt.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return lt.each(this,e,t)},ready:function(e){return lt.ready.promise().done(e),this},slice:function(){return this.pushStack(it.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(lt.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:nt,sort:[].sort,splice:[].splice},lt.fn.init.prototype=lt.fn,lt.extend=lt.fn.extend=function(){var e,n,i,r,o,a,s=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[1]||{},l=2),"object"==typeof s||lt.isFunction(s)||(s={}),c===l&&(s=this,--l);c>l;l++)if(null!=(o=arguments[l]))for(r in o)e=s[r],i=o[r],s!==i&&(u&&i&&(lt.isPlainObject(i)||(n=lt.isArray(i)))?(n?(n=!1,a=e&&lt.isArray(e)?e:[]):a=e&&lt.isPlainObject(e)?e:{},s[r]=lt.extend(u,a,i)):i!==t&&(s[r]=i));return s},lt.extend({noConflict:function(t){return e.$===lt&&(e.$=J),t&&e.jQuery===lt&&(e.jQuery=Y),lt},isReady:!1,readyWait:1,holdReady:function(e){e?lt.readyWait++:lt.ready(!0)},ready:function(e){if(e===!0?!--lt.readyWait:!lt.isReady){if(!G.body)return setTimeout(lt.ready);lt.isReady=!0,e!==!0&&--lt.readyWait>0||(q.resolveWith(G,[lt]),lt.fn.trigger&&lt(G).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===lt.type(e)},isArray:Array.isArray||function(e){return"array"===lt.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?X[ot.call(e)]||"object":typeof e},isPlainObject:function(e){if(!e||"object"!==lt.type(e)||e.nodeType||lt.isWindow(e))return!1;try{if(e.constructor&&!at.call(e,"constructor")&&!at.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var i;for(i in e);return i===t||at.call(e,i)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||G;var i=ft.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=lt.buildFragment([e],t,r),r&&lt(r).remove(),lt.merge([],i.childNodes))},parseJSON:function(n){return e.JSON&&e.JSON.parse?e.JSON.parse(n):null===n?n:"string"==typeof n&&(n=lt.trim(n),n&&pt.test(n.replace(gt,"@").replace(vt,"]").replace(mt,"")))?Function("return "+n)():(lt.error("Invalid JSON: "+n),t)},parseXML:function(n){var i,r;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(r=new DOMParser,i=r.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(o){i=t}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||lt.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(t){t&&lt.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(yt,"ms-").replace(bt,wt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var r,o=0,a=e.length,s=n(e);if(i){if(s)for(;a>o&&(r=t.apply(e[o],i),r!==!1);o++);else for(o in e)if(r=t.apply(e[o],i),r===!1)break}else if(s)for(;a>o&&(r=t.call(e[o],o,e[o]),r!==!1);o++);else for(o in e)if(r=t.call(e[o],o,e[o]),r===!1)break;return e},trim:st&&!st.call("﻿ ")?function(e){return null==e?"":st.call(e)}:function(e){return null==e?"":(e+"").replace(dt,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?lt.merge(i,"string"==typeof e?[e]:e):nt.call(i,e)),i},inArray:function(e,t,n){var i;if(t){if(rt)return rt.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var i=n.length,r=e.length,o=0;if("number"==typeof i)for(;i>o;o++)e[r++]=n[o];else for(;n[o]!==t;)e[r++]=n[o++];return e.length=r,e},grep:function(e,t,n){var i,r=[],o=0,a=e.length;for(n=!!n;a>o;o++)i=!!t(e[o],o),n!==i&&r.push(e[o]);return r},map:function(e,t,i){var r,o=0,a=e.length,s=n(e),l=[];if(s)for(;a>o;o++)r=t(e[o],o,i),null!=r&&(l[l.length]=r);else for(o in e)r=t(e[o],o,i),null!=r&&(l[l.length]=r);return tt.apply([],l)},guid:1,proxy:function(e,n){var i,r,o;return"string"==typeof n&&(o=e[n],n=e,e=o),lt.isFunction(e)?(i=it.call(arguments,2),r=function(){return e.apply(n||this,i.concat(it.call(arguments)))},r.guid=e.guid=e.guid||lt.guid++,r):t},access:function(e,n,i,r,o,a,s){var l=0,c=e.length,u=null==i;if("object"===lt.type(i)){o=!0;for(l in i)lt.access(e,n,l,i[l],!0,a,s)}else if(r!==t&&(o=!0,lt.isFunction(r)||(s=!0),u&&(s?(n.call(e,r),n=null):(u=n,n=function(e,t,n){return u.call(lt(e),n)})),n))for(;c>l;l++)n(e[l],i,s?r:r.call(e[l],l,n(e[l],i)));return o?e:u?n.call(e):c?n(e[0],i):a},now:function(){return(new Date).getTime()}}),lt.ready.promise=function(t){if(!q)if(q=lt.Deferred(),"complete"===G.readyState)setTimeout(lt.ready);else if(G.addEventListener)G.addEventListener("DOMContentLoaded",xt,!1),e.addEventListener("load",xt,!1);else{G.attachEvent("onreadystatechange",xt),e.attachEvent("onload",xt);var n=!1;try{n=null==e.frameElement&&G.documentElement}catch(i){}n&&n.doScroll&&function r(){if(!lt.isReady){try{n.doScroll("left")}catch(e){return setTimeout(r,50)}kt(),lt.ready()}}()}return q.promise(t)},lt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){X["[object "+t+"]"]=t.toLowerCase()}),Q=lt(G);var _t={};lt.Callbacks=function(e){e="string"==typeof e?_t[e]||i(e):lt.extend({},e);var n,r,o,a,s,l,c=[],u=!e.once&&[],d=function(t){for(r=e.memory&&t,o=!0,s=l||0,l=0,a=c.length,n=!0;c&&a>s;s++)if(c[s].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}n=!1,c&&(u?u.length&&d(u.shift()):r?c=[]:h.disable())},h={add:function(){if(c){var t=c.length;(function i(t){lt.each(t,function(t,n){var r=lt.type(n);"function"===r?e.unique&&h.has(n)||c.push(n):n&&n.length&&"string"!==r&&i(n)})})(arguments),n?a=c.length:r&&(l=t,d(r))}return this},remove:function(){return c&&lt.each(arguments,function(e,t){for(var i;(i=lt.inArray(t,c,i))>-1;)c.splice(i,1),n&&(a>=i&&a--,s>=i&&s--)}),this},has:function(e){return e?lt.inArray(e,c)>-1:!(!c||!c.length)},empty:function(){return c=[],this},disable:function(){return c=u=r=t,this},disabled:function(){return!c},lock:function(){return u=t,r||h.disable(),this},locked:function(){return!u},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!c||o&&!u||(n?u.push(t):d(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!o}};return h},lt.extend({Deferred:function(e){var t=[["resolve","done",lt.Callbacks("once memory"),"resolved"],["reject","fail",lt.Callbacks("once memory"),"rejected"],["notify","progress",lt.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return lt.Deferred(function(n){lt.each(t,function(t,o){var a=o[0],s=lt.isFunction(e[t])&&e[t];r[o[1]](function(){var e=s&&s.apply(this,arguments);e&&lt.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===i?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?lt.extend(e,i):i}},r={};return i.pipe=i.then,lt.each(t,function(e,o){var a=o[2],s=o[3];i[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=a.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=it.call(arguments),a=o.length,s=1!==a||e&&lt.isFunction(e.promise)?a:0,l=1===s?e:lt.Deferred(),c=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?it.call(arguments):r,i===t?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(a>1)for(t=Array(a),n=Array(a),i=Array(a);a>r;r++)o[r]&&lt.isFunction(o[r].promise)?o[r].promise().done(c(r,i,o)).fail(l.reject).progress(c(r,n,t)):--s;return s||l.resolveWith(i,o),l.promise()}}),lt.support=function(){var t,n,i,r,o,a,s,l,c,u,d=G.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*"),i=d.getElementsByTagName("a")[0],!n||!i||!n.length)return{};o=G.createElement("select"),s=o.appendChild(G.createElement("option")),r=d.getElementsByTagName("input")[0],i.style.cssText="top:1px;float:left;opacity:.5",t={getSetAttribute:"t"!==d.className,leadingWhitespace:3===d.firstChild.nodeType,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/top/.test(i.getAttribute("style")),hrefNormalized:"/a"===i.getAttribute("href"),opacity:/^0.5/.test(i.style.opacity),cssFloat:!!i.style.cssFloat,checkOn:!!r.value,optSelected:s.selected,enctype:!!G.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==G.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===G.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},r.checked=!0,t.noCloneChecked=r.cloneNode(!0).checked,o.disabled=!0,t.optDisabled=!s.disabled;try{delete d.test}catch(h){t.deleteExpando=!1}r=G.createElement("input"),r.setAttribute("value",""),t.input=""===r.getAttribute("value"),r.value="t",r.setAttribute("type","radio"),t.radioValue="t"===r.value,r.setAttribute("checked","t"),r.setAttribute("name","t"),a=G.createDocumentFragment(),a.appendChild(r),t.appendChecked=r.checked,t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1}),d.cloneNode(!0).click());for(u in{submit:!0,change:!0,focusin:!0})d.setAttribute(l="on"+u,"t"),t[u+"Bubbles"]=l in e||d.attributes[l].expando===!1;return d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===d.style.backgroundClip,lt(function(){var n,i,r,o="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",a=G.getElementsByTagName("body")[0];a&&(n=G.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(n).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=d.getElementsByTagName("td"),r[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",t.reliableHiddenOffsets=c&&0===r[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===d.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==a.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(d,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(d,null)||{width:"4px"}).width,i=d.appendChild(G.createElement("div")),i.style.cssText=d.style.cssText=o,i.style.marginRight=i.style.width="0",d.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight)),typeof d.style.zoom!==V&&(d.innerHTML="",d.style.cssText=o+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==d.offsetWidth,t.inlineBlockNeedsLayout&&(a.style.zoom=1)),a.removeChild(n),n=d=r=i=null)}),n=o=a=s=i=r=null,t}();var Ct=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,St=/([A-Z])/g;lt.extend({cache:{},expando:"jQuery"+(et+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?lt.cache[e[lt.expando]]:e[lt.expando],!!e&&!s(e)},data:function(e,t,n){return r(e,t,n)},removeData:function(e,t){return o(e,t)},_data:function(e,t,n){return r(e,t,n,!0)},_removeData:function(e,t){return o(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&lt.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),lt.fn.extend({data:function(e,n){var i,r,o=this[0],s=0,l=null;if(e===t){if(this.length&&(l=lt.data(o),1===o.nodeType&&!lt._data(o,"parsedAttrs"))){for(i=o.attributes;i.length>s;s++)r=i[s].name,r.indexOf("data-")||(r=lt.camelCase(r.slice(5)),a(o,r,l[r]));lt._data(o,"parsedAttrs",!0)}return l}return"object"==typeof e?this.each(function(){lt.data(this,e)}):lt.access(this,function(n){return n===t?o?a(o,e,lt.data(o,e)):null:(this.each(function(){lt.data(this,e,n)}),t)},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){lt.removeData(this,e)})}}),lt.extend({queue:function(e,n,i){var r;return e?(n=(n||"fx")+"queue",r=lt._data(e,n),i&&(!r||lt.isArray(i)?r=lt._data(e,n,lt.makeArray(i)):r.push(i)),r||[]):t},dequeue:function(e,t){t=t||"fx";var n=lt.queue(e,t),i=n.length,r=n.shift(),o=lt._queueHooks(e,t),a=function(){lt.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),o.cur=r,r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return lt._data(e,n)||lt._data(e,n,{empty:lt.Callbacks("once memory").add(function(){lt._removeData(e,t+"queue"),lt._removeData(e,n)})})}}),lt.fn.extend({queue:function(e,n){var i=2;return"string"!=typeof e&&(n=e,e="fx",i--),i>arguments.length?lt.queue(this[0],e):n===t?this:this.each(function(){var t=lt.queue(this,e,n);lt._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&lt.dequeue(this,e)})},dequeue:function(e){return this.each(function(){lt.dequeue(this,e)})},delay:function(e,t){return e=lt.fx?lt.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var i,r=1,o=lt.Deferred(),a=this,s=this.length,l=function(){--r||o.resolveWith(a,[a])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";s--;)i=lt._data(a[s],e+"queueHooks"),i&&i.empty&&(r++,i.empty.add(l));return l(),o.promise(n)}});var Tt,Dt,Mt=/[\t\r\n]/g,Et=/\r/g,Nt=/^(?:input|select|textarea|button|object)$/i,At=/^(?:a|area)$/i,It=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,Pt=/^(?:checked|selected)$/i,jt=lt.support.getSetAttribute,Lt=lt.support.input;lt.fn.extend({attr:function(e,t){return lt.access(this,lt.attr,e,t,arguments.length>1)
},removeAttr:function(e){return this.each(function(){lt.removeAttr(this,e)})},prop:function(e,t){return lt.access(this,lt.prop,e,t,arguments.length>1)},removeProp:function(e){return e=lt.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,i,r,o,a=0,s=this.length,l="string"==typeof e&&e;if(lt.isFunction(e))return this.each(function(t){lt(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ut)||[];s>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Mt," "):" ")){for(o=0;r=t[o++];)0>i.indexOf(" "+r+" ")&&(i+=r+" ");n.className=lt.trim(i)}return this},removeClass:function(e){var t,n,i,r,o,a=0,s=this.length,l=0===arguments.length||"string"==typeof e&&e;if(lt.isFunction(e))return this.each(function(t){lt(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ut)||[];s>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Mt," "):"")){for(o=0;r=t[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");n.className=e?lt.trim(i):""}return this},toggleClass:function(e,t){var n=typeof e,i="boolean"==typeof t;return lt.isFunction(e)?this.each(function(n){lt(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var r,o=0,a=lt(this),s=t,l=e.match(ut)||[];r=l[o++];)s=i?s:!a.hasClass(r),a[s?"addClass":"removeClass"](r);else(n===V||"boolean"===n)&&(this.className&&lt._data(this,"__className__",this.className),this.className=this.className||e===!1?"":lt._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Mt," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,i,r,o=this[0];{if(arguments.length)return r=lt.isFunction(e),this.each(function(n){var o,a=lt(this);1===this.nodeType&&(o=r?e.call(this,n,a.val()):e,null==o?o="":"number"==typeof o?o+="":lt.isArray(o)&&(o=lt.map(o,function(e){return null==e?"":e+""})),i=lt.valHooks[this.type]||lt.valHooks[this.nodeName.toLowerCase()],i&&"set"in i&&i.set(this,o,"value")!==t||(this.value=o))});if(o)return i=lt.valHooks[o.type]||lt.valHooks[o.nodeName.toLowerCase()],i&&"get"in i&&(n=i.get(o,"value"))!==t?n:(n=o.value,"string"==typeof n?n.replace(Et,""):null==n?"":n)}}}),lt.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||0>r,a=o?null:[],s=o?r+1:i.length,l=0>r?s:o?r:0;s>l;l++)if(n=i[l],!(!n.selected&&l!==r||(lt.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&lt.nodeName(n.parentNode,"optgroup"))){if(t=lt(n).val(),o)return t;a.push(t)}return a},set:function(e,t){var n=lt.makeArray(t);return lt(e).find("option").each(function(){this.selected=lt.inArray(lt(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attr:function(e,n,i){var r,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===V?lt.prop(e,n,i):(o=1!==s||!lt.isXMLDoc(e),o&&(n=n.toLowerCase(),r=lt.attrHooks[n]||(It.test(n)?Dt:Tt)),i===t?r&&o&&"get"in r&&null!==(a=r.get(e,n))?a:(typeof e.getAttribute!==V&&(a=e.getAttribute(n)),null==a?t:a):null!==i?r&&o&&"set"in r&&(a=r.set(e,i,n))!==t?a:(e.setAttribute(n,i+""),i):(lt.removeAttr(e,n),t))},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(ut);if(o&&1===e.nodeType)for(;n=o[r++];)i=lt.propFix[n]||n,It.test(n)?!jt&&Pt.test(n)?e[lt.camelCase("default-"+n)]=e[i]=!1:e[i]=!1:lt.attr(e,n,""),e.removeAttribute(jt?n:i)},attrHooks:{type:{set:function(e,t){if(!lt.support.radioValue&&"radio"===t&&lt.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,i){var r,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!lt.isXMLDoc(e),a&&(n=lt.propFix[n]||n,o=lt.propHooks[n]),i!==t?o&&"set"in o&&(r=o.set(e,i,n))!==t?r:e[n]=i:o&&"get"in o&&null!==(r=o.get(e,n))?r:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):Nt.test(e.nodeName)||At.test(e.nodeName)&&e.href?0:t}}}}),Dt={get:function(e,n){var i=lt.prop(e,n),r="boolean"==typeof i&&e.getAttribute(n),o="boolean"==typeof i?Lt&&jt?null!=r:Pt.test(n)?e[lt.camelCase("default-"+n)]:!!r:e.getAttributeNode(n);return o&&o.value!==!1?n.toLowerCase():t},set:function(e,t,n){return t===!1?lt.removeAttr(e,n):Lt&&jt||!Pt.test(n)?e.setAttribute(!jt&&lt.propFix[n]||n,n):e[lt.camelCase("default-"+n)]=e[n]=!0,n}},Lt&&jt||(lt.attrHooks.value={get:function(e,n){var i=e.getAttributeNode(n);return lt.nodeName(e,"input")?e.defaultValue:i&&i.specified?i.value:t},set:function(e,n,i){return lt.nodeName(e,"input")?(e.defaultValue=n,t):Tt&&Tt.set(e,n,i)}}),jt||(Tt=lt.valHooks.button={get:function(e,n){var i=e.getAttributeNode(n);return i&&("id"===n||"name"===n||"coords"===n?""!==i.value:i.specified)?i.value:t},set:function(e,n,i){var r=e.getAttributeNode(i);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(i)),r.value=n+="","value"===i||n===e.getAttribute(i)?n:t}},lt.attrHooks.contenteditable={get:Tt.get,set:function(e,t,n){Tt.set(e,""===t?!1:t,n)}},lt.each(["width","height"],function(e,n){lt.attrHooks[n]=lt.extend(lt.attrHooks[n],{set:function(e,i){return""===i?(e.setAttribute(n,"auto"),i):t}})})),lt.support.hrefNormalized||(lt.each(["href","src","width","height"],function(e,n){lt.attrHooks[n]=lt.extend(lt.attrHooks[n],{get:function(e){var i=e.getAttribute(n,2);return null==i?t:i}})}),lt.each(["href","src"],function(e,t){lt.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),lt.support.style||(lt.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),lt.support.optSelected||(lt.propHooks.selected=lt.extend(lt.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),lt.support.enctype||(lt.propFix.enctype="encoding"),lt.support.checkOn||lt.each(["radio","checkbox"],function(){lt.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),lt.each(["radio","checkbox"],function(){lt.valHooks[this]=lt.extend(lt.valHooks[this],{set:function(e,n){return lt.isArray(n)?e.checked=lt.inArray(lt(e).val(),n)>=0:t}})});var Rt=/^(?:input|select|textarea)$/i,Ot=/^key/,Ft=/^(?:mouse|contextmenu)|click/,Ht=/^(?:focusinfocus|focusoutblur)$/,Bt=/^([^.]*)(?:\.(.+)|)$/;lt.event={global:{},add:function(e,n,i,r,o){var a,s,l,c,u,d,h,f,p,m,g,v=lt._data(e);if(v){for(i.handler&&(c=i,i=c.handler,o=c.selector),i.guid||(i.guid=lt.guid++),(s=v.events)||(s=v.events={}),(d=v.handle)||(d=v.handle=function(e){return typeof lt===V||e&&lt.event.triggered===e.type?t:lt.event.dispatch.apply(d.elem,arguments)},d.elem=e),n=(n||"").match(ut)||[""],l=n.length;l--;)a=Bt.exec(n[l])||[],p=g=a[1],m=(a[2]||"").split(".").sort(),u=lt.event.special[p]||{},p=(o?u.delegateType:u.bindType)||p,u=lt.event.special[p]||{},h=lt.extend({type:p,origType:g,data:r,handler:i,guid:i.guid,selector:o,needsContext:o&&lt.expr.match.needsContext.test(o),namespace:m.join(".")},c),(f=s[p])||(f=s[p]=[],f.delegateCount=0,u.setup&&u.setup.call(e,r,m,d)!==!1||(e.addEventListener?e.addEventListener(p,d,!1):e.attachEvent&&e.attachEvent("on"+p,d))),u.add&&(u.add.call(e,h),h.handler.guid||(h.handler.guid=i.guid)),o?f.splice(f.delegateCount++,0,h):f.push(h),lt.event.global[p]=!0;e=null}},remove:function(e,t,n,i,r){var o,a,s,l,c,u,d,h,f,p,m,g=lt.hasData(e)&&lt._data(e);if(g&&(u=g.events)){for(t=(t||"").match(ut)||[""],c=t.length;c--;)if(s=Bt.exec(t[c])||[],f=m=s[1],p=(s[2]||"").split(".").sort(),f){for(d=lt.event.special[f]||{},f=(i?d.delegateType:d.bindType)||f,h=u[f]||[],s=s[2]&&RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=h.length;o--;)a=h[o],!r&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||i&&i!==a.selector&&("**"!==i||!a.selector)||(h.splice(o,1),a.selector&&h.delegateCount--,d.remove&&d.remove.call(e,a));l&&!h.length&&(d.teardown&&d.teardown.call(e,p,g.handle)!==!1||lt.removeEvent(e,f,g.handle),delete u[f])}else for(f in u)lt.event.remove(e,f+t[c],n,i,!0);lt.isEmptyObject(u)&&(delete g.handle,lt._removeData(e,"events"))}},trigger:function(n,i,r,o){var a,s,l,c,u,d,h,f=[r||G],p=at.call(n,"type")?n.type:n,m=at.call(n,"namespace")?n.namespace.split("."):[];if(l=d=r=r||G,3!==r.nodeType&&8!==r.nodeType&&!Ht.test(p+lt.event.triggered)&&(p.indexOf(".")>=0&&(m=p.split("."),p=m.shift(),m.sort()),s=0>p.indexOf(":")&&"on"+p,n=n[lt.expando]?n:new lt.Event(p,"object"==typeof n&&n),n.isTrigger=!0,n.namespace=m.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=r),i=null==i?[n]:lt.makeArray(i,[n]),u=lt.event.special[p]||{},o||!u.trigger||u.trigger.apply(r,i)!==!1)){if(!o&&!u.noBubble&&!lt.isWindow(r)){for(c=u.delegateType||p,Ht.test(c+p)||(l=l.parentNode);l;l=l.parentNode)f.push(l),d=l;d===(r.ownerDocument||G)&&f.push(d.defaultView||d.parentWindow||e)}for(h=0;(l=f[h++])&&!n.isPropagationStopped();)n.type=h>1?c:u.bindType||p,a=(lt._data(l,"events")||{})[n.type]&&lt._data(l,"handle"),a&&a.apply(l,i),a=s&&l[s],a&&lt.acceptData(l)&&a.apply&&a.apply(l,i)===!1&&n.preventDefault();if(n.type=p,!(o||n.isDefaultPrevented()||u._default&&u._default.apply(r.ownerDocument,i)!==!1||"click"===p&&lt.nodeName(r,"a")||!lt.acceptData(r)||!s||!r[p]||lt.isWindow(r))){d=r[s],d&&(r[s]=null),lt.event.triggered=p;try{r[p]()}catch(g){}lt.event.triggered=t,d&&(r[s]=d)}return n.result}},dispatch:function(e){e=lt.event.fix(e);var n,i,r,o,a,s=[],l=it.call(arguments),c=(lt._data(this,"events")||{})[e.type]||[],u=lt.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(s=lt.event.handlers.call(this,e,c),n=0;(o=s[n++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,a=0;(r=o.handlers[a++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,i=((lt.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,l),i!==t&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,n){var i,r,o,a,s=[],l=n.delegateCount,c=e.target;if(l&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==e.type)){for(o=[],a=0;l>a;a++)r=n[a],i=r.selector+" ",o[i]===t&&(o[i]=r.needsContext?lt(i,this).index(c)>=0:lt.find(i,this,null,[c]).length),o[i]&&o.push(r);o.length&&s.push({elem:c,handlers:o})}return n.length>l&&s.push({elem:this,handlers:n.slice(l)}),s},fix:function(e){if(e[lt.expando])return e;var t,n,i,r=e.type,o=e,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=Ft.test(r)?this.mouseHooks:Ot.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new lt.Event(o),t=i.length;t--;)n=i[t],e[n]=o[n];return e.target||(e.target=o.srcElement||G),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var i,r,o,a=n.button,s=n.fromElement;return null==e.pageX&&null!=n.clientX&&(r=e.target.ownerDocument||G,o=r.documentElement,i=r.body,e.pageX=n.clientX+(o&&o.scrollLeft||i&&i.scrollLeft||0)-(o&&o.clientLeft||i&&i.clientLeft||0),e.pageY=n.clientY+(o&&o.scrollTop||i&&i.scrollTop||0)-(o&&o.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?n.toElement:s),e.which||a===t||(e.which=1&a?1:2&a?3:4&a?2:0),e}},special:{load:{noBubble:!0},click:{trigger:function(){return lt.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):t}},focus:{trigger:function(){if(this!==G.activeElement&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===G.activeElement&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=lt.extend(new lt.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?lt.event.trigger(r,null,t):lt.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},lt.removeEvent=G.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(typeof e[i]===V&&(e[i]=null),e.detachEvent(i,n))},lt.Event=function(e,n){return this instanceof lt.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?l:c):this.type=e,n&&lt.extend(this,n),this.timeStamp=e&&e.timeStamp||lt.now(),this[lt.expando]=!0,t):new lt.Event(e,n)},lt.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},lt.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){lt.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return(!r||r!==i&&!lt.contains(i,r))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),lt.support.submitBubbles||(lt.event.special.submit={setup:function(){return lt.nodeName(this,"form")?!1:(lt.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,i=lt.nodeName(n,"input")||lt.nodeName(n,"button")?n.form:t;i&&!lt._data(i,"submitBubbles")&&(lt.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),lt._data(i,"submitBubbles",!0))}),t)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&lt.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return lt.nodeName(this,"form")?!1:(lt.event.remove(this,"._submit"),t)}}),lt.support.changeBubbles||(lt.event.special.change={setup:function(){return Rt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(lt.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),lt.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),lt.event.simulate("change",this,e,!0)})),!1):(lt.event.add(this,"beforeactivate._change",function(e){var t=e.target;Rt.test(t.nodeName)&&!lt._data(t,"changeBubbles")&&(lt.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||lt.event.simulate("change",this.parentNode,e,!0)}),lt._data(t,"changeBubbles",!0))}),t)},handle:function(e){var n=e.target;return this!==n||e.isSimulated||e.isTrigger||"radio"!==n.type&&"checkbox"!==n.type?e.handleObj.handler.apply(this,arguments):t},teardown:function(){return lt.event.remove(this,"._change"),!Rt.test(this.nodeName)}}),lt.support.focusinBubbles||lt.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,i=function(e){lt.event.simulate(t,e.target,lt.event.fix(e),!0)};lt.event.special[t]={setup:function(){0===n++&&G.addEventListener(e,i,!0)},teardown:function(){0===--n&&G.removeEventListener(e,i,!0)}}}),lt.fn.extend({on:function(e,n,i,r,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=t);for(a in e)this.on(a,n,i,e[a],o);return this}if(null==i&&null==r?(r=n,i=n=t):null==r&&("string"==typeof n?(r=i,i=t):(r=i,i=n,n=t)),r===!1)r=c;else if(!r)return this;return 1===o&&(s=r,r=function(e){return lt().off(e),s.apply(this,arguments)},r.guid=s.guid||(s.guid=lt.guid++)),this.each(function(){lt.event.add(this,e,r,i,n)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,n,i){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,lt(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=t),i===!1&&(i=c),this.each(function(){lt.event.remove(this,e,i,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){lt.event.trigger(e,t,this)})},triggerHandler:function(e,n){var i=this[0];return i?lt.event.trigger(e,n,i,!0):t}}),function(e,t){function n(e){return pt.test(e+"")}function i(){var e,t=[];return e=function(n,i){return t.push(n+=" ")>C.cacheLength&&delete e[t.shift()],e[n]=i}}function r(e){return e[H]=!0,e}function o(e){var t=A.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}}function a(e,t,n,i){var r,o,a,s,l,c,u,f,p,m;if((t?t.ownerDocument||t:B)!==A&&N(t),t=t||A,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(!P&&!i){if(r=mt.exec(e))if(a=r[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&O(t,o)&&o.id===a)return n.push(o),n}else{if(r[2])return J.apply(n,X.call(t.getElementsByTagName(e),0)),n;if((a=r[3])&&z.getByClassName&&t.getElementsByClassName)return J.apply(n,X.call(t.getElementsByClassName(a),0)),n}if(z.qsa&&!j.test(e)){if(u=!0,f=H,p=t,m=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=d(e),(u=t.getAttribute("id"))?f=u.replace(yt,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",l=c.length;l--;)c[l]=f+h(c[l]);p=ft.test(e)&&t.parentNode||t,m=c.join(",")}if(m)try{return J.apply(n,X.call(p.querySelectorAll(m),0)),n}catch(g){}finally{u||t.removeAttribute("id")}}}return w(e.replace(at,"$1"),t,n,i)}function s(e,t){var n=t&&e,i=n&&(~t.sourceIndex||G)-(~e.sourceIndex||G);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function l(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function c(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return r(function(t){return t=+t,r(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function d(e,t){var n,i,r,o,s,l,c,u=q[e+" "];if(u)return t?0:u.slice(0);for(s=e,l=[],c=C.preFilter;s;){(!n||(i=st.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),l.push(r=[])),n=!1,(i=ct.exec(s))&&(n=i.shift(),r.push({value:n,type:i[0].replace(at," ")}),s=s.slice(n.length));for(o in C.filter)!(i=ht[o].exec(s))||c[o]&&!(i=c[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?a.error(e):q(e,l).slice(0)}function h(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function f(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=$++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,a){var s,l,c,u=W+" "+o;if(a){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||r)if(c=t[H]||(t[H]={}),(l=c[i])&&l[0]===u){if((s=l[1])===!0||s===_)return s===!0}else if(l=c[i]=[u],l[1]=e(t,n,a)||_,l[1]===!0)return!0}}function p(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function m(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,c=null!=t;l>s;s++)(o=e[s])&&(!n||n(o,i,r))&&(a.push(o),c&&t.push(s));return a}function g(e,t,n,i,o,a){return i&&!i[H]&&(i=g(i)),o&&!o[H]&&(o=g(o,a)),r(function(r,a,s,l){var c,u,d,h=[],f=[],p=a.length,g=r||b(t||"*",s.nodeType?[s]:s,[]),v=!e||!r&&t?g:m(g,h,e,s,l),y=n?o||(r?e:p||i)?[]:a:v;if(n&&n(v,y,s,l),i)for(c=m(y,f),i(c,[],s,l),u=c.length;u--;)(d=c[u])&&(y[f[u]]=!(v[f[u]]=d));if(r){if(o||e){if(o){for(c=[],u=y.length;u--;)(d=y[u])&&c.push(v[u]=d);o(null,y=[],c,l)}for(u=y.length;u--;)(d=y[u])&&(c=o?Z.call(r,d):h[u])>-1&&(r[c]=!(a[c]=d))}}else y=m(y===a?y.splice(p,y.length):y),o?o(null,a,y,l):J.apply(a,y)})}function v(e){for(var t,n,i,r=e.length,o=C.relative[e[0].type],a=o||C.relative[" "],s=o?1:0,l=f(function(e){return e===t},a,!0),c=f(function(e){return Z.call(t,e)>-1},a,!0),u=[function(e,n,i){return!o&&(i||n!==E)||((t=n).nodeType?l(e,n,i):c(e,n,i))}];r>s;s++)if(n=C.relative[e[s].type])u=[f(p(u),n)];else{if(n=C.filter[e[s].type].apply(null,e[s].matches),n[H]){for(i=++s;r>i&&!C.relative[e[i].type];i++);return g(s>1&&p(u),s>1&&h(e.slice(0,s-1)).replace(at,"$1"),n,i>s&&v(e.slice(s,i)),r>i&&v(e=e.slice(i)),r>i&&h(e))}u.push(n)}return p(u)}function y(e,t){var n=0,i=t.length>0,o=e.length>0,s=function(r,s,l,c,u){var d,h,f,p=[],g=0,v="0",y=r&&[],b=null!=u,w=E,x=r||o&&C.find.TAG("*",u&&s.parentNode||s),k=W+=null==w?1:Math.random()||.1;for(b&&(E=s!==A&&s,_=n);null!=(d=x[v]);v++){if(o&&d){for(h=0;f=e[h++];)if(f(d,s,l)){c.push(d);break}b&&(W=k,_=++n)}i&&((d=!f&&d)&&g--,r&&y.push(d))}if(g+=v,i&&v!==g){for(h=0;f=t[h++];)f(y,p,s,l);if(r){if(g>0)for(;v--;)y[v]||p[v]||(p[v]=Y.call(c));p=m(p)}J.apply(c,p),b&&!r&&p.length>0&&g+t.length>1&&a.uniqueSort(c)}return b&&(W=k,E=w),y};return i?r(s):s}function b(e,t,n){for(var i=0,r=t.length;r>i;i++)a(e,t[i],n);return n}function w(e,t,n,i){var r,o,a,s,l,c=d(e);if(!i&&1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&9===t.nodeType&&!P&&C.relative[o[1].type]){if(t=C.find.ID(a.matches[0].replace(wt,xt),t)[0],!t)return n;e=e.slice(o.shift().value.length)}for(r=ht.needsContext.test(e)?0:o.length;r--&&(a=o[r],!C.relative[s=a.type]);)if((l=C.find[s])&&(i=l(a.matches[0].replace(wt,xt),ft.test(o[0].type)&&t.parentNode||t))){if(o.splice(r,1),e=i.length&&h(o),!e)return J.apply(n,X.call(i,0)),n;break}}return D(e,c)(i,t,P,n,ft.test(e)),n}function x(){}var k,_,C,S,T,D,M,E,N,A,I,P,j,L,R,O,F,H="sizzle"+-new Date,B=e.document,z={},W=0,$=0,U=i(),q=i(),Q=i(),V=typeof t,G=1<<31,K=[],Y=K.pop,J=K.push,X=K.slice,Z=K.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},et="[\\x20\\t\\r\\n\\f]",tt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",nt=tt.replace("w","w#"),it="([*^$|!~]?=)",rt="\\["+et+"*("+tt+")"+et+"*(?:"+it+et+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+nt+")|)|)"+et+"*\\]",ot=":("+tt+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+rt.replace(3,8)+")*)|.*)\\)|)",at=RegExp("^"+et+"+|((?:^|[^\\\\])(?:\\\\.)*)"+et+"+$","g"),st=RegExp("^"+et+"*,"+et+"*"),ct=RegExp("^"+et+"*([\\x20\\t\\r\\n\\f>+~])"+et+"*"),ut=RegExp(ot),dt=RegExp("^"+nt+"$"),ht={ID:RegExp("^#("+tt+")"),CLASS:RegExp("^\\.("+tt+")"),NAME:RegExp("^\\[name=['\"]?("+tt+")['\"]?\\]"),TAG:RegExp("^("+tt.replace("w","w*")+")"),ATTR:RegExp("^"+rt),PSEUDO:RegExp("^"+ot),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+et+"*(even|odd|(([+-]|)(\\d*)n|)"+et+"*(?:([+-]|)"+et+"*(\\d+)|))"+et+"*\\)|)","i"),needsContext:RegExp("^"+et+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+et+"*((?:-\\d)?\\d*)"+et+"*\\)|)(?=[^-]|$)","i")},ft=/[\x20\t\r\n\f]*[+~]/,pt=/^[^{]+\{\s*\[native code/,mt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,gt=/^(?:input|select|textarea|button)$/i,vt=/^h\d$/i,yt=/'|\\/g,bt=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,wt=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,xt=function(e,t){var n="0x"+t-65536;return n!==n?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(55296|n>>10,56320|1023&n)};try{X.call(B.documentElement.childNodes,0)[0].nodeType}catch(kt){X=function(e){for(var t,n=[];t=this[e++];)n.push(t);return n}}T=a.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},N=a.setDocument=function(e){var i=e?e.ownerDocument||e:B;return i!==A&&9===i.nodeType&&i.documentElement?(A=i,I=i.documentElement,P=T(i),z.tagNameNoComments=o(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),z.attributes=o(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),z.getByClassName=o(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),z.getByName=o(function(e){e.id=H+0,e.innerHTML="<a name='"+H+"'></a><div name='"+H+"'></div>",I.insertBefore(e,I.firstChild);var t=i.getElementsByName&&i.getElementsByName(H).length===2+i.getElementsByName(H+0).length;return z.getIdNotName=!i.getElementById(H),I.removeChild(e),t}),C.attrHandle=o(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==V&&"#"===e.firstChild.getAttribute("href")})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},z.getIdNotName?(C.find.ID=function(e,t){if(typeof t.getElementById!==V&&!P){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},C.filter.ID=function(e){var t=e.replace(wt,xt);return function(e){return e.getAttribute("id")===t}}):(C.find.ID=function(e,n){if(typeof n.getElementById!==V&&!P){var i=n.getElementById(e);return i?i.id===e||typeof i.getAttributeNode!==V&&i.getAttributeNode("id").value===e?[i]:t:[]}},C.filter.ID=function(e){var t=e.replace(wt,xt);return function(e){var n=typeof e.getAttributeNode!==V&&e.getAttributeNode("id");return n&&n.value===t}}),C.find.TAG=z.tagNameNoComments?function(e,n){return typeof n.getElementsByTagName!==V?n.getElementsByTagName(e):t}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},C.find.NAME=z.getByName&&function(e,n){return typeof n.getElementsByName!==V?n.getElementsByName(name):t},C.find.CLASS=z.getByClassName&&function(e,n){return typeof n.getElementsByClassName===V||P?t:n.getElementsByClassName(e)},L=[],j=[":focus"],(z.qsa=n(i.querySelectorAll))&&(o(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||j.push("\\["+et+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||j.push(":checked")}),o(function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&j.push("[*^$]="+et+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||j.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),j.push(",.*:")})),(z.matchesSelector=n(R=I.matchesSelector||I.mozMatchesSelector||I.webkitMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&o(function(e){z.disconnectedMatch=R.call(e,"div"),R.call(e,"[s!='']:x"),L.push("!=",ot)}),j=RegExp(j.join("|")),L=RegExp(L.join("|")),O=n(I.contains)||I.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},F=I.compareDocumentPosition?function(e,t){var n;return e===t?(M=!0,0):(n=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t))?1&n||e.parentNode&&11===e.parentNode.nodeType?e===i||O(B,e)?-1:t===i||O(B,t)?1:0:4&n?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var n,r=0,o=e.parentNode,a=t.parentNode,l=[e],c=[t];if(e===t)return M=!0,0;if(!o||!a)return e===i?-1:t===i?1:o?-1:a?1:0;if(o===a)return s(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;l[r]===c[r];)r++;return r?s(l[r],c[r]):l[r]===B?-1:c[r]===B?1:0},M=!1,[0,0].sort(F),z.detectDuplicates=M,A):A},a.matches=function(e,t){return a(e,null,null,t)},a.matchesSelector=function(e,t){if((e.ownerDocument||e)!==A&&N(e),t=t.replace(bt,"='$1']"),!(!z.matchesSelector||P||L&&L.test(t)||j.test(t)))try{var n=R.call(e,t);if(n||z.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(i){}return a(t,A,null,[e]).length>0},a.contains=function(e,t){return(e.ownerDocument||e)!==A&&N(e),O(e,t)},a.attr=function(e,t){var n;return(e.ownerDocument||e)!==A&&N(e),P||(t=t.toLowerCase()),(n=C.attrHandle[t])?n(e):P||z.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&&e[t]===!0?t:n&&n.specified?n.value:null},a.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},a.uniqueSort=function(e){var t,n=[],i=1,r=0;if(M=!z.detectDuplicates,e.sort(F),M){for(;t=e[i];i++)t===e[i-1]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return e},S=a.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=S(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i];i++)n+=S(t);return n},C=a.selectors={cacheLength:50,createPseudo:r,match:ht,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(wt,xt),e[3]=(e[4]||e[5]||"").replace(wt,xt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||a.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&a.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return ht.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&ut.test(n)&&(t=d(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(wt,xt).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=U[e+" "];return t||(t=RegExp("(^|"+et+")"+e+"("+et+"|$)"))&&U(e,function(e){return t.test(e.className||typeof e.getAttribute!==V&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(i){var r=a.attr(i,e);return null==r?"!="===t:t?(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r+" ").indexOf(n)>-1:"|="===t?r===n||r.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,h,f,p,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&y){for(u=g[H]||(g[H]={}),c=u[e]||[],f=c[0]===W&&c[1],h=c[0]===W&&c[2],d=f&&g.childNodes[f];d=++f&&d&&d[m]||(h=f=0)||p.pop();)if(1===d.nodeType&&++h&&d===t){u[e]=[W,f,h];break}}else if(y&&(c=(t[H]||(t[H]={}))[e])&&c[0]===W)h=c[1];else for(;(d=++f&&d&&d[m]||(h=f=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(y&&((d[H]||(d[H]={}))[e]=[W,h]),d!==t)););return h-=r,h===i||0===h%i&&h/i>=0}}},PSEUDO:function(e,t){var n,i=C.pseudos[e]||C.setFilters[e.toLowerCase()]||a.error("unsupported pseudo: "+e);return i[H]?i(t):i.length>1?(n=[e,e,"",t],C.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,n){for(var r,o=i(e,t),a=o.length;a--;)r=Z.call(e,o[a]),e[r]=!(n[r]=o[a])
}):function(e){return i(e,0,n)}):i}},pseudos:{not:r(function(e){var t=[],n=[],i=D(e.replace(at,"$1"));return i[H]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),!n.pop()}}),has:r(function(e){return function(t){return a(e,t).length>0}}),contains:r(function(e){return function(t){return(t.textContent||t.innerText||S(t)).indexOf(e)>-1}}),lang:r(function(e){return dt.test(e||"")||a.error("unsupported lang: "+e),e=e.replace(wt,xt).toLowerCase(),function(t){var n;do if(n=P?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===I},focus:function(e){return e===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!C.pseudos.empty(e)},header:function(e){return vt.test(e.nodeName)},input:function(e){return gt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:u(function(e,t,n){for(var i=0>n?n+t:n;t>++i;)e.push(i);return e})}};for(k in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[k]=l(k);for(k in{submit:!0,reset:!0})C.pseudos[k]=c(k);D=a.compile=function(e,t){var n,i=[],r=[],o=Q[e+" "];if(!o){for(t||(t=d(e)),n=t.length;n--;)o=v(t[n]),o[H]?i.push(o):r.push(o);o=Q(e,y(r,i))}return o},C.pseudos.nth=C.pseudos.eq,C.filters=x.prototype=C.pseudos,C.setFilters=new x,N(),a.attr=lt.attr,lt.find=a,lt.expr=a.selectors,lt.expr[":"]=lt.expr.pseudos,lt.unique=a.uniqueSort,lt.text=a.getText,lt.isXMLDoc=a.isXML,lt.contains=a.contains}(e);var zt=/Until$/,Wt=/^(?:parents|prev(?:Until|All))/,$t=/^.[^:#\[\.,]*$/,Ut=lt.expr.match.needsContext,qt={children:!0,contents:!0,next:!0,prev:!0};lt.fn.extend({find:function(e){var t,n,i,r=this.length;if("string"!=typeof e)return i=this,this.pushStack(lt(e).filter(function(){for(t=0;r>t;t++)if(lt.contains(i[t],this))return!0}));for(n=[],t=0;r>t;t++)lt.find(e,this[t],n);return n=this.pushStack(r>1?lt.unique(n):n),n.selector=(this.selector?this.selector+" ":"")+e,n},has:function(e){var t,n=lt(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(lt.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(d(this,e,!1))},filter:function(e){return this.pushStack(d(this,e,!0))},is:function(e){return!!e&&("string"==typeof e?Ut.test(e)?lt(e,this.context).index(this[0])>=0:lt.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var n,i=0,r=this.length,o=[],a=Ut.test(e)||"string"!=typeof e?lt(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n.ownerDocument&&n!==t&&11!==n.nodeType;){if(a?a.index(n)>-1:lt.find.matchesSelector(n,e)){o.push(n);break}n=n.parentNode}return this.pushStack(o.length>1?lt.unique(o):o)},index:function(e){return e?"string"==typeof e?lt.inArray(this[0],lt(e)):lt.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?lt(e,t):lt.makeArray(e&&e.nodeType?[e]:e),i=lt.merge(this.get(),n);return this.pushStack(lt.unique(i))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),lt.fn.andSelf=lt.fn.addBack,lt.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return lt.dir(e,"parentNode")},parentsUntil:function(e,t,n){return lt.dir(e,"parentNode",n)},next:function(e){return u(e,"nextSibling")},prev:function(e){return u(e,"previousSibling")},nextAll:function(e){return lt.dir(e,"nextSibling")},prevAll:function(e){return lt.dir(e,"previousSibling")},nextUntil:function(e,t,n){return lt.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return lt.dir(e,"previousSibling",n)},siblings:function(e){return lt.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return lt.sibling(e.firstChild)},contents:function(e){return lt.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:lt.merge([],e.childNodes)}},function(e,t){lt.fn[e]=function(n,i){var r=lt.map(this,t,n);return zt.test(e)||(i=n),i&&"string"==typeof i&&(r=lt.filter(i,r)),r=this.length>1&&!qt[e]?lt.unique(r):r,this.length>1&&Wt.test(e)&&(r=r.reverse()),this.pushStack(r)}}),lt.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?lt.find.matchesSelector(t[0],e)?[t[0]]:[]:lt.find.matches(e,t)},dir:function(e,n,i){for(var r=[],o=e[n];o&&9!==o.nodeType&&(i===t||1!==o.nodeType||!lt(o).is(i));)1===o.nodeType&&r.push(o),o=o[n];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var Qt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Vt=/ jQuery\d+="(?:null|\d+)"/g,Gt=RegExp("<(?:"+Qt+")[\\s/>]","i"),Kt=/^\s+/,Yt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Jt=/<([\w:]+)/,Xt=/<tbody/i,Zt=/<|&#?\w+;/,en=/<(?:script|style|link)/i,tn=/^(?:checkbox|radio)$/i,nn=/checked\s*(?:[^=]|=\s*.checked.)/i,rn=/^$|\/(?:java|ecma)script/i,on=/^true\/(.*)/,an=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,sn={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:lt.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ln=h(G),cn=ln.appendChild(G.createElement("div"));sn.optgroup=sn.option,sn.tbody=sn.tfoot=sn.colgroup=sn.caption=sn.thead,sn.th=sn.td,lt.fn.extend({text:function(e){return lt.access(this,function(e){return e===t?lt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||G).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(lt.isFunction(e))return this.each(function(t){lt(this).wrapAll(e.call(this,t))});if(this[0]){var t=lt(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return lt.isFunction(e)?this.each(function(t){lt(this).wrapInner(e.call(this,t))}):this.each(function(){var t=lt(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=lt.isFunction(e);return this.each(function(n){lt(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){lt.nodeName(this,"body")||lt(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=0;null!=(n=this[i]);i++)(!e||lt.filter(e,[n]).length>0)&&(t||1!==n.nodeType||lt.cleanData(b(n)),n.parentNode&&(t&&lt.contains(n.ownerDocument,n)&&g(b(n,"script")),n.parentNode.removeChild(n)));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&lt.cleanData(b(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&lt.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return lt.clone(this,e,t)})},html:function(e){return lt.access(this,function(e){var n=this[0]||{},i=0,r=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(Vt,""):t;if(!("string"!=typeof e||en.test(e)||!lt.support.htmlSerialize&&Gt.test(e)||!lt.support.leadingWhitespace&&Kt.test(e)||sn[(Jt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Yt,"<$1></$2>");try{for(;r>i;i++)n=this[i]||{},1===n.nodeType&&(lt.cleanData(b(n,!1)),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){var t=lt.isFunction(e);return t||"string"==typeof e||(e=lt(e).not(this).detach()),this.domManip([e],!0,function(e){var t=this.nextSibling,n=this.parentNode;n&&(lt(this).remove(),n.insertBefore(e,t))})},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,i){e=tt.apply([],e);var r,o,a,s,l,c,u=0,d=this.length,h=this,g=d-1,v=e[0],y=lt.isFunction(v);if(y||!(1>=d||"string"!=typeof v||lt.support.checkClone)&&nn.test(v))return this.each(function(r){var o=h.eq(r);y&&(e[0]=v.call(this,r,n?o.html():t)),o.domManip(e,n,i)});if(d&&(c=lt.buildFragment(e,this[0].ownerDocument,!1,this),r=c.firstChild,1===c.childNodes.length&&(c=r),r)){for(n=n&&lt.nodeName(r,"tr"),s=lt.map(b(c,"script"),p),a=s.length;d>u;u++)o=c,u!==g&&(o=lt.clone(o,!0,!0),a&&lt.merge(s,b(o,"script"))),i.call(n&&lt.nodeName(this[u],"table")?f(this[u],"tbody"):this[u],o,u);if(a)for(l=s[s.length-1].ownerDocument,lt.map(s,m),u=0;a>u;u++)o=s[u],rn.test(o.type||"")&&!lt._data(o,"globalEval")&&lt.contains(l,o)&&(o.src?lt.ajax({url:o.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):lt.globalEval((o.text||o.textContent||o.innerHTML||"").replace(an,"")));c=r=null}return this}}),lt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){lt.fn[e]=function(e){for(var n,i=0,r=[],o=lt(e),a=o.length-1;a>=i;i++)n=i===a?this:this.clone(!0),lt(o[i])[t](n),nt.apply(r,n.get());return this.pushStack(r)}}),lt.extend({clone:function(e,t,n){var i,r,o,a,s,l=lt.contains(e.ownerDocument,e);if(lt.support.html5Clone||lt.isXMLDoc(e)||!Gt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(cn.innerHTML=e.outerHTML,cn.removeChild(o=cn.firstChild)),!(lt.support.noCloneEvent&&lt.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||lt.isXMLDoc(e)))for(i=b(o),s=b(e),a=0;null!=(r=s[a]);++a)i[a]&&y(r,i[a]);if(t)if(n)for(s=s||b(e),i=i||b(o),a=0;null!=(r=s[a]);a++)v(r,i[a]);else v(e,o);return i=b(o,"script"),i.length>0&&g(i,!l&&b(e,"script")),i=s=r=null,o},buildFragment:function(e,t,n,i){for(var r,o,a,s,l,c,u,d=e.length,f=h(t),p=[],m=0;d>m;m++)if(o=e[m],o||0===o)if("object"===lt.type(o))lt.merge(p,o.nodeType?[o]:o);else if(Zt.test(o)){for(s=s||f.appendChild(t.createElement("div")),l=(Jt.exec(o)||["",""])[1].toLowerCase(),u=sn[l]||sn._default,s.innerHTML=u[1]+o.replace(Yt,"<$1></$2>")+u[2],r=u[0];r--;)s=s.lastChild;if(!lt.support.leadingWhitespace&&Kt.test(o)&&p.push(t.createTextNode(Kt.exec(o)[0])),!lt.support.tbody)for(o="table"!==l||Xt.test(o)?"<table>"!==u[1]||Xt.test(o)?0:s:s.firstChild,r=o&&o.childNodes.length;r--;)lt.nodeName(c=o.childNodes[r],"tbody")&&!c.childNodes.length&&o.removeChild(c);for(lt.merge(p,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=f.lastChild}else p.push(t.createTextNode(o));for(s&&f.removeChild(s),lt.support.appendChecked||lt.grep(b(p,"input"),w),m=0;o=p[m++];)if((!i||-1===lt.inArray(o,i))&&(a=lt.contains(o.ownerDocument,o),s=b(f.appendChild(o),"script"),a&&g(s),n))for(r=0;o=s[r++];)rn.test(o.type||"")&&n.push(o);return s=null,f},cleanData:function(e,t){for(var n,i,r,o,a=0,s=lt.expando,l=lt.cache,c=lt.support.deleteExpando,u=lt.event.special;null!=(n=e[a]);a++)if((t||lt.acceptData(n))&&(r=n[s],o=r&&l[r])){if(o.events)for(i in o.events)u[i]?lt.event.remove(n,i):lt.removeEvent(n,i,o.handle);l[r]&&(delete l[r],c?delete n[s]:typeof n.removeAttribute!==V?n.removeAttribute(s):n[s]=null,Z.push(r))}}});var un,dn,hn,fn=/alpha\([^)]*\)/i,pn=/opacity\s*=\s*([^)]*)/,mn=/^(top|right|bottom|left)$/,gn=/^(none|table(?!-c[ea]).+)/,vn=/^margin/,yn=RegExp("^("+ct+")(.*)$","i"),bn=RegExp("^("+ct+")(?!px)[a-z%]+$","i"),wn=RegExp("^([+-])=("+ct+")","i"),xn={BODY:"block"},kn={position:"absolute",visibility:"hidden",display:"block"},_n={letterSpacing:0,fontWeight:400},Cn=["Top","Right","Bottom","Left"],Sn=["Webkit","O","Moz","ms"];lt.fn.extend({css:function(e,n){return lt.access(this,function(e,n,i){var r,o,a={},s=0;if(lt.isArray(n)){for(o=dn(e),r=n.length;r>s;s++)a[n[s]]=lt.css(e,n[s],!1,o);return a}return i!==t?lt.style(e,n,i):lt.css(e,n)},e,n,arguments.length>1)},show:function(){return _(this,!0)},hide:function(){return _(this)},toggle:function(e){var t="boolean"==typeof e;return this.each(function(){(t?e:k(this))?lt(this).show():lt(this).hide()})}}),lt.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=hn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":lt.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,i,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,l=lt.camelCase(n),c=e.style;if(n=lt.cssProps[l]||(lt.cssProps[l]=x(c,l)),s=lt.cssHooks[n]||lt.cssHooks[l],i===t)return s&&"get"in s&&(o=s.get(e,!1,r))!==t?o:c[n];if(a=typeof i,"string"===a&&(o=wn.exec(i))&&(i=(o[1]+1)*o[2]+parseFloat(lt.css(e,n)),a="number"),!(null==i||"number"===a&&isNaN(i)||("number"!==a||lt.cssNumber[l]||(i+="px"),lt.support.clearCloneStyle||""!==i||0!==n.indexOf("background")||(c[n]="inherit"),s&&"set"in s&&(i=s.set(e,i,r))===t)))try{c[n]=i}catch(u){}}},css:function(e,n,i,r){var o,a,s,l=lt.camelCase(n);return n=lt.cssProps[l]||(lt.cssProps[l]=x(e.style,l)),s=lt.cssHooks[n]||lt.cssHooks[l],s&&"get"in s&&(a=s.get(e,!0,i)),a===t&&(a=hn(e,n,r)),"normal"===a&&n in _n&&(a=_n[n]),""===i||i?(o=parseFloat(a),i===!0||lt.isNumeric(o)?o||0:a):a},swap:function(e,t,n,i){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=a[o];return r}}),e.getComputedStyle?(dn=function(t){return e.getComputedStyle(t,null)},hn=function(e,n,i){var r,o,a,s=i||dn(e),l=s?s.getPropertyValue(n)||s[n]:t,c=e.style;return s&&(""!==l||lt.contains(e.ownerDocument,e)||(l=lt.style(e,n)),bn.test(l)&&vn.test(n)&&(r=c.width,o=c.minWidth,a=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=s.width,c.width=r,c.minWidth=o,c.maxWidth=a)),l}):G.documentElement.currentStyle&&(dn=function(e){return e.currentStyle},hn=function(e,n,i){var r,o,a,s=i||dn(e),l=s?s[n]:t,c=e.style;return null==l&&c&&c[n]&&(l=c[n]),bn.test(l)&&!mn.test(n)&&(r=c.left,o=e.runtimeStyle,a=o&&o.left,a&&(o.left=e.currentStyle.left),c.left="fontSize"===n?"1em":l,l=c.pixelLeft+"px",c.left=r,a&&(o.left=a)),""===l?"auto":l}),lt.each(["height","width"],function(e,n){lt.cssHooks[n]={get:function(e,i,r){return i?0===e.offsetWidth&&gn.test(lt.css(e,"display"))?lt.swap(e,kn,function(){return T(e,n,r)}):T(e,n,r):t},set:function(e,t,i){var r=i&&dn(e);return C(e,t,i?S(e,n,i,lt.support.boxSizing&&"border-box"===lt.css(e,"boxSizing",!1,r),r):0)}}}),lt.support.opacity||(lt.cssHooks.opacity={get:function(e,t){return pn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=lt.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===lt.trim(o.replace(fn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=fn.test(o)?o.replace(fn,r):o+" "+r)}}),lt(function(){lt.support.reliableMarginRight||(lt.cssHooks.marginRight={get:function(e,n){return n?lt.swap(e,{display:"inline-block"},hn,[e,"marginRight"]):t}}),!lt.support.pixelPosition&&lt.fn.position&&lt.each(["top","left"],function(e,n){lt.cssHooks[n]={get:function(e,i){return i?(i=hn(e,n),bn.test(i)?lt(e).position()[n]+"px":i):t}}})}),lt.expr&&lt.expr.filters&&(lt.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!lt.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||lt.css(e,"display"))},lt.expr.filters.visible=function(e){return!lt.expr.filters.hidden(e)}),lt.each({margin:"",padding:"",border:"Width"},function(e,t){lt.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+Cn[i]+t]=o[i]||o[i-2]||o[0];return r}},vn.test(e)||(lt.cssHooks[e+t].set=C)});var Tn=/%20/g,Dn=/\[\]$/,Mn=/\r?\n/g,En=/^(?:submit|button|image|reset|file)$/i,Nn=/^(?:input|select|textarea|keygen)/i;lt.fn.extend({serialize:function(){return lt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=lt.prop(this,"elements");return e?lt.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!lt(this).is(":disabled")&&Nn.test(this.nodeName)&&!En.test(e)&&(this.checked||!tn.test(e))}).map(function(e,t){var n=lt(this).val();return null==n?null:lt.isArray(n)?lt.map(n,function(e){return{name:t.name,value:e.replace(Mn,"\r\n")}}):{name:t.name,value:n.replace(Mn,"\r\n")}}).get()}}),lt.param=function(e,n){var i,r=[],o=function(e,t){t=lt.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=lt.ajaxSettings&&lt.ajaxSettings.traditional),lt.isArray(e)||e.jquery&&!lt.isPlainObject(e))lt.each(e,function(){o(this.name,this.value)});else for(i in e)E(i,e[i],n,o);return r.join("&").replace(Tn,"+")},lt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){lt.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),lt.fn.hover=function(e,t){return this.mouseenter(e).mouseleave(t||e)};var An,In,Pn=lt.now(),jn=/\?/,Ln=/#.*$/,Rn=/([?&])_=[^&]*/,On=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Fn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Hn=/^(?:GET|HEAD)$/,Bn=/^\/\//,zn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Wn=lt.fn.load,$n={},Un={},qn="*/".concat("*");try{In=K.href}catch(Qn){In=G.createElement("a"),In.href="",In=In.href}An=zn.exec(In.toLowerCase())||[],lt.fn.load=function(e,n,i){if("string"!=typeof e&&Wn)return Wn.apply(this,arguments);var r,o,a,s=this,l=e.indexOf(" ");return l>=0&&(r=e.slice(l,e.length),e=e.slice(0,l)),lt.isFunction(n)?(i=n,n=t):n&&"object"==typeof n&&(a="POST"),s.length>0&&lt.ajax({url:e,type:a,dataType:"html",data:n}).done(function(e){o=arguments,s.html(r?lt("<div>").append(lt.parseHTML(e)).find(r):e)}).complete(i&&function(e,t){s.each(i,o||[e.responseText,t,e])}),this},lt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){lt.fn[t]=function(e){return this.on(t,e)}}),lt.each(["get","post"],function(e,n){lt[n]=function(e,i,r,o){return lt.isFunction(i)&&(o=o||r,r=i,i=t),lt.ajax({url:e,type:n,dataType:o,data:i,success:r})}}),lt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:In,type:"GET",isLocal:Fn.test(An[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":qn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":lt.parseJSON,"text xml":lt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?I(I(e,lt.ajaxSettings),t):I(lt.ajaxSettings,e)},ajaxPrefilter:N($n),ajaxTransport:N(Un),ajax:function(e,n){function i(e,n,i,r){var o,d,y,b,x,_=n;2!==w&&(w=2,l&&clearTimeout(l),u=t,s=r||"",k.readyState=e>0?4:0,i&&(b=P(h,k,i)),e>=200&&300>e||304===e?(h.ifModified&&(x=k.getResponseHeader("Last-Modified"),x&&(lt.lastModified[a]=x),x=k.getResponseHeader("etag"),x&&(lt.etag[a]=x)),204===e?(o=!0,_="nocontent"):304===e?(o=!0,_="notmodified"):(o=j(h,b),_=o.state,d=o.data,y=o.error,o=!y)):(y=_,(e||!_)&&(_="error",0>e&&(e=0))),k.status=e,k.statusText=(n||_)+"",o?m.resolveWith(f,[d,_,k]):m.rejectWith(f,[k,_,y]),k.statusCode(v),v=t,c&&p.trigger(o?"ajaxSuccess":"ajaxError",[k,h,o?d:y]),g.fireWith(f,[k,_]),c&&(p.trigger("ajaxComplete",[k,h]),--lt.active||lt.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var r,o,a,s,l,c,u,d,h=lt.ajaxSetup({},n),f=h.context||h,p=h.context&&(f.nodeType||f.jquery)?lt(f):lt.event,m=lt.Deferred(),g=lt.Callbacks("once memory"),v=h.statusCode||{},y={},b={},w=0,x="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!d)for(d={};t=On.exec(s);)d[t[1].toLowerCase()]=t[2];t=d[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return w||(e=b[n]=b[n]||e,y[e]=t),this},overrideMimeType:function(e){return w||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>w)for(t in e)v[t]=[v[t],e[t]];else k.always(e[k.status]);return this},abort:function(e){var t=e||x;return u&&u.abort(t),i(0,t),this}};if(m.promise(k).complete=g.add,k.success=k.done,k.error=k.fail,h.url=((e||h.url||In)+"").replace(Ln,"").replace(Bn,An[1]+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=lt.trim(h.dataType||"*").toLowerCase().match(ut)||[""],null==h.crossDomain&&(r=zn.exec(h.url.toLowerCase()),h.crossDomain=!(!r||r[1]===An[1]&&r[2]===An[2]&&(r[3]||("http:"===r[1]?80:443))==(An[3]||("http:"===An[1]?80:443)))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=lt.param(h.data,h.traditional)),A($n,h,n,k),2===w)return k;c=h.global,c&&0===lt.active++&&lt.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Hn.test(h.type),a=h.url,h.hasContent||(h.data&&(a=h.url+=(jn.test(a)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=Rn.test(a)?a.replace(Rn,"$1_="+Pn++):a+(jn.test(a)?"&":"?")+"_="+Pn++)),h.ifModified&&(lt.lastModified[a]&&k.setRequestHeader("If-Modified-Since",lt.lastModified[a]),lt.etag[a]&&k.setRequestHeader("If-None-Match",lt.etag[a])),(h.data&&h.hasContent&&h.contentType!==!1||n.contentType)&&k.setRequestHeader("Content-Type",h.contentType),k.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+qn+"; q=0.01":""):h.accepts["*"]);for(o in h.headers)k.setRequestHeader(o,h.headers[o]);if(h.beforeSend&&(h.beforeSend.call(f,k,h)===!1||2===w))return k.abort();x="abort";for(o in{success:1,error:1,complete:1})k[o](h[o]);if(u=A(Un,h,n,k)){k.readyState=1,c&&p.trigger("ajaxSend",[k,h]),h.async&&h.timeout>0&&(l=setTimeout(function(){k.abort("timeout")},h.timeout));try{w=1,u.send(y,i)}catch(_){if(!(2>w))throw _;i(-1,_)}}else i(-1,"No Transport");return k},getScript:function(e,n){return lt.get(e,t,n,"script")},getJSON:function(e,t,n){return lt.get(e,t,n,"json")}}),lt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return lt.globalEval(e),e}}}),lt.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),lt.ajaxTransport("script",function(e){if(e.crossDomain){var n,i=G.head||lt("head")[0]||G.documentElement;return{send:function(t,r){n=G.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||r(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var Vn=[],Gn=/(=)\?(?=&|$)|\?\?/;lt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Vn.pop()||lt.expando+"_"+Pn++;return this[e]=!0,e}}),lt.ajaxPrefilter("json jsonp",function(n,i,r){var o,a,s,l=n.jsonp!==!1&&(Gn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gn.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=lt.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Gn,"$1"+o):n.jsonp!==!1&&(n.url+=(jn.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||lt.error(o+" was not called"),s[0]},n.dataTypes[0]="json",a=e[o],e[o]=function(){s=arguments},r.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=i.jsonpCallback,Vn.push(o)),s&&lt.isFunction(a)&&a(s[0]),s=a=t}),"script"):t});var Kn,Yn,Jn=0,Xn=e.ActiveXObject&&function(){var e;for(e in Kn)Kn[e](t,!0)};lt.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&L()||R()}:L,Yn=lt.ajaxSettings.xhr(),lt.support.cors=!!Yn&&"withCredentials"in Yn,Yn=lt.support.ajax=!!Yn,Yn&&lt.ajaxTransport(function(n){if(!n.crossDomain||lt.support.cors){var i;return{send:function(r,o){var a,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(s in r)l.setRequestHeader(s,r[s])}catch(c){}l.send(n.hasContent&&n.data||null),i=function(e,r){var s,c,u,d;try{if(i&&(r||4===l.readyState))if(i=t,a&&(l.onreadystatechange=lt.noop,Xn&&delete Kn[a]),r)4!==l.readyState&&l.abort();else{d={},s=l.status,c=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(d.text=l.responseText);try{u=l.statusText}catch(h){u=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=d.text?200:404}}catch(f){r||o(-1,f)}d&&o(s,u,d,c)},n.async?4===l.readyState?setTimeout(i):(a=++Jn,Xn&&(Kn||(Kn={},lt(e).unload(Xn)),Kn[a]=i),l.onreadystatechange=i):i()},abort:function(){i&&i(t,!0)}}}});var Zn,ei,ti=/^(?:toggle|show|hide)$/,ni=RegExp("^(?:([+-])=|)("+ct+")([a-z%]*)$","i"),ii=/queueHooks$/,ri=[z],oi={"*":[function(e,t){var n,i,r=this.createTween(e,t),o=ni.exec(t),a=r.cur(),s=+a||0,l=1,c=20;if(o){if(n=+o[2],i=o[3]||(lt.cssNumber[e]?"":"px"),"px"!==i&&s){s=lt.css(r.elem,e,!0)||n||1;do l=l||".5",s/=l,lt.style(r.elem,e,s+i);while(l!==(l=r.cur()/a)&&1!==l&&--c)}r.unit=i,r.start=s,r.end=o[1]?s+(o[1]+1)*n:n}return r}]};lt.Animation=lt.extend(H,{tweener:function(e,t){lt.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],oi[n]=oi[n]||[],oi[n].unshift(t)},prefilter:function(e,t){t?ri.unshift(e):ri.push(e)}}),lt.Tween=W,W.prototype={constructor:W,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(lt.cssNumber[n]?"":"px")},cur:function(){var e=W.propHooks[this.prop];return e&&e.get?e.get(this):W.propHooks._default.get(this)},run:function(e){var t,n=W.propHooks[this.prop];return this.pos=t=this.options.duration?lt.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):W.propHooks._default.set(this),this}},W.prototype.init.prototype=W.prototype,W.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=lt.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){lt.fx.step[e.prop]?lt.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[lt.cssProps[e.prop]]||lt.cssHooks[e.prop])?lt.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},W.propHooks.scrollTop=W.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},lt.each(["toggle","show","hide"],function(e,t){var n=lt.fn[t];lt.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate($(t,!0),e,i,r)}}),lt.fn.extend({fadeTo:function(e,t,n,i){return this.filter(k).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=lt.isEmptyObject(e),o=lt.speed(t,n,i),a=function(){var t=H(this,lt.extend({},e),o);a.finish=function(){t.stop(!0)},(r||lt._data(this,"finish"))&&t.stop(!0)};return a.finish=a,r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,n,i){var r=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=lt.timers,a=lt._data(this);if(n)a[n]&&a[n].stop&&r(a[n]);else for(n in a)a[n]&&a[n].stop&&ii.test(n)&&r(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(i),t=!1,o.splice(n,1));(t||!i)&&lt.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=lt._data(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=lt.timers,a=i?i.length:0;for(n.finish=!0,lt.queue(this,e,[]),r&&r.cur&&r.cur.finish&&r.cur.finish.call(this),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),lt.each({slideDown:$("show"),slideUp:$("hide"),slideToggle:$("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){lt.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),lt.speed=function(e,t,n){var i=e&&"object"==typeof e?lt.extend({},e):{complete:n||!n&&t||lt.isFunction(e)&&e,duration:e,easing:n&&t||t&&!lt.isFunction(t)&&t};return i.duration=lt.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in lt.fx.speeds?lt.fx.speeds[i.duration]:lt.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){lt.isFunction(i.old)&&i.old.call(this),i.queue&&lt.dequeue(this,i.queue)},i},lt.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},lt.timers=[],lt.fx=W.prototype.init,lt.fx.tick=function(){var e,n=lt.timers,i=0;for(Zn=lt.now();n.length>i;i++)e=n[i],e()||n[i]!==e||n.splice(i--,1);n.length||lt.fx.stop(),Zn=t},lt.fx.timer=function(e){e()&&lt.timers.push(e)&&lt.fx.start()},lt.fx.interval=13,lt.fx.start=function(){ei||(ei=setInterval(lt.fx.tick,lt.fx.interval))},lt.fx.stop=function(){clearInterval(ei),ei=null},lt.fx.speeds={slow:600,fast:200,_default:400},lt.fx.step={},lt.expr&&lt.expr.filters&&(lt.expr.filters.animated=function(e){return lt.grep(lt.timers,function(t){return e===t.elem}).length}),lt.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){lt.offset.setOffset(this,e,t)});var n,i,r={top:0,left:0},o=this[0],a=o&&o.ownerDocument;if(a)return n=a.documentElement,lt.contains(n,o)?(typeof o.getBoundingClientRect!==V&&(r=o.getBoundingClientRect()),i=U(a),{top:r.top+(i.pageYOffset||n.scrollTop)-(n.clientTop||0),left:r.left+(i.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):r},lt.offset={setOffset:function(e,t,n){var i=lt.css(e,"position");"static"===i&&(e.style.position="relative");var r,o,a=lt(e),s=a.offset(),l=lt.css(e,"top"),c=lt.css(e,"left"),u=("absolute"===i||"fixed"===i)&&lt.inArray("auto",[l,c])>-1,d={},h={};u?(h=a.position(),r=h.top,o=h.left):(r=parseFloat(l)||0,o=parseFloat(c)||0),lt.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+r),null!=t.left&&(d.left=t.left-s.left+o),"using"in t?t.using.call(e,d):a.css(d)
}},lt.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===lt.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),lt.nodeName(e[0],"html")||(n=e.offset()),n.top+=lt.css(e[0],"borderTopWidth",!0),n.left+=lt.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-lt.css(i,"marginTop",!0),left:t.left-n.left-lt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||G.documentElement;e&&!lt.nodeName(e,"html")&&"static"===lt.css(e,"position");)e=e.offsetParent;return e||G.documentElement})}}),lt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i=/Y/.test(n);lt.fn[e]=function(r){return lt.access(this,function(e,r,o){var a=U(e);return o===t?a?n in a?a[n]:a.document.documentElement[r]:e[r]:(a?a.scrollTo(i?lt(a).scrollLeft():o,i?o:lt(a).scrollTop()):e[r]=o,t)},e,r,arguments.length,null)}}),lt.each({Height:"height",Width:"width"},function(e,n){lt.each({padding:"inner"+e,content:n,"":"outer"+e},function(i,r){lt.fn[r]=function(r,o){var a=arguments.length&&(i||"boolean"!=typeof r),s=i||(r===!0||o===!0?"margin":"border");return lt.access(this,function(n,i,r){var o;return lt.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):r===t?lt.css(n,i,s):lt.style(n,i,r,s)},n,a?r:t,a,null)}})}),e.jQuery=e.$=lt,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return lt})})(window),function(e,t,n){function i(n){var i=t.console;o[n]||(o[n]=!0,e.migrateWarnings.push(n),i&&i.warn&&!e.migrateMute&&(i.warn("JQMIGRATE: "+n),e.migrateTrace&&i.trace&&i.trace()))}function r(t,r,o,a){if(Object.defineProperty)try{return Object.defineProperty(t,r,{configurable:!0,enumerable:!0,get:function(){return i(a),o},set:function(e){i(a),o=e}}),n}catch(s){}e._definePropertyBroken=!0,t[r]=o}var o={};e.migrateWarnings=[],!e.migrateMute&&t.console&&t.console.log&&t.console.log("JQMIGRATE: Logging is active"),e.migrateTrace===n&&(e.migrateTrace=!0),e.migrateReset=function(){o={},e.migrateWarnings.length=0},"BackCompat"===document.compatMode&&i("jQuery is not compatible with Quirks Mode");var a=e("<input/>",{size:1}).attr("size")&&e.attrFn,s=e.attr,l=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},c=e.attrHooks.value&&e.attrHooks.value.set||function(){return n},u=/^(?:input|button)$/i,d=/^[238]$/,h=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,f=/^(?:checked|selected)$/i;r(e,"attrFn",a||{},"jQuery.attrFn is deprecated"),e.attr=function(t,r,o,l){var c=r.toLowerCase(),p=t&&t.nodeType;return l&&(4>s.length&&i("jQuery.fn.attr( props, pass ) is deprecated"),t&&!d.test(p)&&(a?r in a:e.isFunction(e.fn[r])))?e(t)[r](o):("type"===r&&o!==n&&u.test(t.nodeName)&&t.parentNode&&i("Can't change the 'type' of an input or button in IE 6/7/8"),!e.attrHooks[c]&&h.test(c)&&(e.attrHooks[c]={get:function(t,i){var r,o=e.prop(t,i);return o===!0||"boolean"!=typeof o&&(r=t.getAttributeNode(i))&&r.nodeValue!==!1?i.toLowerCase():n},set:function(t,n,i){var r;return n===!1?e.removeAttr(t,i):(r=e.propFix[i]||i,r in t&&(t[r]=!0),t.setAttribute(i,i.toLowerCase())),i}},f.test(c)&&i("jQuery.fn.attr('"+c+"') may use property instead of attribute")),s.call(e,t,r,o))},e.attrHooks.value={get:function(e,t){var n=(e.nodeName||"").toLowerCase();return"button"===n?l.apply(this,arguments):("input"!==n&&"option"!==n&&i("jQuery.fn.attr('value') no longer gets properties"),t in e?e.value:null)},set:function(e,t){var r=(e.nodeName||"").toLowerCase();return"button"===r?c.apply(this,arguments):("input"!==r&&"option"!==r&&i("jQuery.fn.attr('value', val) no longer sets properties"),e.value=t,n)}};var p,m,g=e.fn.init,v=e.parseJSON,y=/^([^<]*)(<[\w\W]+>)([^>]*)$/;e.fn.init=function(t,n,r){var o;return t&&"string"==typeof t&&!e.isPlainObject(n)&&(o=y.exec(e.trim(t)))&&o[0]&&("<"!==t.charAt(0)&&i("$(html) HTML strings must start with '<' character"),o[3]&&i("$(html) HTML text after last tag is ignored"),"#"===o[0].charAt(0)&&(i("HTML string cannot start with a '#' character"),e.error("JQMIGRATE: Invalid selector string (XSS)")),n&&n.context&&(n=n.context),e.parseHTML)?g.call(this,e.parseHTML(o[2],n,!0),n,r):g.apply(this,arguments)},e.fn.init.prototype=e.fn,e.parseJSON=function(e){return e||null===e?v.apply(this,arguments):(i("jQuery.parseJSON requires a valid JSON string"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||0>e.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e.browser||(p=e.uaMatch(navigator.userAgent),m={},p.browser&&(m[p.browser]=!0,m.version=p.version),m.chrome?m.webkit=!0:m.webkit&&(m.safari=!0),e.browser=m),r(e,"browser",e.browser,"jQuery.browser is deprecated"),e.sub=function(){function t(e,n){return new t.fn.init(e,n)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(i,r){return r&&r instanceof e&&!(r instanceof t)&&(r=t(r)),e.fn.init.call(this,i,r,n)},t.fn.init.prototype=t.fn;var n=t(document);return i("jQuery.sub() is deprecated"),t},e.ajaxSetup({converters:{"text json":e.parseJSON}});var b=e.fn.data;e.fn.data=function(t){var r,o,a=this[0];return!a||"events"!==t||1!==arguments.length||(r=e.data(a,t),o=e._data(a,t),r!==n&&r!==o||o===n)?b.apply(this,arguments):(i("Use of jQuery.fn.data('events') is deprecated"),o)};var w=/\/(java|ecma)script/i,x=e.fn.andSelf||e.fn.addBack;e.fn.andSelf=function(){return i("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),x.apply(this,arguments)},e.clean||(e.clean=function(t,r,o,a){r=r||document,r=!r.nodeType&&r[0]||r,r=r.ownerDocument||r,i("jQuery.clean() is deprecated");var s,l,c,u,d=[];if(e.merge(d,e.buildFragment(t,r).childNodes),o)for(c=function(e){return!e.type||w.test(e.type)?a?a.push(e.parentNode?e.parentNode.removeChild(e):e):o.appendChild(e):n},s=0;null!=(l=d[s]);s++)e.nodeName(l,"script")&&c(l)||(o.appendChild(l),l.getElementsByTagName!==n&&(u=e.grep(e.merge([],l.getElementsByTagName("script")),c),d.splice.apply(d,[s+1,0].concat(u)),s+=u.length));return d});var k=e.event.add,_=e.event.remove,C=e.event.trigger,S=e.fn.toggle,T=e.fn.live,D=e.fn.die,M="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",E=RegExp("\\b(?:"+M+")\\b"),N=/(?:^|\s)hover(\.\S+|)\b/,A=function(t){return"string"!=typeof t||e.event.special.hover?t:(N.test(t)&&i("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(N,"mouseenter$1 mouseleave$1"))};e.event.props&&"attrChange"!==e.event.props[0]&&e.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),e.event.dispatch&&r(e.event,"handle",e.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),e.event.add=function(e,t,n,r,o){e!==document&&E.test(t)&&i("AJAX events should be attached to document: "+t),k.call(this,e,A(t||""),n,r,o)},e.event.remove=function(e,t,n,i,r){_.call(this,e,A(t)||"",n,i,r)},e.fn.error=function(){var e=Array.prototype.slice.call(arguments,0);return i("jQuery.fn.error() is deprecated"),e.splice(0,0,"error"),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this)},e.fn.toggle=function(t,n){if(!e.isFunction(t)||!e.isFunction(n))return S.apply(this,arguments);i("jQuery.fn.toggle(handler, handler...) is deprecated");var r=arguments,o=t.guid||e.guid++,a=0,s=function(n){var i=(e._data(this,"lastToggle"+t.guid)||0)%a;return e._data(this,"lastToggle"+t.guid,i+1),n.preventDefault(),r[i].apply(this,arguments)||!1};for(s.guid=o;r.length>a;)r[a++].guid=o;return this.click(s)},e.fn.live=function(t,n,r){return i("jQuery.fn.live() is deprecated"),T?T.apply(this,arguments):(e(this.context).on(t,this.selector,n,r),this)},e.fn.die=function(t,n){return i("jQuery.fn.die() is deprecated"),D?D.apply(this,arguments):(e(this.context).off(t,this.selector||"**",n),this)},e.event.trigger=function(e,t,n,r){return n||E.test(e)||i("Global events are undocumented and deprecated"),C.call(this,e,t,n||document,r)},e.each(M.split("|"),function(t,n){e.event.special[n]={setup:function(){var t=this;return t!==document&&(e.event.add(document,n+"."+e.guid,function(){e.event.trigger(n,null,t,!0)}),e._data(this,n,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,n+"."+e._data(this,n)),!1}}})}(jQuery,window),function(e){e.noConflict(),e.fn.extend({_wsHide:e.fn.hide,_wsShow:e.fn.show,hide:function(){return this._wsHide.apply(this,arguments),this.addClass("hidden")},show:function(){return this.removeClass("hidden"),this._wsShow.apply(this,arguments)}}),e.extend(e.expr[":"],{inView:function(t){var n=document.documentElement.scrollTop||document.body.scrollTop,i=e(t).offset().top,r=window.innerHeight&&window.innerHeight<e(window).height()?window.innerHeight:e(window).height();return i>n&&n+r>e(t).height()+i}}),e(document).ready(function(){e.ui.dialog.prototype._allowInteraction=function(t){return!!e(t.target).closest(".ui-dialog, .ui-datepicker, .select2-drop").length}})}(jQuery),window.ws=jQuery.extend(window.ws,{namespace:function(e){var t,n=e.split("."),i=ws;for("ws"===n[0]&&(n=n.slice(1)),t=0;n.length>t;t+=1)i[n[t]]===void 0&&(i[n[t]]={}),i=i[n[t]];return i}}),function(){function e(t,n,i){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return t===n;if(t._chain&&(t=t._wrapped),n._chain&&(n=n._wrapped),t.isEqual&&_.isFunction(t.isEqual))return t.isEqual(n);if(n.isEqual&&_.isFunction(n.isEqual))return n.isEqual(t);var r=c.call(t);if(r!=c.call(n))return!1;switch(r){case"[object String]":return t==n+"";case"[object Number]":return t!=+t?n!=+n:0==t?1/t==1/n:t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object RegExp]":return t.source==n.source&&t.global==n.global&&t.multiline==n.multiline&&t.ignoreCase==n.ignoreCase}if("object"!=typeof t||"object"!=typeof n)return!1;for(var o=i.length;o--;)if(i[o]==t)return!0;i.push(t);var a=0,s=!0;if("[object Array]"==r){if(a=t.length,s=a==n.length)for(;a--&&(s=a in t==a in n&&e(t[a],n[a],i)););}else{if("constructor"in t!="constructor"in n||t.constructor!=n.constructor)return!1;for(var l in t)if(_.has(t,l)&&(a++,!(s=_.has(n,l)&&e(t[l],n[l],i))))break;if(s){for(l in n)if(_.has(n,l)&&!a--)break;s=!a}}return i.pop(),s}var t=this,n=t._,i={},r=Array.prototype,o=Object.prototype,a=Function.prototype,s=r.slice,l=r.unshift,c=o.toString,u=o.hasOwnProperty,d=r.forEach,h=r.map,f=r.reduce,p=r.reduceRight,m=r.filter,g=r.every,v=r.some,y=r.indexOf,b=r.lastIndexOf,w=Array.isArray,x=Object.keys,k=a.bind,_=function(e){return new N(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=_),exports._=_):t._=_,_.VERSION="1.3.1";var C=_.each=_.forEach=function(e,t,n){if(null!=e)if(d&&e.forEach===d)e.forEach(t,n);else if(e.length===+e.length){for(var r=0,o=e.length;o>r;r++)if(r in e&&t.call(n,e[r],r,e)===i)return}else for(var a in e)if(_.has(e,a)&&t.call(n,e[a],a,e)===i)return};_.map=_.collect=function(e,t,n){var i=[];return null==e?i:h&&e.map===h?e.map(t,n):(C(e,function(e,r,o){i[i.length]=t.call(n,e,r,o)}),e.length===+e.length&&(i.length=e.length),i)},_.reduce=_.foldl=_.inject=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),f&&e.reduce===f)return i&&(t=_.bind(t,i)),r?e.reduce(t,n):e.reduce(t);if(C(e,function(e,o,a){r?n=t.call(i,n,e,o,a):(n=e,r=!0)}),!r)throw new TypeError("Reduce of empty array with no initial value");return n},_.reduceRight=_.foldr=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),p&&e.reduceRight===p)return i&&(t=_.bind(t,i)),r?e.reduceRight(t,n):e.reduceRight(t);var o=_.toArray(e).reverse();return i&&!r&&(t=_.bind(t,i)),r?_.reduce(o,t,n,i):_.reduce(o,t)},_.find=_.detect=function(e,t,n){var i;return S(e,function(e,r,o){return t.call(n,e,r,o)?(i=e,!0):void 0}),i},_.filter=_.select=function(e,t,n){var i=[];return null==e?i:m&&e.filter===m?e.filter(t,n):(C(e,function(e,r,o){t.call(n,e,r,o)&&(i[i.length]=e)}),i)},_.reject=function(e,t,n){var i=[];return null==e?i:(C(e,function(e,r,o){t.call(n,e,r,o)||(i[i.length]=e)}),i)},_.every=_.all=function(e,t,n){var r=!0;return null==e?r:g&&e.every===g?e.every(t,n):(C(e,function(e,o,a){return(r=r&&t.call(n,e,o,a))?void 0:i}),r)};var S=_.some=_.any=function(e,t,n){t||(t=_.identity);var r=!1;return null==e?r:v&&e.some===v?e.some(t,n):(C(e,function(e,o,a){return r||(r=t.call(n,e,o,a))?i:void 0}),!!r)};_.include=_.contains=function(e,t){var n=!1;return null==e?n:y&&e.indexOf===y?-1!=e.indexOf(t):n=S(e,function(e){return e===t})},_.invoke=function(e,t){var n=s.call(arguments,2);return _.map(e,function(e){return(_.isFunction(t)?t||e:e[t]).apply(e,n)})},_.pluck=function(e,t){return _.map(e,function(e){return e[t]})},_.max=function(e,t,n){if(!t&&_.isArray(e))return Math.max.apply(Math,e);if(!t&&_.isEmpty(e))return-1/0;var i={computed:-1/0};return C(e,function(e,r,o){var a=t?t.call(n,e,r,o):e;a>=i.computed&&(i={value:e,computed:a})}),i.value},_.min=function(e,t,n){if(!t&&_.isArray(e))return Math.min.apply(Math,e);if(!t&&_.isEmpty(e))return 1/0;var i={computed:1/0};return C(e,function(e,r,o){var a=t?t.call(n,e,r,o):e;i.computed>a&&(i={value:e,computed:a})}),i.value},_.shuffle=function(e){var t,n=[];return C(e,function(e,i){0==i?n[0]=e:(t=Math.floor(Math.random()*(i+1)),n[i]=n[t],n[t]=e)}),n},_.sortBy=function(e,t,n){return _.pluck(_.map(e,function(e,i,r){return{value:e,criteria:t.call(n,e,i,r)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;return i>n?-1:n>i?1:0}),"value")},_.groupBy=function(e,t){var n={},i=_.isFunction(t)?t:function(e){return e[t]};return C(e,function(e,t){var r=i(e,t);(n[r]||(n[r]=[])).push(e)}),n},_.sortedIndex=function(e,t,n){n||(n=_.identity);for(var i=0,r=e.length;r>i;){var o=i+r>>1;n(e[o])<n(t)?i=o+1:r=o}return i},_.toArray=function(e){return e?e.toArray?e.toArray():_.isArray(e)?s.call(e):_.isArguments(e)?s.call(e):_.values(e):[]},_.size=function(e){return _.toArray(e).length},_.first=_.head=function(e,t,n){return null==t||n?e[0]:s.call(e,0,t)},_.initial=function(e,t,n){return s.call(e,0,e.length-(null==t||n?1:t))},_.last=function(e,t,n){return null==t||n?e[e.length-1]:s.call(e,Math.max(e.length-t,0))},_.rest=_.tail=function(e,t,n){return s.call(e,null==t||n?1:t)},_.compact=function(e){return _.filter(e,function(e){return!!e})},_.flatten=function(e,t){return _.reduce(e,function(e,n){return _.isArray(n)?e.concat(t?n:_.flatten(n)):(e[e.length]=n,e)},[])},_.without=function(e){return _.difference(e,s.call(arguments,1))},_.uniq=_.unique=function(e,t,n){var i=n?_.map(e,n):e,r=[];return _.reduce(i,function(n,i,o){return 0!=o&&(t===!0?_.last(n)==i:_.include(n,i))||(n[n.length]=i,r[r.length]=e[o]),n},[]),r},_.union=function(){return _.uniq(_.flatten(arguments,!0))},_.intersection=_.intersect=function(e){var t=s.call(arguments,1);return _.filter(_.uniq(e),function(e){return _.every(t,function(t){return _.indexOf(t,e)>=0})})},_.difference=function(e){var t=_.flatten(s.call(arguments,1));return _.filter(e,function(e){return!_.include(t,e)})},_.zip=function(){for(var e=s.call(arguments),t=_.max(_.pluck(e,"length")),n=Array(t),i=0;t>i;i++)n[i]=_.pluck(e,""+i);return n},_.indexOf=function(e,t,n){if(null==e)return-1;var i,r;if(n)return i=_.sortedIndex(e,t),e[i]===t?i:-1;if(y&&e.indexOf===y)return e.indexOf(t);for(i=0,r=e.length;r>i;i++)if(i in e&&e[i]===t)return i;return-1},_.lastIndexOf=function(e,t){if(null==e)return-1;if(b&&e.lastIndexOf===b)return e.lastIndexOf(t);for(var n=e.length;n--;)if(n in e&&e[n]===t)return n;return-1},_.range=function(e,t,n){1>=arguments.length&&(t=e||0,e=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=0,o=Array(i);i>r;)o[r++]=e,e+=n;return o};var T=function(){};_.bind=function(e,t){var n,i;if(e.bind===k&&k)return k.apply(e,s.call(arguments,1));if(!_.isFunction(e))throw new TypeError;return i=s.call(arguments,2),n=function(){if(!(this instanceof n))return e.apply(t,i.concat(s.call(arguments)));T.prototype=e.prototype;var r=new T,o=e.apply(r,i.concat(s.call(arguments)));return Object(o)===o?o:r}},_.bindAll=function(e){var t=s.call(arguments,1);return 0==t.length&&(t=_.functions(e)),C(t,function(t){e[t]=_.bind(e[t],e)}),e},_.memoize=function(e,t){var n={};return t||(t=_.identity),function(){var i=t.apply(this,arguments);return _.has(n,i)?n[i]:n[i]=e.apply(this,arguments)}},_.delay=function(e,t){var n=s.call(arguments,2);return setTimeout(function(){return e.apply(e,n)},t)},_.defer=function(e){return _.delay.apply(_,[e,1].concat(s.call(arguments,1)))},_.throttle=function(e,t){var n,i,r,o,a,s=_.debounce(function(){a=o=!1},t);return function(){n=this,i=arguments;var l=function(){r=null,a&&e.apply(n,i),s()};r||(r=setTimeout(l,t)),o?a=!0:e.apply(n,i),s(),o=!0}},_.debounce=function(e,t){var n;return function(){var i=this,r=arguments,o=function(){n=null,e.apply(i,r)};clearTimeout(n),n=setTimeout(o,t)}},_.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments))}},_.wrap=function(e,t){return function(){var n=[e].concat(s.call(arguments,0));return t.apply(this,n)}},_.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},_.after=function(e,t){return 0>=e?t():function(){return 1>--e?t.apply(this,arguments):void 0}},_.keys=x||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)_.has(e,n)&&(t[t.length]=n);return t},_.values=function(e){return _.map(e,_.identity)},_.functions=_.methods=function(e){var t=[];for(var n in e)_.isFunction(e[n])&&t.push(n);return t.sort()},_.extend=function(e){return C(s.call(arguments,1),function(t){for(var n in t)e[n]=t[n]}),e},_.defaults=function(e){return C(s.call(arguments,1),function(t){for(var n in t)null==e[n]&&(e[n]=t[n])}),e},_.clone=function(e){return _.isObject(e)?_.isArray(e)?e.slice():_.extend({},e):e},_.tap=function(e,t){return t(e),e},_.isEqual=function(t,n){return e(t,n,[])},_.isEmpty=function(e){if(_.isArray(e)||_.isString(e))return 0===e.length;for(var t in e)if(_.has(e,t))return!1;return!0},_.isElement=function(e){return!(!e||1!=e.nodeType)},_.isArray=w||function(e){return"[object Array]"==c.call(e)},_.isObject=function(e){return e===Object(e)},_.isArguments=function(e){return"[object Arguments]"==c.call(e)},_.isArguments(arguments)||(_.isArguments=function(e){return!(!e||!_.has(e,"callee"))}),_.isFunction=function(e){return"[object Function]"==c.call(e)},_.isString=function(e){return"[object String]"==c.call(e)},_.isNumber=function(e){return"[object Number]"==c.call(e)},_.isNaN=function(e){return e!==e},_.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==c.call(e)},_.isDate=function(e){return"[object Date]"==c.call(e)},_.isRegExp=function(e){return"[object RegExp]"==c.call(e)},_.isNull=function(e){return null===e},_.isUndefined=function(e){return void 0===e},_.has=function(e,t){return u.call(e,t)},_.noConflict=function(){return t._=n,this},_.identity=function(e){return e},_.times=function(e,t,n){for(var i=0;e>i;i++)t.call(n,i)},_.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},_.mixin=function(e){C(_.functions(e),function(t){I(t,_[t]=e[t])})};var D=0;_.uniqueId=function(e){var t=D++;return e?e+t:t},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var M=/.^/,E=function(e){return e.replace(/\\\\/g,"\\").replace(/\\'/g,"'")};_.template=function(e,t){var n=_.templateSettings,i="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+e.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(n.escape||M,function(e,t){return"',_.escape("+E(t)+"),'"}).replace(n.interpolate||M,function(e,t){return"',"+E(t)+",'"}).replace(n.evaluate||M,function(e,t){return"');"+E(t).replace(/[\r\n\t]/g," ")+";__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",r=Function("obj","_",i);return t?r(t,_):function(e){return r.call(this,e,_)}},_.chain=function(e){return _(e).chain()};var N=function(e){this._wrapped=e};_.prototype=N.prototype;var A=function(e,t){return t?_(e).chain():e},I=function(e,t){N.prototype[e]=function(){var e=s.call(arguments);return l.call(e,this._wrapped),A(t.apply(_,e),this._chain)}};_.mixin(_),C(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];N.prototype[e]=function(){var n=this._wrapped;t.apply(n,arguments);var i=n.length;return"shift"!=e&&"splice"!=e||0!==i||delete n[0],A(n,this._chain)}}),C(["concat","join","slice"],function(e){var t=r[e];N.prototype[e]=function(){return A(t.apply(this._wrapped,arguments),this._chain)}}),N.prototype.chain=function(){return this._chain=!0,this},N.prototype.value=function(){return this._wrapped}}.call(this),function(){var e,t=this,n=t.Backbone,i=Array.prototype.slice,r=Array.prototype.splice;e="undefined"!=typeof exports?exports:t.Backbone={},e.VERSION="0.9.2";var o=t._;o||"undefined"==typeof require||(o=require("underscore"));var a=t.jQuery||t.Zepto||t.ender;e.setDomLibrary=function(e){a=e},e.noConflict=function(){return t.Backbone=n,this},e.emulateHTTP=!1,e.emulateJSON=!1;var s=/\s+/,l=e.Events={on:function(e,t,n){var i,r,o,a,l;if(!t)return this;for(e=e.split(s),i=this._callbacks||(this._callbacks={});r=e.shift();)l=i[r],o=l?l.tail:{},o.next=a={},o.context=n,o.callback=t,i[r]={tail:a,next:l?l.next:o};return this},off:function(e,t,n){var i,r,a,l,c,u;if(r=this._callbacks){if(!(e||t||n))return delete this._callbacks,this;for(e=e?e.split(s):o.keys(r);i=e.shift();)if(a=r[i],delete r[i],a&&(t||n))for(l=a.tail;(a=a.next)!==l;)c=a.callback,u=a.context,(t&&c!==t||n&&u!==n)&&this.on(i,c,u);return this}},trigger:function(e){var t,n,r,o,a,l,c;if(!(r=this._callbacks))return this;for(l=r.all,e=e.split(s),c=i.call(arguments,1);t=e.shift();){if(n=r[t])for(o=n.tail;(n=n.next)!==o;)n.callback.apply(n.context||this,c);if(n=l)for(o=n.tail,a=[t].concat(c);(n=n.next)!==o;)n.callback.apply(n.context||this,a)}return this}};l.bind=l.on,l.unbind=l.off;var c=e.Model=function(e,t){var n;e||(e={}),t&&t.parse&&(e=this.parse(e)),(n=T(this,"defaults"))&&(e=o.extend({},n,e)),t&&t.collection&&(this.collection=t.collection),this.attributes={},this._escapedAttributes={},this.cid=o.uniqueId("c"),this.changed={},this._silent={},this._pending={},this.set(e,{silent:!0}),this.changed={},this._silent={},this._pending={},this._previousAttributes=o.clone(this.attributes),this.initialize.apply(this,arguments)};o.extend(c.prototype,l,{changed:null,_silent:null,_pending:null,idAttribute:"id",initialize:function(){},toJSON:function(){return o.clone(this.attributes)},get:function(e){return this.attributes[e]},escape:function(e){var t;if(t=this._escapedAttributes[e])return t;var n=this.get(e);return this._escapedAttributes[e]=o.escape(null==n?"":""+n)},has:function(e){return null!=this.get(e)},set:function(e,t,n){var i,r,a;if(o.isObject(e)||null==e?(i=e,n=t):(i={},i[e]=t),n||(n={}),!i)return this;if(i instanceof c&&(i=i.attributes),n.unset)for(r in i)i[r]=void 0;if(!this._validate(i,n))return!1;this.idAttribute in i&&(this.id=i[this.idAttribute]);var s=n.changes={},l=this.attributes,u=this._escapedAttributes,d=this._previousAttributes||{};for(r in i)a=i[r],(!o.isEqual(l[r],a)||n.unset&&o.has(l,r))&&(delete u[r],(n.silent?this._silent:s)[r]=!0),n.unset?delete l[r]:l[r]=a,o.isEqual(d[r],a)&&o.has(l,r)==o.has(d,r)?(delete this.changed[r],delete this._pending[r]):(this.changed[r]=a,n.silent||(this._pending[r]=!0));return n.silent||this.change(n),this},unset:function(e,t){return(t||(t={})).unset=!0,this.set(e,null,t)},clear:function(e){return(e||(e={})).unset=!0,this.set(o.clone(this.attributes),e)},fetch:function(t){t=t?o.clone(t):{};var n=this,i=t.success;return t.success=function(e,r,o){return n.set(n.parse(e,o),t)?(i&&i(n,e),void 0):!1},t.error=e.wrapError(t.error,n,t),(this.sync||e.sync).call(this,"read",this,t)},save:function(t,n,i){var r,a;if(o.isObject(t)||null==t?(r=t,i=n):(r={},r[t]=n),i=i?o.clone(i):{},i.wait){if(!this._validate(r,i))return!1;a=o.clone(this.attributes)}var s=o.extend({},i,{silent:!0});if(r&&!this.set(r,i.wait?s:i))return!1;var l=this,c=i.success;i.success=function(e,t,n){var a=l.parse(e,n);return i.wait&&(delete i.wait,a=o.extend(r||{},a)),l.set(a,i)?(c?c(l,e):l.trigger("sync",l,e,i),void 0):!1},i.error=e.wrapError(i.error,l,i);var u=this.isNew()?"create":"update",d=(this.sync||e.sync).call(this,u,this,i);return i.wait&&this.set(a,s),d},destroy:function(t){t=t?o.clone(t):{};var n=this,i=t.success,r=function(){n.trigger("destroy",n,n.collection,t)};if(this.isNew())return r(),!1;t.success=function(e){t.wait&&r(),i?i(n,e):n.trigger("sync",n,e,t)},t.error=e.wrapError(t.error,n,t);var a=(this.sync||e.sync).call(this,"delete",this,t);return t.wait||r(),a},url:function(){var e=T(this,"urlRoot")||T(this.collection,"url")||D();return this.isNew()?e:e+("/"==e.charAt(e.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},change:function(e){e||(e={});var t=this._changing;this._changing=!0;for(var n in this._silent)this._pending[n]=!0;var i=o.extend({},e.changes,this._silent);this._silent={};for(var n in i)this.trigger("change:"+n,this,this.get(n),e);if(t)return this;for(;!o.isEmpty(this._pending);){this._pending={},this.trigger("change",this,e);for(var n in this.changed)this._pending[n]||this._silent[n]||delete this.changed[n];this._previousAttributes=o.clone(this.attributes)}return this._changing=!1,this},hasChanged:function(e){return arguments.length?o.has(this.changed,e):!o.isEmpty(this.changed)},changedAttributes:function(e){if(!e)return this.hasChanged()?o.clone(this.changed):!1;var t,n=!1,i=this._previousAttributes;for(var r in e)o.isEqual(i[r],t=e[r])||((n||(n={}))[r]=t);return n},previous:function(e){return arguments.length&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return o.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},_validate:function(e,t){if(t.silent||!this.validate)return!0;e=o.extend({},this.attributes,e);var n=this.validate(e,t);return n?(t&&t.error?t.error(this,n,t):this.trigger("error",this,n,t),!1):!0}});var u=e.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,{silent:!0,parse:t.parse})};o.extend(u.prototype,l,{model:c,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},add:function(e,t){var n,i,a,s,l,c,u={},d={},h=[];for(t||(t={}),e=o.isArray(e)?e.slice():[e],n=0,a=e.length;a>n;n++){if(!(s=e[n]=this._prepareModel(e[n],t)))throw Error("Can't add an invalid model to a collection");l=s.cid,c=s.id,u[l]||this._byCid[l]||null!=c&&(d[c]||this._byId[c])?h.push(n):u[l]=d[c]=s}for(n=h.length;n--;)e.splice(h[n],1);for(n=0,a=e.length;a>n;n++)(s=e[n]).on("all",this._onModelEvent,this),this._byCid[s.cid]=s,null!=s.id&&(this._byId[s.id]=s);if(this.length+=a,i=null!=t.at?t.at:this.models.length,r.apply(this.models,[i,0].concat(e)),this.comparator&&this.sort({silent:!0}),t.silent)return this;for(n=0,a=this.models.length;a>n;n++)u[(s=this.models[n]).cid]&&(t.index=n,s.trigger("add",s,this,t));return this},remove:function(e,t){var n,i,r,a;for(t||(t={}),e=o.isArray(e)?e.slice():[e],n=0,i=e.length;i>n;n++)a=this.getByCid(e[n])||this.get(e[n]),a&&(delete this._byId[a.id],delete this._byCid[a.cid],r=this.indexOf(a),this.models.splice(r,1),this.length--,t.silent||(t.index=r,a.trigger("remove",a,this,t)),this._removeReference(a));return this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,t),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return e=this._prepareModel(e,t),this.add(e,o.extend({at:0},t)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},get:function(e){return null==e?void 0:this._byId[null!=e.id?e.id:e]},getByCid:function(e){return e&&this._byCid[e.cid||e]},at:function(e){return this.models[e]},where:function(e){return o.isEmpty(e)?[]:this.filter(function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},sort:function(e){if(e||(e={}),!this.comparator)throw Error("Cannot sort a set without a comparator");var t=o.bind(this.comparator,this);return 1==this.comparator.length?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("reset",this,e),this},pluck:function(e){return o.map(this.models,function(t){return t.get(e)})},reset:function(e,t){e||(e=[]),t||(t={});for(var n=0,i=this.models.length;i>n;n++)this._removeReference(this.models[n]);return this._reset(),this.add(e,o.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),this},fetch:function(t){t=t?o.clone(t):{},void 0===t.parse&&(t.parse=!0);var n=this,i=t.success;return t.success=function(e,r,o){n[t.add?"add":"reset"](n.parse(e,o),t),i&&i(n,e)},t.error=e.wrapError(t.error,n,t),(this.sync||e.sync).call(this,"read",this,t)},create:function(e,t){var n=this;if(t=t?o.clone(t):{},e=this._prepareModel(e,t),!e)return!1;t.wait||n.add(e,t);var i=t.success;return t.success=function(r,o){t.wait&&n.add(r,t),i?i(r,o):r.trigger("sync",e,o,t)},e.save(null,t),e},parse:function(e){return e},chain:function(){return o(this.models).chain()},_reset:function(){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(e,t){if(t||(t={}),e instanceof c)e.collection||(e.collection=this);else{var n=e;t.collection=this,e=new this.model(n,t),e._validate(e.attributes,t)||(e=!1)}return e},_removeReference:function(e){this==e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){("add"!=e&&"remove"!=e||n==this)&&("destroy"==e&&this.remove(t,i),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],this._byId[t.id]=t),this.trigger.apply(this,arguments))}});var d=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];o.each(d,function(e){u.prototype[e]=function(){return o[e].apply(o,[this.models].concat(o.toArray(arguments)))}});var h=e.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},f=/:\w+/g,p=/\*\w+/g,m=/[-[\]{}()+?.,\\^$|#\s]/g;o.extend(h.prototype,l,{initialize:function(){},route:function(t,n,i){return e.history||(e.history=new g),o.isRegExp(t)||(t=this._routeToRegExp(t)),i||(i=this[n]),e.history.route(t,o.bind(function(r){var o=this._extractParameters(t,r);i&&i.apply(this,o),this.trigger.apply(this,["route:"+n].concat(o)),e.history.trigger("route",this,n,o)},this)),this},navigate:function(t,n){e.history.navigate(t,n)},_bindRoutes:function(){if(this.routes){var e=[];for(var t in this.routes)e.unshift([t,this.routes[t]]);for(var n=0,i=e.length;i>n;n++)this.route(e[n][0],e[n][1],this[e[n][1]])}},_routeToRegExp:function(e){return e=e.replace(m,"\\$&").replace(f,"([^/]+)").replace(p,"(.*?)"),RegExp("^"+e+"$")},_extractParameters:function(e,t){return e.exec(t).slice(1)}});var g=e.History=function(){this.handlers=[],o.bindAll(this,"checkUrl")},v=/^[#\/]/,y=/msie [\w.]+/;g.started=!1,o.extend(g.prototype,l,{interval:50,getHash:function(e){var t=e?e.location:window.location,n=t.href.match(/#(.*)$/);return n?n[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||t){e=window.location.pathname;var n=window.location.search;n&&(e+=n)}else e=this.getHash();
return e.indexOf(this.options.root)||(e=e.substr(this.options.root.length)),e.replace(v,"")},start:function(e){if(g.started)throw Error("Backbone.history has already been started");g.started=!0,this.options=o.extend({},{root:"/"},this.options,e),this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var t=this.getFragment(),n=document.documentMode,i=y.exec(navigator.userAgent.toLowerCase())&&(!n||7>=n);i&&(this.iframe=a('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(t)),this._hasPushState?a(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!i?a(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=t;var r=window.location,s=r.pathname==this.options.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!s?(this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&s&&r.hash&&(this.fragment=this.getHash().replace(v,""),window.history.replaceState({},document.title,r.protocol+"//"+r.host+this.options.root+this.fragment)),this.options.silent?void 0:this.loadUrl())},stop:function(){a(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),g.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e==this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e==this.fragment?!1:(this.iframe&&this.navigate(e),this.loadUrl()||this.loadUrl(this.getHash()),void 0)},loadUrl:function(e){var t=this.fragment=this.getFragment(e),n=o.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0});return n},navigate:function(e,t){if(!g.started)return!1;t&&t!==!0||(t={trigger:t});var n=(e||"").replace(v,"");this.fragment!=n&&(this._hasPushState?(0!=n.indexOf(this.options.root)&&(n=this.options.root+n),this.fragment=n,window.history[t.replace?"replaceState":"pushState"]({},document.title,n)):this._wantsHashChange?(this.fragment=n,this._updateHash(window.location,n,t.replace),this.iframe&&n!=this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,n,t.replace))):window.location.assign(this.options.root+e),t.trigger&&this.loadUrl(e))},_updateHash:function(e,t,n){n?e.replace((""+e).replace(/(javascript:|#).*$/,"")+"#"+t):e.hash=t}});var b=e.View=function(e){this.cid=o.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},w=/^(\S+)\s*(.*)$/,x=["model","collection","el","id","attributes","className","tagName"];o.extend(b.prototype,l,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this},make:function(e,t,n){var i=document.createElement(e);return t&&a(i).attr(t),n&&a(i).html(n),i},setElement:function(e,t){return this.$el&&this.undelegateEvents(),this.$el=e instanceof a?e:a(e),this.el=this.$el[0],t!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(e||(e=T(this,"events"))){this.undelegateEvents();for(var t in e){var n=e[t];if(o.isFunction(n)||(n=this[e[t]]),!n)throw Error('Method "'+e[t]+'" does not exist');var i=t.match(w),r=i[1],a=i[2];n=o.bind(n,this),r+=".delegateEvents"+this.cid,""===a?this.$el.bind(r,n):this.$el.delegate(a,r,n)}}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(e){this.options&&(e=o.extend({},this.options,e));for(var t=0,n=x.length;n>t;t++){var i=x[t];e[i]&&(this[i]=e[i])}this.options=e},_ensureElement:function(){if(this.el)this.setElement(this.el,!1);else{var e=T(this,"attributes")||{};this.id&&(e.id=this.id),this.className&&(e["class"]=this.className),this.setElement(this.make(this.tagName,e),!1)}}});var k=function(e,t){var n=S(this,e,t);return n.extend=this.extend,n};c.extend=u.extend=h.extend=b.extend=k;var _={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};e.sync=function(t,n,i){var r=_[t];i||(i={});var s={type:r,dataType:"json"};return i.url||(s.url=T(n,"url")||D()),i.data||!n||"create"!=t&&"update"!=t||(s.contentType="application/json",s.data=JSON.stringify(n.toJSON())),e.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),e.emulateHTTP&&("PUT"===r||"DELETE"===r)&&(e.emulateJSON&&(s.data._method=r),s.type="POST",s.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",r)}),"GET"===s.type||e.emulateJSON||(s.processData=!1),a.ajax(o.extend(s,i))},e.wrapError=function(e,t,n){return function(i,r){r=i===t?r:i,e?e(t,r,n):t.trigger("error",t,r,n)}};var C=function(){},S=function(e,t,n){var i;return i=t&&t.hasOwnProperty("constructor")?t.constructor:function(){e.apply(this,arguments)},o.extend(i,e),C.prototype=e.prototype,i.prototype=new C,t&&o.extend(i.prototype,t),n&&o.extend(i,n),i.prototype.constructor=i,i.__super__=e.prototype,i},T=function(e,t){return e&&e[t]?o.isFunction(e[t])?e[t]():e[t]:null},D=function(){throw Error('A "url" property or function must be specified')}}.call(this);var JSON;JSON||(JSON={}),function(){"use strict";function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,i,r,o,a,s=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?l+"":"null";case"boolean":case"null":return l+"";case"object":if(!l)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(l)){for(o=l.length,n=0;o>n;n+=1)a[n]=str(n,l)||"null";return r=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,r}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;o>n;n+=1)"string"==typeof rep[n]&&(i=rep[n],r=str(i,l),r&&a.push(quote(i)+(gap?": ":":")+r));else for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(r=str(i,l),r&&a.push(quote(i)+(gap?": ":":")+r));return r=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,r}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var i;if(gap="",indent="","number"==typeof n)for(i=0;n>i;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,i,r=e[t];if(r&&"object"==typeof r)for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i=walk(r,n),void 0!==i?r[n]=i:delete r[n]);return reviver.call(e,t,r)}var j;if(text+="",cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),!function(e){"use strict";e(function(){e.support.transition=function(){var e=function(){var e,t=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(e in n)if(void 0!==t.style[e])return n[e]}();return e&&{end:e}}()})}(window.jQuery),!function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function n(){i.trigger("closed").remove()}var i,r=e(this),o=r.attr("data-target");o||(o=r.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),i=e(o),t&&t.preventDefault(),i.length||(i=r.hasClass("alert")?r:r.parent()),i.trigger(t=e.Event("close")),t.isDefaultPrevented()||(i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.on(e.support.transition.end,n):n())};var i=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var i=e(this),r=i.data("alert");r||i.data("alert",r=new n(this)),"string"==typeof t&&r[t].call(i)})},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.alert.data-api",t,n.prototype.close)}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.button.defaults,n)};t.prototype.setState=function(e){var t="disabled",n=this.$element,i=n.data(),r=n.is("input")?"val":"html";e+="Text",i.resetText||n.data("resetText",n[r]()),n[r](i[e]||this.options[e]),setTimeout(function(){"loadingText"==e?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=function(n){return this.each(function(){var i=e(this),r=i.data("button"),o="object"==typeof n&&n;r||i.data("button",r=new t(this,o)),"toggle"==n?r.toggle():n&&r.setState(n)})},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,"hover"==this.options.pause&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.prototype={cycle:function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(t){var n=this.getActiveIndex(),i=this;if(!(t>this.$items.length-1||0>t))return this.sliding?this.$element.one("slid",function(){i.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",e(this.$items[t]))},pause:function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){return this.sliding?void 0:this.slide("next")},prev:function(){return this.sliding?void 0:this.slide("prev")},slide:function(t,n){var i,r=this.$element.find(".item.active"),o=n||r[t](),a=this.interval,s="next"==t?"left":"right",l="next"==t?"first":"last",c=this;if(this.sliding=!0,a&&this.pause(),o=o.length?o:this.$element.find(".item")[l](),i=e.Event("slide",{relatedTarget:o[0],direction:s}),!o.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var t=e(c.$indicators.children()[c.getActiveIndex()]);t&&t.addClass("active")})),e.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(i),i.isDefaultPrevented())return;o.addClass(t),o[0].offsetWidth,r.addClass(s),o.addClass(s),this.$element.one(e.support.transition.end,function(){o.removeClass([t,s].join(" ")).addClass("active"),r.removeClass(["active",s].join(" ")),c.sliding=!1,setTimeout(function(){c.$element.trigger("slid")},0)})}else{if(this.$element.trigger(i),i.isDefaultPrevented())return;r.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return a&&this.cycle(),this}}};var n=e.fn.carousel;e.fn.carousel=function(n){return this.each(function(){var i=e(this),r=i.data("carousel"),o=e.extend({},e.fn.carousel.defaults,"object"==typeof n&&n),a="string"==typeof n?n:o.slide;r||i.data("carousel",r=new t(this,o)),"number"==typeof n?r.to(n):a?r[a]():o.interval&&r.pause().cycle()})},e.fn.carousel.defaults={interval:5e3,pause:"hover"},e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this},e(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(t){var n,i,r=e(this),o=e(r.attr("data-target")||(n=r.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),a=e.extend({},o.data(),r.data());o.carousel(a),(i=r.attr("data-slide-to"))&&o.data("carousel").pause().to(i).cycle(),t.preventDefault()})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.collapse.defaults,n),this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var t,n,i,r;if(!this.transitioning&&!this.$element.hasClass("in")){if(t=this.dimension(),n=e.camelCase(["scroll",t].join("-")),i=this.$parent&&this.$parent.find("> .accordion-group > .in"),i&&i.length){if(r=i.data("collapse"),r&&r.transitioning)return;i.collapse("hide"),r||i.data("collapse",null)}this.$element[t](0),this.transition("addClass",e.Event("show"),"shown"),e.support.transition&&this.$element[t](this.$element[0][n])}},hide:function(){var t;!this.transitioning&&this.$element.hasClass("in")&&(t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",e.Event("hide"),"hidden"),this.$element[t](0))},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[null!==e?"addClass":"removeClass"]("collapse"),this},transition:function(t,n,i){var r=this,o=function(){"show"==n.type&&r.reset(),r.transitioning=0,r.$element.trigger(i)};this.$element.trigger(n),n.isDefaultPrevented()||(this.transitioning=1,this.$element[t]("in"),e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,o):o())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var n=e.fn.collapse;e.fn.collapse=function(n){return this.each(function(){var i=e(this),r=i.data("collapse"),o=e.extend({},e.fn.collapse.defaults,i.data(),"object"==typeof n&&n);r||i.data("collapse",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.collapse.defaults={toggle:!0},e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=n,this},e(document).on("click.collapse.data-api","[data-toggle=collapse]",function(t){var n,i=e(this),r=i.attr("data-target")||t.preventDefault()||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),o=e(r).data("collapse")?"toggle":i.data();i[e(r).hasClass("in")?"addClass":"removeClass"]("collapsed"),e(r).collapse(o)})}(window.jQuery),!function(e){"use strict";function t(){e(i).each(function(){n(e(this)).removeClass("open")})}function n(t){var n,i=t.attr("data-target");return i||(i=t.attr("href"),i=i&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),n=i&&e(i),n&&n.length||(n=t.parent()),n}var i="[data-toggle=dropdown]",r=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};r.prototype={constructor:r,toggle:function(){var i,r,o=e(this);if(!o.is(".disabled, :disabled"))return i=n(o),r=i.hasClass("open"),t(),r||i.toggleClass("open"),o.focus(),!1},keydown:function(t){var r,o,a,s,l;if(/(38|40|27)/.test(t.keyCode)&&(r=e(this),t.preventDefault(),t.stopPropagation(),!r.is(".disabled, :disabled"))){if(a=n(r),s=a.hasClass("open"),!s||s&&27==t.keyCode)return 27==t.which&&a.find(i).focus(),r.click();o=e("[role=menu] li:not(.divider):visible a",a),o.length&&(l=o.index(o.filter(":focus")),38==t.keyCode&&l>0&&l--,40==t.keyCode&&o.length-1>l&&l++,~l||(l=0),o.eq(l).focus())}}};var o=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var n=e(this),i=n.data("dropdown");i||n.data("dropdown",i=new r(this)),"string"==typeof t&&i[t].call(n)})},e.fn.dropdown.Constructor=r,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=o,this},e(document).on("click.dropdown.data-api",t).on("click.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown.data-api",".dropdown-menu",function(e){e.stopPropagation()}).on("click.dropdown.data-api",i,r.prototype.toggle).on("keydown.dropdown.data-api",i+", [role=menu]",r.prototype.keydown)}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1),t.enforceFocus(),n?t.$element.one(e.support.transition.end,function(){t.$element.focus().trigger("shown")}):t.$element.focus().trigger("shown")}))},hide:function(t){t&&t.preventDefault(),t=e.Event("hide"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){t.$element[0]===e.target||t.$element.has(e.target).length||t.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){27==t.which&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n),t.hideModal()})},hideModal:function(){var e=this;this.$element.hide(),this.backdrop(function(){e.removeBackdrop(),e.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&n;if(this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?e.proxy(this.$element[0].focus,this.$element[0]):e.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t):t()):t&&t()}};var n=e.fn.modal;e.fn.modal=function(n){return this.each(function(){var i=e(this),r=i.data("modal"),o=e.extend({},e.fn.modal.defaults,i.data(),"object"==typeof n&&n);r||i.data("modal",r=new t(this,o)),"string"==typeof n?r[n]():o.show&&r.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),i=n.attr("href"),r=e(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),o=r.data("modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},r.data(),n.data());t.preventDefault(),r.modal(o).one("hide",function(){n.focus()})})}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,i){var r,o,a,s,l;for(this.type=t,this.$element=e(n),this.options=this.getOptions(i),this.enabled=!0,a=this.options.trigger.split(" "),l=a.length;l--;)s=a[l],"click"==s?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):"manual"!=s&&(r="hover"==s?"mouseenter":"focus",o="hover"==s?"mouseleave":"blur",this.$element.on(r+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(o+"."+this.type,this.options.selector,e.proxy(this.leave,this)));this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n,i=e.fn[this.type].defaults,r={};return this._options&&e.each(this._options,function(e,t){i[e]!=t&&(r[e]=t)},this),n=e(t.currentTarget)[this.type](r).data(this.type),n.options.delay&&n.options.delay.show?(clearTimeout(this.timeout),n.hoverState="in",this.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show),void 0):n.show()},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),n.options.delay&&n.options.delay.hide?(n.hoverState="out",this.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide),void 0):n.hide()},show:function(){var t,n,i,r,o,a,s=e.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(s),s.isDefaultPrevented())return;switch(t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),o="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,t.detach().css({top:0,left:0,display:"block"}),this.options.container?t.appendTo(this.options.container):t.insertAfter(this.$element),n=this.getPosition(),i=t[0].offsetWidth,r=t[0].offsetHeight,o){case"bottom":a={top:n.top+n.height,left:n.left+n.width/2-i/2};break;case"top":a={top:n.top-r,left:n.left+n.width/2-i/2};break;case"left":a={top:n.top+n.height/2-r/2,left:n.left-i};break;case"right":a={top:n.top+n.height/2-r/2,left:n.left+n.width}}this.applyPlacement(a,o),this.$element.trigger("shown")}},applyPlacement:function(e,t){var n,i,r,o,a=this.tip(),s=a[0].offsetWidth,l=a[0].offsetHeight;a.offset(e).addClass(t).addClass("in"),n=a[0].offsetWidth,i=a[0].offsetHeight,"top"==t&&i!=l&&(e.top=e.top+l-i,o=!0),"bottom"==t||"top"==t?(r=0,0>e.left&&(r=-2*e.left,e.left=0,a.offset(e),n=a[0].offsetWidth,i=a[0].offsetHeight),this.replaceArrow(r-s+n,n,"left")):this.replaceArrow(i-l,i,"top"),o&&a.offset(e)},replaceArrow:function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function t(){var t=setTimeout(function(){n.off(e.support.transition.end).detach()},500);n.one(e.support.transition.end,function(){clearTimeout(t),n.detach()})}var n=this.tip(),i=e.Event("hide");return this.$element.trigger(i),i.isDefaultPrevented()?void 0:(n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?t():n.detach(),this.$element.trigger("hidden"),this)},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var t=this.$element[0];return e.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},getTitle:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},tip:function(){return this.$tip=this.$tip||e(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var n=t?e(t.currentTarget)[this.type](this._options).data(this.type):this;n.tip().hasClass("in")?n.hide():n.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var i=e(this),r=i.data("tooltip"),o="object"==typeof n&&n;r||i.data("tooltip",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"html":"text"](n),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,n=this.options;return e=("function"==typeof n.content?n.content.call(t[0]):n.content)||t.attr("data-content")},tip:function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var i=e(this),r=i.data("popover"),o="object"==typeof n&&n;r||i.data("popover",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.popover.Constructor=t,e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(window.jQuery),!function(e){"use strict";function t(t,n){var i,r=e.proxy(this.process,this),o=e(t).is("body")?e(window):e(t);this.options=e.extend({},e.fn.scrollspy.defaults,n),this.$scrollElement=o.on("scroll.scroll-spy.data-api",r),this.selector=(this.options.target||(i=e(t).attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=e("body"),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){var t,n=this;this.offsets=e([]),this.targets=e([]),t=this.$body.find(this.selector).map(function(){var t=e(this),i=t.data("target")||t.attr("href"),r=/^#\w/.test(i)&&e(i);return r&&r.length&&[[r.position().top+(!e.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},process:function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,i=n-this.$scrollElement.height(),r=this.offsets,o=this.targets,a=this.activeTarget;if(t>=i)return a!=(e=o.last()[0])&&this.activate(e);for(e=r.length;e--;)a!=o[e]&&t>=r[e]&&(!r[e+1]||r[e+1]>=t)&&this.activate(o[e])},activate:function(t){var n,i;this.activeTarget=t,e(this.selector).parent(".active").removeClass("active"),i=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(i).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}};var n=e.fn.scrollspy;e.fn.scrollspy=function(n){return this.each(function(){var i=e(this),r=i.data("scrollspy"),o="object"==typeof n&&n;r||i.data("scrollspy",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.defaults={offset:10},e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery),!function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t,n,i,r=this.element,o=r.closest("ul:not(.dropdown-menu)"),a=r.attr("data-target");a||(a=r.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,"")),r.parent("li").hasClass("active")||(t=o.find(".active:last a")[0],i=e.Event("show",{relatedTarget:t}),r.trigger(i),i.isDefaultPrevented()||(n=e(a),this.activate(r.parent("li"),o),this.activate(n,n.parent(),function(){r.trigger({type:"shown",relatedTarget:t})})))},activate:function(t,n,i){function r(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),a?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),i&&i()}var o=n.find("> .active"),a=i&&e.support.transition&&o.hasClass("fade");a?o.one(e.support.transition.end,r):r(),o.removeClass("in")}};var n=e.fn.tab;e.fn.tab=function(n){return this.each(function(){var i=e(this),r=i.data("tab");r||i.data("tab",r=new t(this)),"string"==typeof n&&r[n]()})},e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=n,this},e(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=e(this.options.menu),this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:t.top+t.height,left:t.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(){var t;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(t=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source,t?this.process(t):this)},process:function(t){var n=this;return t=e.grep(t,function(e){return n.matcher(e)}),t=this.sorter(t),t.length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this
},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){for(var t,n=[],i=[],r=[];t=e.shift();)t.toLowerCase().indexOf(this.query.toLowerCase())?~t.indexOf(this.query)?i.push(t):r.push(t):n.push(t);return n.concat(i,r)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var n=this;return t=e(t).map(function(t,i){return t=e(n.options.item).attr("data-value",i),t.find("a").html(n.highlighter(i)),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},next:function(){var t=this.$menu.find(".active").removeClass("active"),n=t.next();n.length||(n=e(this.$menu.find("li")[0])),n.addClass("active")},prev:function(){var e=this.$menu.find(".active").removeClass("active"),t=e.prev();t.length||(t=this.$menu.find("li").last()),t.addClass("active")},listen:function(){this.$element.on("focus",e.proxy(this.focus,this)).on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this)).on("mouseleave","li",e.proxy(this.mouseleave,this))},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t="function"==typeof this.$element[e]),t},move:function(e){if(this.shown){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()}},keydown:function(t){this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},focus:function(){this.focused=!0},blur:function(){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(e){e.stopPropagation(),e.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(t){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")},mouseleave:function(){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var n=e.fn.typeahead;e.fn.typeahead=function(n){return this.each(function(){var i=e(this),r=i.data("typeahead"),o="object"==typeof n&&n;r||i.data("typeahead",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},e.fn.typeahead.Constructor=t,e.fn.typeahead.noConflict=function(){return e.fn.typeahead=n,this},e(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(){var t=e(this);t.data("typeahead")||t.typeahead(t.data())})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.options=e.extend({},e.fn.affix.defaults,n),this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)).on("click.affix.data-api",e.proxy(function(){setTimeout(e.proxy(this.checkPosition,this),1)},this)),this.$element=e(t),this.checkPosition()};t.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t,n=e(document).height(),i=this.$window.scrollTop(),r=this.$element.offset(),o=this.options.offset,a=o.bottom,s=o.top,l="affix affix-top affix-bottom";"object"!=typeof o&&(a=s=o),"function"==typeof s&&(s=o.top()),"function"==typeof a&&(a=o.bottom()),t=null!=this.unpin&&i+this.unpin<=r.top?!1:null!=a&&r.top+this.$element.height()>=n-a?"bottom":null!=s&&s>=i?"top":!1,this.affixed!==t&&(this.affixed=t,this.unpin="bottom"==t?r.top-i:null,this.$element.removeClass(l).addClass("affix"+(t?"-"+t:"")))}};var n=e.fn.affix;e.fn.affix=function(n){return this.each(function(){var i=e(this),r=i.data("affix"),o="object"==typeof n&&n;r||i.data("affix",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.affix.Constructor=t,e.fn.affix.defaults={offset:0},e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)})})}(window.jQuery);var Cookie={set:function(e,t,n,i){var r="";if(void 0!==n){var o=new Date;o.setTime(o.getTime()+864e5*parseFloat(n)),r="; expires="+o.toGMTString()}void 0===i&&(i={path:"/"});var a=document.cookie=escape(e)+"="+escape(t||"")+(i.path?";path="+i.path:"")+(i.domain?";domain="+i.domain:"")+(i.secure?";secure":"")+r;return a},get:function(e){var t=document.cookie.match(RegExp("(^|;)\\s*"+escape(e)+"=([^;\\s]*)"));return t?unescape(t[2]):null},erase:function(e){var t=Cookie.get(e)||!0;return Cookie.set(e,"",-1),t},all:function(){return _(document.cookie.split(";")).reduce(function(e,t){return kv=t.split("="),e[kv[0]]=kv[1],e},{})}};(function(e){"use strict";function t(){this.data={}}function n(){this.listeners=new t}function i(e){setTimeout(function(){throw e},0)}function r(e){this.type=e}function o(e,t){r.call(this,e),this.data=t.data,this.lastEventId=t.lastEventId}function a(e,t){var n=Number(e);return(1>n?1:n>18e6?18e6:n)||t}function s(e){e.onload=e.onerror=e.onprogress=e.onreadystatechange=null,e.abort()}function l(e,t,n){try{"function"==typeof e[t]&&e[t](n)}catch(r){i(r)}}function c(t,i){function c(){null!==P&&(s(P),P=null),0!==j&&(clearTimeout(j),j=0),R=b,N.readyState=b}function u(e){var t=P.responseText||"",n=null;if(R===v){var i=p?""!==t?P.getResponseHeader("Content-Type"):"":P.contentType;if(i&&w.test(i)&&(R=y,I=!0,A=T,N.readyState=y,n=new r("open"),N.dispatchEvent(n),l(N,"onopen",n),R===b))return}if(R===y){var c=t.slice(L);c.length>0&&(I=!0);for(var u=0;-1!==(u=c.search(k));){var d=c.slice(u,u+1);if(z&&0===u&&"\n"===d)z=!1,c=c.slice(u+1);else{z="\r"===d,B.push(c.slice(0,u));var h=B.join("");if(B.length=0,c=c.slice(u+1),""!==h){var f="",m=h.indexOf(":");-1!==m&&(f=h.slice(m+(" "===h.slice(m+1,m+2)?2:1)),h=h.slice(0,m)),"data"===h?O.push(f):"id"===h?F=f:"event"===h?H=f:"retry"===h?(T=a(f,T),A=T,T>D&&(D=T)):"retryLimit"===h?D=a(f,D):"heartbeatTimeout"===h&&(M=a(f,M),0!==j&&(clearTimeout(j),j=setTimeout(C,M)))}else{if(0!==O.length){E=F;var x=H||"message";if(n=new o(x,{data:O.join("\n"),lastEventId:F}),N.dispatchEvent(n),"message"===x&&l(N,"onmessage",n),R===b)return}O.length=0,H=""}}}""!==c&&B.push(c),L=t.length}e||L>1048576||0===j&&!I?(s(P),0!==j&&(clearTimeout(j),j=0),A>D&&(A=D),R=g,j=setTimeout(C,A),A=2*A+1,N.readyState=v,n=new r("error"),N.dispatchEvent(n),l(N,"onerror",n)):0===j&&(I=!1,j=setTimeout(C,M))}function d(){R===y&&u(!1)}function h(){u(!1),setTimeout(d,64)}function _(){u(!0)}function C(){return j=0,R!==g?(u(!1),void 0):navigator.onLine===!1?(j=setTimeout(C,500),void 0):x&&e.document&&("loading"===e.document.readyState||"interactive"===e.document.readyState)?(j=setTimeout(C,100),void 0):(P.onload=P.onerror=_,void 0===P.mozAnon&&(P.onprogress=h),P.onreadystatechange=h,I=!1,j=setTimeout(C,M),L=0,R=v,O.length=0,H="",F=E,B.length=0,z=!1,P.open("GET",t+((-1===t.indexOf("?")?"?":"&")+"lastEventId="+encodeURIComponent(E)+"&r="+(Math.random()+"").slice(2)),!0),P.withCredentials=S,P.responseType="text",p&&(P.setRequestHeader("Cache-Control","no-cache"),P.setRequestHeader("Accept","text/event-stream"),P.setRequestHeader("Last-Event-ID",E)),P.send(null),void 0)}t+="";var S=Boolean(f&&i&&i.withCredentials),T=a(i?i.retry:0/0,1e3),D=a(i?i.retryLimit:0/0,3e5),M=a(i?i.heartbeatTimeout:0/0,45e3),E=i&&i.lastEventId&&i.lastEventId+""||"",N=this,A=T,I=!1,P=new m,j=0,L=0,R=g,O=[],F="",H="",B=[],z=!1;i=null,n.call(this),this.close=c,this.url=t,this.readyState=v,this.withCredentials=S,C()}function u(){this.CONNECTING=v,this.OPEN=y,this.CLOSED=b}t.prototype={get:function(e){return this.data[e+"~"]},set:function(e,t){this.data[e+"~"]=t},"delete":function(e){delete this.data[e+"~"]}},n.prototype={dispatchEvent:function(e){var t=e.type+"",n=this.listeners,r=n.get(t);if(r)for(var o=r.length,a=-1;o>++a;){var s=r[a];try{s.call(this,e)}catch(l){i(l)}}},addEventListener:function(e,t){e+="";var n=this.listeners,i=n.get(e);i||n.set(e,i=[]);for(var r=i.length;--r>=0;)if(i[r]===t)return;i.push(t)},removeEventListener:function(e,t){e+="";var n=this.listeners,i=n.get(e);if(i){for(var r=i.length,o=[],a=-1;r>++a;)i[a]!==t&&o.push(i[a]);0===o.length?n["delete"](e):n.set(e,o)}}},o.prototype=r.prototype;var d=e.XMLHttpRequest,h=e.XDomainRequest,f=Boolean(d&&void 0!==(new d).withCredentials),p=f,m=f?d:h,g=-1,v=0,y=1,b=2,w=/^text\/event\-stream;?(\s*charset\=utf\-8)?$/i,x=/AppleWebKit\/5([0-2][0-9]|3[0-4])[^\d]/.test(navigator.userAgent),k=/[\r\n]/;u.prototype=n.prototype,c.prototype=new u,u.call(c),m&&(e.EventSource=c)})(this),function(e){e.fn.each2===void 0&&e.fn.extend({each2:function(t){for(var n=e([0]),i=-1,r=this.length;r>++i&&(n.context=n[0]=this[i])&&t.call(n[0],i,n)!==!1;);return this}})}(jQuery),function(e,t){"use strict";function n(e,t){for(var n=0,i=t.length;i>n;n+=1)if(r(e,t[n]))return n;return-1}function i(){var t=e(R);t.appendTo("body");var n={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),n}function r(e,n){return e===n?!0:e===t||n===t?!1:null===e||null===n?!1:e.constructor===String?e+""==n+"":n.constructor===String?n+""==e+"":!1}function o(t,n){var i,r,o;if(null===t||1>t.length)return[];for(i=t.split(n),r=0,o=i.length;o>r;r+=1)i[r]=e.trim(i[r]);return i}function a(e){return e.outerWidth(!1)-e.width()}function s(n){var i="keyup-change-value";n.on("keydown",function(){e.data(n,i)===t&&e.data(n,i,n.val())}),n.on("keyup",function(){var r=e.data(n,i);r!==t&&n.val()!==r&&(e.removeData(n,i),n.trigger("keyup-change"))})}function l(n){n.on("mousemove",function(n){var i=P;(i===t||i.x!==n.pageX||i.y!==n.pageY)&&e(n.target).trigger("mousemove-filtered",n)})}function c(e,n,i){i=i||t;var r;return function(){var t=arguments;window.clearTimeout(r),r=window.setTimeout(function(){n.apply(i,t)},e)}}function u(e){var t,n=!1;return function(){return n===!1&&(t=e(),n=!0),t}}function d(e,t){var i=c(e,function(e){t.trigger("scroll-debounced",e)});t.on("scroll",function(e){n(e.target,t.get())>=0&&i(e)})}function h(e){e[0]!==document.activeElement&&window.setTimeout(function(){var t,n=e[0],i=e.val().length;e.focus(),e.is(":visible")&&n===document.activeElement&&(n.setSelectionRange?n.setSelectionRange(i,i):n.createTextRange&&(t=n.createTextRange(),t.collapse(!1),t.select()))},0)}function f(t){t=e(t)[0];var n=0,i=0;if("selectionStart"in t)n=t.selectionStart,i=t.selectionEnd-n;else if("selection"in document){t.focus();var r=document.selection.createRange();i=document.selection.createRange().text.length,r.moveStart("character",-t.value.length),n=r.text.length-i}return{offset:n,length:i}}function p(e){e.preventDefault(),e.stopPropagation()}function m(e){e.preventDefault(),e.stopImmediatePropagation()}function g(t){if(!I){var n=t[0].currentStyle||window.getComputedStyle(t[0],null);I=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"}),I.attr("class","select2-sizer"),e("body").append(I)}return I.text(t.val()),I.width()}function v(t,n,i){var r,o,a=[];r=t.attr("class"),r&&(r=""+r,e(r.split(" ")).each2(function(){0===this.indexOf("select2-")&&a.push(this)})),r=n.attr("class"),r&&(r=""+r,e(r.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(o=i(this),o&&a.push(this))})),t.attr("class",a.join(" "))}function y(e,n,i,r){var o=e.toUpperCase().indexOf(n.toUpperCase()),a=n.length;return 0>o?(i.push(r(e)),t):(i.push(r(e.substring(0,o))),i.push("<span class='select2-match'>"),i.push(r(e.substring(o,o+a))),i.push("</span>"),i.push(r(e.substring(o+a,e.length))),t)}function b(n){var i,r=0,o=null,a=n.quietMillis||100,s=n.url,l=this;return function(c){window.clearTimeout(i),i=window.setTimeout(function(){r+=1;var i=r,a=n.data,u=s,d=n.transport||e.fn.select2.ajaxDefaults.transport,h={type:n.type||"GET",cache:n.cache||!1,jsonpCallback:n.jsonpCallback||t,dataType:n.dataType||"json"},f=e.extend({},e.fn.select2.ajaxDefaults.params,h);a=a?a.call(l,c.term,c.page,c.context):null,u="function"==typeof u?u.call(l,c.term,c.page,c.context):u,null!==o&&o.abort(),n.params&&(e.isFunction(n.params)?e.extend(f,n.params.call(l)):e.extend(f,n.params)),e.extend(f,{url:u,dataType:n.dataType,data:a,success:function(e){if(!(r>i)){var t=n.results(e,c.page);c.callback(t)}}}),o=d.call(l,f)},a)}}function w(n){var i,r,o=n,a=function(e){return""+e.text};e.isArray(o)&&(r=o,o={results:r}),e.isFunction(o)===!1&&(r=o,o=function(){return r});var s=o();return s.text&&(a=s.text,e.isFunction(a)||(i=s.text,a=function(e){return e[i]})),function(n){var i,r=n.term,s={results:[]};return""===r?(n.callback(o()),t):(i=function(t,o){var s,l;if(t=t[0],t.children){s={};for(l in t)t.hasOwnProperty(l)&&(s[l]=t[l]);s.children=[],e(t.children).each2(function(e,t){i(t,s.children)}),(s.children.length||n.matcher(r,a(s),t))&&o.push(s)}else n.matcher(r,a(t),t)&&o.push(t)},e(o().results).each2(function(e,t){i(t,s.results)}),n.callback(s),t)}}function x(n){var i=e.isFunction(n);return function(r){var o=r.term,a={results:[]};e(i?n():n).each(function(){var e=this.text!==t,n=e?this.text:this;(""===o||r.matcher(o,n))&&a.results.push(e?this:{id:this,text:this})}),r.callback(a)}}function k(t){if(e.isFunction(t))return!0;if(!t)return!1;throw Error("formatterName must be a function or a falsy value")}function _(t){return e.isFunction(t)?t():t}function C(t){var n=0;return e.each(t,function(e,t){t.children?n+=C(t.children):n++}),n}function S(e,n,i,o){var a,s,l,c,u,d=e,h=!1;if(!o.createSearchChoice||!o.tokenSeparators||1>o.tokenSeparators.length)return t;for(;;){for(s=-1,l=0,c=o.tokenSeparators.length;c>l&&(u=o.tokenSeparators[l],s=e.indexOf(u),!(s>=0));l++);if(0>s)break;if(a=e.substring(0,s),e=e.substring(s+u.length),a.length>0&&(a=o.createSearchChoice(a,n),a!==t&&null!==a&&o.id(a)!==t&&null!==o.id(a))){for(h=!1,l=0,c=n.length;c>l;l++)if(r(o.id(a),o.id(n[l]))){h=!0;break}h||i(a)}}return d!==e?e:t}function T(t,n){var i=function(){};return i.prototype=new t,i.prototype.constructor=i,i.prototype.parent=t.prototype,i.prototype=e.extend(i.prototype,n),i}if(window.Select2===t){var D,M,E,N,A,I,P,j,L,D={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case D.LEFT:case D.RIGHT:case D.UP:case D.DOWN:return!0}return!1},isControl:function(e){var t=e.which;switch(t){case D.SHIFT:case D.CTRL:case D.ALT:return!0}return e.metaKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e}},R="<div class='select2-measure-scrollbar'></div>";j=e(document),A=function(){var e=1;return function(){return e++}}(),j.on("mousemove",function(e){P={x:e.pageX,y:e.pageY}}),M=T(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(n){var r,o,a,c,h=".select2-results";this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==t&&null!==n.element.data("select2")&&this.destroy(),this.container=this.createContainer(),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+A()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=u(function(){return n.element.closest("body")}),v(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.css(_(n.containerCss)),this.container.addClass(_(n.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),this.dropdown.addClass(_(n.dropdownCssClass)),this.dropdown.data("select2",this),this.results=r=this.container.find(h),this.search=o=this.container.find("input.select2-input"),this.resultsPage=0,this.context=null,this.initContainer(),l(this.results),this.dropdown.on("mousemove-filtered touchstart touchmove touchend",h,this.bind(this.highlightUnderEvent)),d(80,this.results),this.dropdown.on("scroll-debounced",h,this.bind(this.loadMoreIfNeeded)),e(this.container).on("change",".select2-input",function(e){e.stopPropagation()}),e(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()}),e.fn.mousewheel&&r.mousewheel(function(e,t,n,i){var o=r.scrollTop();i>0&&0>=o-i?(r.scrollTop(0),p(e)):0>i&&r.get(0).scrollHeight-r.scrollTop()+i<=r.height()&&(r.scrollTop(r.get(0).scrollHeight-r.height()),p(e))}),s(o),o.on("keyup-change input paste",this.bind(this.updateResults)),o.on("focus",function(){o.addClass("select2-focused")}),o.on("blur",function(){o.removeClass("select2-focused")}),this.dropdown.on("mouseup",h,this.bind(function(t){e(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.on("click mouseup mousedown",function(e){e.stopPropagation()}),e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==n.maximumInputLength&&this.search.attr("maxlength",n.maximumInputLength);var a=n.element.prop("disabled");a===t&&(a=!1),this.enable(!a);var c=n.element.prop("readonly");c===t&&(c=!1),this.readonly(c),L=L||i(),this.autofocus=n.element.prop("autofocus"),n.element.prop("autofocus",!1),this.autofocus&&this.focus()},destroy:function(){var e=this.opts.element.data("select2");this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),e!==t&&(e.container.remove(),e.dropdown.remove(),e.opts.element.removeClass("select2-offscreen").removeData("select2").off(".select2").attr({tabindex:this.elementTabIndex}).prop("autofocus",this.autofocus||!1).show())},optionToData:function(e){return e.is("option")?{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:r(e.attr("locked"),"locked")}:e.is("optgroup")?{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}:t},prepareOpts:function(n){var i,a,s,l,c=this;if(i=n.element,"select"===i.get(0).tagName.toLowerCase()&&(this.select=a=n.element),a&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),n=e.extend({},{populateResults:function(i,r,o){var a,s=this.opts.id;a=function(i,r,l){var u,d,h,f,p,m,g,v,y,b;for(i=n.sortResults(i,r,o),u=0,d=i.length;d>u;u+=1)h=i[u],p=h.disabled===!0,f=!p&&s(h)!==t,m=h.children&&h.children.length>0,g=e("<li></li>"),g.addClass("select2-results-dept-"+l),g.addClass("select2-result"),g.addClass(f?"select2-result-selectable":"select2-result-unselectable"),p&&g.addClass("select2-disabled"),m&&g.addClass("select2-result-with-children"),g.addClass(c.opts.formatResultCssClass(h)),v=e(document.createElement("div")),v.addClass("select2-result-label"),b=n.formatResult(h,v,o,c.opts.escapeMarkup),b!==t&&v.html(b),g.append(v),m&&(y=e("<ul></ul>"),y.addClass("select2-result-sub"),a(h.children,y,l+1),g.append(y)),g.data("select2-data",h),r.append(g)},a(r,i,0)}},e.fn.select2.defaults,n),"function"!=typeof n.id&&(s=n.id,n.id=function(e){return e[s]}),e.isArray(n.element.data("select2Tags"))){if("tags"in n)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+n.element.attr("id");n.tags=n.element.data("select2Tags")}if(a?(n.query=this.bind(function(n){var r,o,a,s={results:[],more:!1},l=n.term;a=function(e,t){var i;e.is("option")?n.matcher(l,e.text(),e)&&t.push(c.optionToData(e)):e.is("optgroup")&&(i=c.optionToData(e),e.children().each2(function(e,t){a(t,i.children)}),i.children.length>0&&t.push(i))},r=i.children(),this.getPlaceholder()!==t&&r.length>0&&(o=r[0],""===e(o).text()&&(r=r.not(o))),r.each2(function(e,t){a(t,s.results)}),n.callback(s)}),n.id=function(e){return e.id},n.formatResultCssClass=function(e){return e.css}):"query"in n||("ajax"in n?(l=n.element.data("ajax-url"),l&&l.length>0&&(n.ajax.url=l),n.query=b.call(n.element,n.ajax)):"data"in n?n.query=w(n.data):"tags"in n&&(n.query=x(n.tags),n.createSearchChoice===t&&(n.createSearchChoice=function(e){return{id:e,text:e}}),n.initSelection===t&&(n.initSelection=function(i,a){var s=[];e(o(i.val(),n.separator)).each(function(){var i=this,o=this,a=n.tags;e.isFunction(a)&&(a=a()),e(a).each(function(){return r(this.id,i)?(o=this.text,!1):t}),s.push({id:i,text:o})}),a(s)}))),"function"!=typeof n.query)throw"query function not defined for Select2 "+n.element.attr("id");return n},monitorSource:function(){var e,n=this.opts.element;n.on("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),e=this.bind(function(){var e,i=n.prop("disabled");i===t&&(i=!1),this.enable(!i);var e=n.prop("readonly");e===t&&(e=!1),this.readonly(e),v(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(_(this.opts.containerCssClass)),v(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(_(this.opts.dropdownCssClass))}),n.on("propertychange.select2 DOMAttrModified.select2",e),this.mutationCallback===t&&(this.mutationCallback=function(t){t.forEach(e)}),"undefined"!=typeof WebKitMutationObserver&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new WebKitMutationObserver(this.mutationCallback),this.propertyObserver.observe(n.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var n=e.Event("select2-selecting",{val:this.id(t),object:t});return this.opts.element.trigger(n),!n.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0)},enable:function(e){return e===t&&(e=!0),this._enabled===e?!1:(this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface(),!0)},readonly:function(e){return e===t&&(e=!1),this._readonly===e?!1:(this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface(),!0)},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t,n,i,r,o=this.dropdown,a=this.container.offset(),s=this.container.outerHeight(!1),l=this.container.outerWidth(!1),c=o.outerHeight(!1),u=e(window).scrollLeft()+e(window).width(),d=e(window).scrollTop()+e(window).height(),h=a.top+s,f=a.left,p=d>=h+c,m=a.top-c>=this.body().scrollTop(),g=o.outerWidth(!1),v=u>=f+g,y=o.hasClass("select2-drop-above");this.opts.dropdownAutoWidth?(r=e(".select2-results",o)[0],o.addClass("select2-drop-auto-width"),o.css("width",""),g=o.outerWidth(!1)+(r.scrollHeight===r.clientHeight?0:L.width),g>l?l=g:g=l,v=u>=f+g):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body().css("position")&&(t=this.body().offset(),h-=t.top,f-=t.left),y?(n=!0,!m&&p&&(n=!1)):(n=!1,!p&&m&&(n=!0)),v||(f=a.left+l-g),n?(h=a.top-c,this.container.addClass("select2-drop-above"),o.addClass("select2-drop-above")):(this.container.removeClass("select2-drop-above"),o.removeClass("select2-drop-above")),i=e.extend({top:h,left:f,width:l},_(this.opts.dropdownCss)),o.css(i)},shouldOpen:function(){var t;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(t=e.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),!0):!1},opening:function(){function t(){return{width:Math.max(document.documentElement.scrollWidth,e(window).width()),height:Math.max(document.documentElement.scrollHeight,e(window).height())}}var n,i=this.containerId,r="scroll."+i,o="resize."+i,a="orientationchange."+i;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),n=e("#select2-drop-mask"),0==n.length&&(n=e(document.createElement("div")),n.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),n.hide(),n.appendTo(this.body()),n.on("mousedown touchstart",function(t){var n,i=e("#select2-drop");i.length>0&&(n=i.data("select2"),n.opts.selectOnBlur&&n.selectHighlighted({noFocus:!0}),n.close(),t.preventDefault(),t.stopPropagation())})),this.dropdown.prev()[0]!==n[0]&&this.dropdown.before(n),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),n.css(t()),n.show(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active"),this.ensureHighlightVisible();var s=this;this.container.parents().add(window).each(function(){e(this).on(o+" "+r+" "+a,function(){e("#select2-drop-mask").css(t()),s.positionDropdown()})})},close:function(){if(this.opened()){var t=this.containerId,n="scroll."+t,i="resize."+t,r="orientationchange."+t;this.container.parents().add(window).each(function(){e(this).off(n).off(i).off(r)}),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(e.Event("select2-close"))}},clearSearch:function(){},getMaximumSelectionSize:function(){return _(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var n,i,r,o,a,s,l,c=this.results;if(i=this.highlight(),!(0>i)){if(0==i)return c.scrollTop(0),t;n=this.findHighlightableChoices().find(".select2-result-label"),r=e(n[i]),o=r.offset().top+r.outerHeight(!0),i===n.length-1&&(l=c.find("li.select2-more-results"),l.length>0&&(o=l.offset().top+l.outerHeight(!0))),a=c.offset().top+c.outerHeight(!0),o>a&&c.scrollTop(c.scrollTop()+(o-a)),s=r.offset().top-c.offset().top,0>s&&"none"!=r.css("display")&&c.scrollTop(c.scrollTop()+s)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-selected):not(.select2-disabled)")},moveHighlight:function(t){for(var n=this.findHighlightableChoices(),i=this.highlight();i>-1&&n.length>i;){i+=t;var r=e(n[i]);if(r.hasClass("select2-result-selectable")&&!r.hasClass("select2-disabled")&&!r.hasClass("select2-selected")){this.highlight(i);break}}},highlight:function(i){var r,o,a=this.findHighlightableChoices();return 0===arguments.length?n(a.filter(".select2-highlighted")[0],a.get()):(i>=a.length&&(i=a.length-1),0>i&&(i=0),this.results.find(".select2-highlighted").removeClass("select2-highlighted"),r=e(a[i]),r.addClass("select2-highlighted"),this.ensureHighlightVisible(),o=r.data("select2-data"),o&&this.opts.element.trigger({type:"select2-highlight",val:this.id(o),choice:o}),t)},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var n=e(t.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var i=this.findHighlightableChoices();this.highlight(i.index(n))}else 0==n.length&&this.results.find(".select2-highlighted").removeClass("select2-highlighted")},loadMoreIfNeeded:function(){var e,t=this.results,n=t.find("li.select2-more-results"),i=this.resultsPage+1,r=this,o=this.search.val(),a=this.context;0!==n.length&&(e=n.offset().top-t.offset().top-t.height(),this.opts.loadMorePadding>=e&&(n.addClass("select2-active"),this.opts.query({element:this.opts.element,term:o,page:i,context:a,matcher:this.opts.matcher,callback:this.bind(function(e){r.opened()&&(r.opts.populateResults.call(this,t,e.results,{term:o,page:i,context:a}),r.postprocessResults(e,!1,!1),e.more===!0?(n.detach().appendTo(t).text(r.opts.formatLoadMore(i+1)),window.setTimeout(function(){r.loadMoreIfNeeded()},10)):n.remove(),r.positionDropdown(),r.resultsPage=i,r.context=e.context)})})))},tokenize:function(){},updateResults:function(n){function i(){c.scrollTop(0),l.removeClass("select2-active"),d.positionDropdown()}function o(e){c.html(e),i()}var a,s,l=this.search,c=this.results,u=this.opts,d=this,h=l.val(),f=e.data(this.container,"select2-last-term");if((n===!0||!f||!r(h,f))&&(e.data(this.container,"select2-last-term",h),n===!0||this.showSearchInput!==!1&&this.opened())){var p=this.getMaximumSelectionSize();if(p>=1&&(a=this.data(),e.isArray(a)&&a.length>=p&&k(u.formatSelectionTooBig,"formatSelectionTooBig")))return o("<li class='select2-selection-limit'>"+u.formatSelectionTooBig(p)+"</li>"),t;if(l.val().length<u.minimumInputLength)return k(u.formatInputTooShort,"formatInputTooShort")?o("<li class='select2-no-results'>"+u.formatInputTooShort(l.val(),u.minimumInputLength)+"</li>"):o(""),n&&this.showSearch(!0),t;if(u.maximumInputLength&&l.val().length>u.maximumInputLength)return k(u.formatInputTooLong,"formatInputTooLong")?o("<li class='select2-no-results'>"+u.formatInputTooLong(l.val(),u.maximumInputLength)+"</li>"):o(""),t;u.formatSearching&&0===this.findHighlightableChoices().length&&o("<li class='select2-searching'>"+u.formatSearching()+"</li>"),l.addClass("select2-active"),s=this.tokenize(),s!=t&&null!=s&&l.val(s),this.resultsPage=1,u.query({element:u.element,term:l.val(),page:this.resultsPage,context:null,matcher:u.matcher,callback:this.bind(function(a){var s;return this.opened()?(this.context=a.context===t?null:a.context,this.opts.createSearchChoice&&""!==l.val()&&(s=this.opts.createSearchChoice.call(null,l.val(),a.results),s!==t&&null!==s&&d.id(s)!==t&&null!==d.id(s)&&0===e(a.results).filter(function(){return r(d.id(this),d.id(s))}).length&&a.results.unshift(s)),0===a.results.length&&k(u.formatNoMatches,"formatNoMatches")?(o("<li class='select2-no-results'>"+u.formatNoMatches(l.val())+"</li>"),t):(c.empty(),d.opts.populateResults.call(this,c,a.results,{term:l.val(),page:this.resultsPage,context:null}),a.more===!0&&k(u.formatLoadMore,"formatLoadMore")&&(c.append("<li class='select2-more-results'>"+d.opts.escapeMarkup(u.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){d.loadMoreIfNeeded()},10)),this.postprocessResults(a,n),i(),this.opts.element.trigger({type:"select2-loaded",data:a}),t)):(this.search.removeClass("select2-active"),t)})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){h(this.search)},selectHighlighted:function(e){var t=this.highlight(),n=this.results.find(".select2-highlighted"),i=n.closest(".select2-result").data("select2-data");i&&(this.highlight(t),this.onSelect(i,e))},getPlaceholder:function(){return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder},initContainerWidth:function(){function n(){var n,i,r,o,a;
if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(n=this.opts.element.attr("style"),n!==t)for(i=n.split(";"),o=0,a=i.length;a>o;o+=1)if(r=i[o].replace(/\s/g,"").match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==r&&r.length>=1)return r[1];return n=this.opts.element.css("width"),n&&n.length>0?n:"resolve"===this.opts.width?0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px":null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}var i=n.call(this);null!==i&&this.container.css("width",i)}}),E=T(M,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>","   <div><b></b></div>","</a>","<input class='select2-focusser select2-offscreen' type='text'/>","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' autocorrect='off' autocapitilize='off' spellcheck='false' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var t,n;this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.search.focus(),t=this.search.get(0),t.createTextRange&&(n=t.createTextRange(),n.collapse(!1),n.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus()},initContainer:function(){var n,i=this.container,r=this.dropdown;this.showSearch(!1),this.selection=n=i.find(".select2-choice"),this.focusser=i.find(".select2-focusser"),this.focusser.attr("id","s2id_autogen"+A()),e("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id")),this.focusser.attr("tabindex",this.elementTabIndex),this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){if(e.which===D.PAGE_UP||e.which===D.PAGE_DOWN)return p(e),t;switch(e.which){case D.UP:case D.DOWN:return this.moveHighlight(e.which===D.UP?-1:1),p(e),t;case D.ENTER:return this.selectHighlighted(),p(e),t;case D.TAB:return this.selectHighlighted({noFocus:!0}),t;case D.ESC:return this.cancel(e),p(e),t}}})),this.search.on("blur",this.bind(function(){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(e){return!this.isInterfaceEnabled()||e.which===D.TAB||D.isControl(e)||D.isFunctionKey(e)||e.which===D.ESC?t:this.opts.openOnEnter===!1&&e.which===D.ENTER?(p(e),t):e.which==D.DOWN||e.which==D.UP||e.which==D.ENTER&&this.opts.openOnEnter?(this.open(),p(e),t):e.which==D.DELETE||e.which==D.BACKSPACE?(this.opts.allowClear&&this.clear(),p(e),t):t})),s(this.focusser),this.focusser.on("keyup-change input",this.bind(function(e){e.stopPropagation(),this.opened()||this.open()})),n.on("mousedown","abbr",this.bind(function(e){this.isInterfaceEnabled()&&(this.clear(),m(e),this.close(),this.selection.focus())})),n.on("mousedown",this.bind(function(t){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),p(t)})),r.on("mousedown",this.bind(function(){this.search.focus()})),n.on("focus",this.bind(function(e){p(e)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(e.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(e){var t=this.selection.data("select2-data");t&&(this.opts.element.val(""),this.selection.find("span").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),e!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(t),choice:t}),this.triggerChange({removed:t})))},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text())this.updateSelection([]),this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.setPlaceholder())})}},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var i=e.find(":selected");t(n.optionToData(i))}:"data"in t&&(t.initSelection=t.initSelection||function(n,i){var o=n.val(),a=null;t.query({matcher:function(e,n,i){var s=r(o,t.id(i));return s&&(a=i),s},callback:e.isFunction(i)?function(){i(a)}:e.noop})}),t},getPlaceholder:function(){return this.select&&""!==this.select.find("option").first().text()?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(""===this.opts.element.val()&&e!==t){if(this.select&&""!==this.select.find("option:first").text())return;this.selection.find("span").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(e,n,i){var o=0,a=this;if(this.findHighlightableChoices().each2(function(e,n){return r(a.id(n.data("select2-data")),a.opts.element.val())?(o=e,!1):t}),i!==!1&&this.highlight(o),n===!0&&this.showSearchInput===!1){var s=this.opts.minimumResultsForSearch;s>=0&&this.showSearch(C(e.results)>=s)}},showSearch:function(t){this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),e(this.dropdown,this.container).toggleClass("select2-with-searchbox",t)},onSelect:function(e,t){if(this.triggerSelect(e)){var n=this.opts.element.val(),i=this.data();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.close(),t&&t.noFocus||this.selection.focus(),r(n,this.id(e))||this.triggerChange({added:e,removed:i})}},updateSelection:function(e){var n,i=this.selection.find("span");this.selection.data("select2-data",e),i.empty(),n=this.opts.formatSelection(e,i),n!==t&&i.append(this.opts.escapeMarkup(n)),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function(){var e,n=!1,i=null,r=this,o=this.data();if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],arguments.length>1&&(n=arguments[1]),this.select)this.select.val(e).find(":selected").each2(function(e,t){return i=r.optionToData(t),!1}),this.updateSelection(i),this.setPlaceholder(),n&&this.triggerChange({added:i,removed:o});else{if(this.opts.initSelection===t)throw Error("cannot call val() if initSelection() is not defined");if(!e&&0!==e)return this.clear(n),t;this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){r.opts.element.val(e?r.id(e):""),r.updateSelection(e),r.setPlaceholder(),n&&r.triggerChange({added:e,removed:o})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e,n){var i;return 0===arguments.length?(i=this.selection.data("select2-data"),i==t&&(i=null),i):(e&&""!==e?(i=this.data(),this.opts.element.val(e?this.id(e):""),this.updateSelection(e),n&&this.triggerChange({added:e,removed:i})):this.clear(n),t)}}),N=T(M,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["    <ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' autocorrect='off' autocapitilize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var i=[];e.find(":selected").each2(function(e,t){i.push(n.optionToData(t))}),t(i)}:"data"in t&&(t.initSelection=t.initSelection||function(n,i){var a=o(n.val(),t.separator),s=[];t.query({matcher:function(n,i,o){var l=e.grep(a,function(e){return r(e,t.id(o))}).length;return l&&s.push(o),l},callback:e.isFunction(i)?function(){for(var e=[],n=0;a.length>n;n++)for(var o=a[n],l=0;s.length>l;l++){var c=s[l];if(r(o,t.id(c))){e.push(c),s.splice(l,1);break}}i(e)}:e.noop})}),t},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");t.length&&e&&e[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),e&&e.length&&(this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e)))},initContainer:function(){var n,i=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=n=this.container.find(i);var r=this;this.selection.on("mousedown",".select2-search-choice",function(){r.search[0].focus(),r.selectChoice(e(this))}),this.search.attr("id","s2id_autogen"+A()),e("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){++this.keydowns;var i=n.find(".select2-search-choice-focus"),r=i.prev(".select2-search-choice:not(.select2-locked)"),o=i.next(".select2-search-choice:not(.select2-locked)"),a=f(this.search);if(i.length&&(e.which==D.LEFT||e.which==D.RIGHT||e.which==D.BACKSPACE||e.which==D.DELETE||e.which==D.ENTER)){var s=i;return e.which==D.LEFT&&r.length?s=r:e.which==D.RIGHT?s=o.length?o:null:e.which===D.BACKSPACE?(this.unselect(i.first()),this.search.width(10),s=r.length?r:o):e.which==D.DELETE?(this.unselect(i.first()),this.search.width(10),s=o.length?o:null):e.which==D.ENTER&&(s=null),this.selectChoice(s),p(e),s&&s.length||this.open(),t}if((e.which===D.BACKSPACE&&1==this.keydowns||e.which==D.LEFT)&&0==a.offset&&!a.length)return this.selectChoice(n.find(".select2-search-choice:not(.select2-locked)").last()),p(e),t;if(this.selectChoice(null),this.opened())switch(e.which){case D.UP:case D.DOWN:return this.moveHighlight(e.which===D.UP?-1:1),p(e),t;case D.ENTER:return this.selectHighlighted(),p(e),t;case D.TAB:return this.selectHighlighted({noFocus:!0}),t;case D.ESC:return this.cancel(e),p(e),t}if(e.which!==D.TAB&&!D.isControl(e)&&!D.isFunctionKey(e)&&e.which!==D.BACKSPACE&&e.which!==D.ESC){if(e.which===D.ENTER){if(this.opts.openOnEnter===!1)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),(e.which===D.PAGE_UP||e.which===D.PAGE_DOWN)&&p(e),e.which===D.ENTER&&p(e)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),t.stopImmediatePropagation(),this.opts.element.trigger(e.Event("select2-blur"))})),this.container.on("mousedown",i,this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.on("focus",i,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder(),n=this.getMaxSearchWidth();e!==t&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(e).addClass("select2-default"),this.search.width(n>0?n:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.updateResults(!0),this.search.focus(),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var i=[],r=[],o=this;e(t).each(function(){0>n(o.id(this),i)&&(i.push(o.id(this)),r.push(this))}),t=r,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){o.addSelectedChoice(this)}),o.postprocessResults()},tokenize:function(){var e=this.search.val();e=this.opts.tokenizer(e,this.data(),this.bind(this.onSelect),this.opts),null!=e&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,t){this.triggerSelect(e)&&(this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),t&&t.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(n){var i,r=!n.locked,o=e("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),a=e("<li class='select2-search-choice select2-locked'><div></div></li>"),s=r?o:a,l=this.id(n),c=this.getVal();i=this.opts.formatSelection(n,s.find("div")),i!=t&&s.find("div").replaceWith("<div title='"+this.opts.escapeMarkup(i)+"'>"+this.opts.escapeMarkup(i)+"</div>"),r&&s.find(".select2-search-choice-close").on("mousedown",p).on("click dblclick",this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),p(t))})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),s.data("select2-data",n),s.insertBefore(this.searchContainer),c.push(l),this.setVal(c)},unselect:function(e){var t,i,r=this.getVal();if(e=e.closest(".select2-search-choice"),0===e.length)throw"Invalid argument: "+e+". Must be .select2-search-choice";t=e.data("select2-data"),t&&(i=n(this.id(t),r),i>=0&&(r.splice(i,1),this.setVal(r),this.select&&this.postprocessResults()),e.remove(),this.opts.element.trigger({type:"removed",val:this.id(t),choice:t}),this.triggerChange({removed:t}))},postprocessResults:function(e,t,i){var r=this.getVal(),o=this.results.find(".select2-result"),a=this.results.find(".select2-result-with-children"),s=this;o.each2(function(e,t){var i=s.id(t.data("select2-data"));n(i,r)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))}),a.each2(function(e,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")}),-1==this.highlight()&&i!==!1&&s.highlight(0),!this.opts.createSearchChoice&&!o.filter(".select2-result:not(.select2-selected)").length>0&&this.results.append("<li class='select2-no-results'>"+s.opts.formatNoMatches(s.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-a(this.search)},resizeSearch:function(){var e,t,n,i,r,o=a(this.search);e=g(this.search)+10,t=this.search.offset().left,n=this.selection.width(),i=this.selection.offset().left,r=n-(t-i)-o,e>r&&(r=n-o),40>r&&(r=n-o),0>=r&&(r=e),this.search.width(r)},getVal:function(){var e;return this.select?(e=this.select.val(),null===e?[]:e):(e=this.opts.element.val(),o(e,this.opts.separator))},setVal:function(t){var i;this.select?this.select.val(t):(i=[],e(t).each(function(){0>n(this,i)&&i.push(this)}),this.opts.element.val(0===i.length?"":i.join(this.opts.separator)))},buildChangeDetails:function(e,t){for(var t=t.slice(0),e=e.slice(0),n=0;t.length>n;n++)for(var i=0;e.length>i;i++)r(this.opts.id(t[n]),this.opts.id(e[i]))&&(t.splice(n,1),n--,e.splice(i,1),i--);return{added:t,removed:e}},val:function(n,i){var r,o=this;if(0===arguments.length)return this.getVal();if(r=this.data(),r.length||(r=[]),!n&&0!==n)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),i&&this.triggerChange({added:this.data(),removed:r}),t;if(this.setVal(n),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),i&&this.triggerChange(this.buildChangeDetails(r,this.data()));else{if(this.opts.initSelection===t)throw Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var n=e(t).map(o.id);o.setVal(n),o.updateSelection(t),o.clearSearch(),i&&o.triggerChange(this.buildChangeDetails(r,this.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(n.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(n,i){var r,o,a=this;return 0===arguments.length?this.selection.find(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get():(o=this.data(),n||(n=[]),r=e.map(n,function(e){return a.opts.id(e)}),this.setVal(r),this.updateSelection(n),this.clearSearch(),i&&this.triggerChange(this.buildChangeDetails(o,this.data())),t)}}),e.fn.select2=function(){var i,r,o,a,s=Array.prototype.slice.call(arguments,0),l=["val","destroy","opened","open","close","focus","isFocused","container","onSortStart","onSortEnd","enable","readonly","positionDropdown","data"],c=["val","opened","isFocused","container","data"];return this.each(function(){if(0===s.length||"object"==typeof s[0])i=0===s.length?{}:e.extend({},s[0]),i.element=e(this),"select"===i.element.get(0).tagName.toLowerCase()?a=i.element.prop("multiple"):(a=i.multiple||!1,"tags"in i&&(i.multiple=a=!0)),r=a?new N:new E,r.init(i);else{if("string"!=typeof s[0])throw"Invalid arguments to select2 plugin: "+s;if(0>n(s[0],l))throw"Unknown method: "+s[0];if(o=t,r=e(this).data("select2"),r===t)return;if(o="container"===s[0]?r.container:r[s[0]].apply(r,s.slice(1)),n(s[0],c)>=0)return!1}}),o===t?this:o},e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,n,i){var r=[];return y(e.text,n.term,r,i),r.join("")},formatSelection:function(e){return e?e.text:t},sortResults:function(e){return e},formatResultCssClass:function(){return t},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(e,t){var n=t-e.length;return"Please enter "+n+" more character"+(1==n?"":"s")},formatInputTooLong:function(e,t){var n=e.length-t;return"Please delete "+n+" character"+(1==n?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e.id},matcher:function(e,t){return(""+t).toUpperCase().indexOf((""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:S,escapeMarkup:function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return(e+"").replace(/[&<>"'\/\\]/g,function(e){return t[e]})},blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(){return null}},e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:b,local:w,tags:x},util:{debounce:c,markMatch:y},"class":{"abstract":M,single:E,multi:N}}}}(jQuery),function(e,t){var n="ui-effects-";e.effects={effect:{}},function(e,t){function n(e,t,n){var i=d[t.type]||{};return null==e?n||!t.def?null:t.def:(e=i.floor?~~e:parseFloat(e),isNaN(e)?t.def:i.mod?(e+i.mod)%i.mod:0>e?0:e>i.max?i.max:e)}function i(n){var i=c(),r=i._rgba=[];return n=n.toLowerCase(),p(l,function(e,o){var a,s=o.re.exec(n),l=s&&o.parse(s),c=o.space||"rgba";return l?(a=i[c](l),i[u[c].cache]=a[u[c].cache],r=i._rgba=a._rgba,!1):t}),r.length?("0,0,0,0"===r.join()&&e.extend(r,o.transparent),i):o[n]}function r(e,t,n){return n=(n+1)%1,1>6*n?e+6*(t-e)*n:1>2*n?t:2>3*n?e+6*(t-e)*(2/3-n):e}var o,a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",s=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],c=e.Color=function(t,n,i,r){return new e.Color.fn.parse(t,n,i,r)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},d={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=c.support={},f=e("<p>")[0],p=e.each;f.style.cssText="background-color:rgba(1,1,1,.5)",h.rgba=f.style.backgroundColor.indexOf("rgba")>-1,p(u,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),c.fn=e.extend(c.prototype,{parse:function(r,a,s,l){if(r===t)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=e(r).css(a),a=t);var d=this,h=e.type(r),f=this._rgba=[];return a!==t&&(r=[r,a,s,l],h="array"),"string"===h?this.parse(i(r)||o._default):"array"===h?(p(u.rgba.props,function(e,t){f[t.idx]=n(r[t.idx],t)}),this):"object"===h?(r instanceof c?p(u,function(e,t){r[t.cache]&&(d[t.cache]=r[t.cache].slice())}):p(u,function(t,i){var o=i.cache;p(i.props,function(e,t){if(!d[o]&&i.to){if("alpha"===e||null==r[e])return;d[o]=i.to(d._rgba)}d[o][t.idx]=n(r[e],t,!0)}),d[o]&&0>e.inArray(null,d[o].slice(0,3))&&(d[o][3]=1,i.from&&(d._rgba=i.from(d[o])))}),this):t},is:function(e){var n=c(e),i=!0,r=this;return p(u,function(e,o){var a,s=n[o.cache];return s&&(a=r[o.cache]||o.to&&o.to(r._rgba)||[],p(o.props,function(e,n){return null!=s[n.idx]?i=s[n.idx]===a[n.idx]:t})),i}),i},_space:function(){var e=[],t=this;return p(u,function(n,i){t[i.cache]&&e.push(n)}),e.pop()},transition:function(e,t){var i=c(e),r=i._space(),o=u[r],a=0===this.alpha()?c("transparent"):this,s=a[o.cache]||o.to(a._rgba),l=s.slice();return i=i[o.cache],p(o.props,function(e,r){var o=r.idx,a=s[o],c=i[o],u=d[r.type]||{};null!==c&&(null===a?l[o]=c:(u.mod&&(c-a>u.mod/2?a+=u.mod:a-c>u.mod/2&&(a-=u.mod)),l[o]=n((c-a)*t+a,r)))}),this[r](l)},blend:function(t){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),r=c(t)._rgba;return c(e.map(n,function(e,t){return(1-i)*r[t]+i*e}))},toRgbaString:function(){var t="rgba(",n=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===n[3]&&(n.pop(),t="rgb("),t+n.join()+")"},toHslaString:function(){var t="hsla(",n=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===n[3]&&(n.pop(),t="hsl("),t+n.join()+")"},toHexString:function(t){var n=this._rgba.slice(),i=n.pop();return t&&n.push(~~(255*i)),"#"+e.map(n,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),c.fn.parse.prototype=c.fn,u.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,n,i=e[0]/255,r=e[1]/255,o=e[2]/255,a=e[3],s=Math.max(i,r,o),l=Math.min(i,r,o),c=s-l,u=s+l,d=.5*u;return t=l===s?0:i===s?60*(r-o)/c+360:r===s?60*(o-i)/c+120:60*(i-r)/c+240,n=0===c?0:.5>=d?c/u:c/(2-u),[Math.round(t)%360,n,d,null==a?1:a]},u.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],i=e[2],o=e[3],a=.5>=i?i*(1+n):i+n-i*n,s=2*i-a;return[Math.round(255*r(s,a,t+1/3)),Math.round(255*r(s,a,t)),Math.round(255*r(s,a,t-1/3)),o]},p(u,function(i,r){var o=r.props,a=r.cache,l=r.to,u=r.from;c.fn[i]=function(i){if(l&&!this[a]&&(this[a]=l(this._rgba)),i===t)return this[a].slice();var r,s=e.type(i),d="array"===s||"object"===s?i:arguments,h=this[a].slice();return p(o,function(e,t){var i=d["object"===s?e:t.idx];null==i&&(i=h[t.idx]),h[t.idx]=n(i,t)}),u?(r=c(u(h)),r[a]=h,r):c(h)},p(o,function(t,n){c.fn[t]||(c.fn[t]=function(r){var o,a=e.type(r),l="alpha"===t?this._hsla?"hsla":"rgba":i,c=this[l](),u=c[n.idx];return"undefined"===a?u:("function"===a&&(r=r.call(this,u),a=e.type(r)),null==r&&n.empty?this:("string"===a&&(o=s.exec(r),o&&(r=u+parseFloat(o[2])*("+"===o[1]?1:-1))),c[n.idx]=r,this[l](c)))})})}),c.hook=function(t){var n=t.split(" ");p(n,function(t,n){e.cssHooks[n]={set:function(t,r){var o,a,s="";if("transparent"!==r&&("string"!==e.type(r)||(o=i(r)))){if(r=c(o||r),!h.rgba&&1!==r._rgba[3]){for(a="backgroundColor"===n?t.parentNode:t;(""===s||"transparent"===s)&&a&&a.style;)try{s=e.css(a,"backgroundColor"),a=a.parentNode}catch(l){}r=r.blend(s&&"transparent"!==s?s:"_default")}r=r.toRgbaString()}try{t.style[n]=r}catch(l){}}},e.fx.step[n]=function(t){t.colorInit||(t.start=c(t.elem,n),t.end=c(t.end),t.colorInit=!0),e.cssHooks[n].set(t.elem,t.start.transition(t.end,t.pos))}})},c.hook(a),e.cssHooks.borderColor={expand:function(e){var t={};return p(["Top","Right","Bottom","Left"],function(n,i){t["border"+i+"Color"]=e}),t}},o=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function n(t){var n,i,r=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,o={};if(r&&r.length&&r[0]&&r[r[0]])for(i=r.length;i--;)n=r[i],"string"==typeof r[n]&&(o[e.camelCase(n)]=r[n]);else for(n in r)"string"==typeof r[n]&&(o[n]=r[n]);return o}function i(t,n){var i,r,a={};for(i in n)r=n[i],t[i]!==r&&(o[i]||(e.fx.step[i]||!isNaN(parseFloat(r)))&&(a[i]=r));return a}var r=["add","remove","toggle"],o={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,n){e.fx.step[n]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(jQuery.style(e.elem,n,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(t,o,a,s){var l=e.speed(o,a,s);return this.queue(function(){var o,a=e(this),s=a.attr("class")||"",c=l.children?a.find("*").addBack():a;c=c.map(function(){var t=e(this);return{el:t,start:n(this)}}),o=function(){e.each(r,function(e,n){t[n]&&a[n+"Class"](t[n])})},o(),c=c.map(function(){return this.end=n(this.el[0]),this.diff=i(this.start,this.end),this}),a.attr("class",s),c=c.map(function(){var t=this,n=e.Deferred(),i=e.extend({},l,{queue:!1,complete:function(){n.resolve(t)}});return this.el.animate(this.diff,i),n.promise()}),e.when.apply(e,c.get()).done(function(){o(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(a[0])})})},e.fn.extend({addClass:function(t){return function(n,i,r,o){return i?e.effects.animateClass.call(this,{add:n},i,r,o):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(n,i,r,o){return arguments.length>1?e.effects.animateClass.call(this,{remove:n},i,r,o):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(n){return function(i,r,o,a,s){return"boolean"==typeof r||r===t?o?e.effects.animateClass.call(this,r?{add:i}:{remove:i},o,a,s):n.apply(this,arguments):e.effects.animateClass.call(this,{toggle:i},r,o,a)}}(e.fn.toggleClass),switchClass:function(t,n,i,r,o){return e.effects.animateClass.call(this,{add:n,remove:t},i,r,o)}})}(),function(){function i(t,n,i,r){return e.isPlainObject(t)&&(n=t,t=t.effect),t={effect:t},null==n&&(n={}),e.isFunction(n)&&(r=n,i=null,n={}),("number"==typeof n||e.fx.speeds[n])&&(r=i,i=n,n={}),e.isFunction(i)&&(r=i,i=null),n&&e.extend(t,n),i=i||n.duration,t.duration=e.fx.off?0:"number"==typeof i?i:i in e.fx.speeds?e.fx.speeds[i]:e.fx.speeds._default,t.complete=r||n.complete,t}function r(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects.effect[t]?e.isFunction(t)?!0:"object"!=typeof t||t.effect?!1:!0:!0
}e.extend(e.effects,{version:"@VERSION",save:function(e,t){for(var i=0;t.length>i;i++)null!==t[i]&&e.data(n+t[i],e[0].style[t[i]])},restore:function(e,i){var r,o;for(o=0;i.length>o;o++)null!==i[o]&&(r=e.data(n+i[o]),r===t&&(r=""),e.css(i[o],r))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var n,i;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=e[1]/t.width}return{x:i,y:n}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},i=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:t.width(),height:t.height()},o=document.activeElement;try{o.id}catch(a){o=document.body}return t.wrap(i),(t[0]===o||e.contains(t[0],o))&&e(o).focus(),i=t.parent(),"static"===t.css("position")?(i.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,i){n[i]=t.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(r),i.css(n).show()},removeWrapper:function(t){var n=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===n||e.contains(t[0],n))&&e(n).focus()),t},setTransition:function(t,n,i,r){return r=r||{},e.each(n,function(e,n){var o=t.cssUnit(n);o[0]>0&&(r[n]=o[0]*i+o[1])}),r}}),e.fn.extend({effect:function(){function t(t){function i(){e.isFunction(o)&&o.call(r[0]),e.isFunction(t)&&t()}var r=e(this),o=n.complete,s=n.mode;(r.is(":hidden")?"hide"===s:"show"===s)?(r[s](),i()):a.call(r[0],n,i)}var n=i.apply(this,arguments),r=n.mode,o=n.queue,a=e.effects.effect[n.effect];return e.fx.off||!a?r?this[r](n.duration,n.complete):this.each(function(){n.complete&&n.complete.call(this)}):o===!1?this.each(t):this.queue(o||"fx",t)},show:function(e){return function(t){if(r(t))return e.apply(this,arguments);var n=i.apply(this,arguments);return n.mode="show",this.effect.call(this,n)}}(e.fn.show),hide:function(e){return function(t){if(r(t))return e.apply(this,arguments);var n=i.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(e.fn.hide),toggle:function(e){return function(t){if(r(t)||"boolean"==typeof t)return e.apply(this,arguments);var n=i.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(e.fn.toggle),cssUnit:function(t){var n=this.css(t),i=[];return e.each(["em","px","%","pt"],function(e,t){n.indexOf(t)>0&&(i=[parseFloat(n),t])}),i}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,n){t[n]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,n=4;((t=Math.pow(2,--n))-1)/11>e;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,n){e.easing["easeIn"+t]=n,e.easing["easeOut"+t]=function(e){return 1-n(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?n(2*e)/2:1-n(-2*e+2)/2}})}()}(jQuery),function(e,t){function n(t,n){var r,o,a,s=t.nodeName.toLowerCase();return"area"===s?(r=t.parentNode,o=r.name,t.href&&o&&"map"===r.nodeName.toLowerCase()?(a=e("img[usemap=#"+o+"]")[0],!!a&&i(a)):!1):(/input|select|textarea|button|object/.test(s)?!t.disabled:"a"===s?t.href||n:n)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var r=0,o=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"@VERSION",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(n,i){return"number"==typeof n?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),i&&i.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length)for(var i,r,o=e(this[0]);o.length&&o[0]!==document;){if(i=o.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(r=parseInt(o.css("zIndex"),10),!isNaN(r)&&0!==r))return r;o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++r)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])},focusable:function(t){return n(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var i=e.attr(t,"tabindex"),r=isNaN(i);return(r||i>=0)&&n(t,!r)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,i){function r(t,n,i,r){return e.each(o,function(){n-=parseFloat(e.css(t,"padding"+this))||0,i&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),r&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var o="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),s={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(n){return n===t?s["inner"+i].call(this):this.each(function(){e(this).css(a,r(this,n)+"px")})},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?s["outer"+i].call(this,t):this.each(function(){e(this).css(a,r(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,n,i){var r,o=e.ui[t].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(e,t,n){var i,r=e.plugins[t];if(r&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(i=0;r.length>i;i++)e.options[r[i][0]]&&r[i][1].apply(e.element,n)}},hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return t[i]>0?!0:(t[i]=1,r=t[i]>0,t[i]=0,r)}})}(jQuery),function(e,t){var n=0,i=Array.prototype.slice,r=e.cleanData;e.cleanData=function(t){for(var n,i=0;null!=(n=t[i]);i++)try{e(n).triggerHandler("remove")}catch(o){}r(t)},e.widget=function(n,i,r){var o,a,s,l,c={},u=n.split(".")[0];n=n.split(".")[1],o=u+"-"+n,r||(r=i,i=e.Widget),e.expr[":"][o.toLowerCase()]=function(t){return!!e.data(t,o)},e[u]=e[u]||{},a=e[u][n],s=e[u][n]=function(e,n){return this._createWidget?(arguments.length&&this._createWidget(e,n),t):new s(e,n)},e.extend(s,a,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),l=new i,l.options=e.widget.extend({},l.options),e.each(r,function(n,r){return e.isFunction(r)?(c[n]=function(){var e=function(){return i.prototype[n].apply(this,arguments)},t=function(e){return i.prototype[n].apply(this,e)};return function(){var n,i=this._super,o=this._superApply;return this._super=e,this._superApply=t,n=r.apply(this,arguments),this._super=i,this._superApply=o,n}}(),t):(c[n]=r,t)}),s.prototype=e.widget.extend(l,{widgetEventPrefix:a?l.widgetEventPrefix:n},c,{constructor:s,namespace:u,widgetName:n,widgetFullName:o}),a?(e.each(a._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,s,n._proto)}),delete a._childConstructors):i._childConstructors.push(s),e.widget.bridge(n,s)},e.widget.extend=function(n){for(var r,o,a=i.call(arguments,1),s=0,l=a.length;l>s;s++)for(r in a[s])o=a[s][r],a[s].hasOwnProperty(r)&&o!==t&&(n[r]=e.isPlainObject(o)?e.isPlainObject(n[r])?e.widget.extend({},n[r],o):e.widget.extend({},o):o);return n},e.widget.bridge=function(n,r){var o=r.prototype.widgetFullName||n;e.fn[n]=function(a){var s="string"==typeof a,l=i.call(arguments,1),c=this;return a=!s&&l.length?e.widget.extend.apply(null,[a].concat(l)):a,s?this.each(function(){var i,r=e.data(this,o);return r?e.isFunction(r[a])&&"_"!==a.charAt(0)?(i=r[a].apply(r,l),i!==r&&i!==t?(c=i&&i.jquery?c.pushStack(i.get()):i,!1):t):e.error("no such method '"+a+"' for "+n+" widget instance"):e.error("cannot call methods on "+n+" prior to initialization; "+"attempted to call method '"+a+"'")}):this.each(function(){var t=e.data(this,o);t?t.option(a||{})._init():e.data(this,o,new r(a,this))}),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,i){var r,o,a,s=n;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof n)if(s={},r=n.split("."),n=r.shift(),r.length){for(o=s[n]=e.widget.extend({},this.options[n]),a=0;r.length-1>a;a++)o[r[a]]=o[r[a]]||{},o=o[r[a]];if(n=r.pop(),i===t)return o[n]===t?null:o[n];o[n]=i}else{if(i===t)return this.options[n]===t?null:this.options[n];s[n]=i}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(n,i,r){var o,a=this;"boolean"!=typeof n&&(r=i,i=n,n=!1),r?(i=o=e(i),this.bindings=this.bindings.add(i)):(r=i,i=this.element,o=this.widget()),e.each(r,function(r,s){function l(){return n||a.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof s?a[s]:s).apply(a,arguments):t}"string"!=typeof s&&(l.guid=s.guid=s.guid||l.guid||e.guid++);var c=r.match(/^(\w+)\s*(.*)$/),u=c[1]+a.eventNamespace,d=c[2];d?o.delegate(d,u,l):i.bind(u,l)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,i){var r,o,a=this.options[t];if(i=i||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(e.isFunction(a)&&a.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,r,o){"string"==typeof r&&(r={effect:r});var a,s=r?r===!0||"number"==typeof r?n:r.effect||n:t;r=r||{},"number"==typeof r&&(r={duration:r}),a=!e.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),a&&e.effects&&e.effects.effect[s]?i[t](r):s!==t&&i[s]?i[s](r.duration,r.easing,o):i.queue(function(n){e(this)[t](),o&&o.call(i[0]),n()})}})}(jQuery),function(e){e.effects.effect.highlight=function(t,n){var i=e(this),r=["backgroundImage","backgroundColor","opacity"],o=e.effects.setMode(i,t.mode||"show"),a={backgroundColor:i.css("backgroundColor")};"hide"===o&&(a.opacity=0),e.effects.save(i,r),i.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(a,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&i.hide(),e.effects.restore(i,r),n()}})}}(jQuery),function(e){var t=!1;e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"@VERSION",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){return!0===e.data(n.target,t.widgetName+".preventClickEvent")?(e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):undefined}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!t){this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var i=this,r=1===n.which,o="string"==typeof this.options.cancel&&n.target.nodeName?e(n.target).closest(this.options.cancel).length:!1;return r&&!o&&this._mouseCapture(n)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=this._mouseStart(n)!==!1,!this._mouseStarted)?(n.preventDefault(),!0):(!0===e.data(n.target,this.widgetName+".preventClickEvent")&&e.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(e){e.effects.effect.transfer=function(t,n){var i=e(this),r=e(t.to),o="fixed"===r.css("position"),a=e("body"),s=o?a.scrollTop():0,l=o?a.scrollLeft():0,c=r.offset(),u={top:c.top-s,left:c.left-l,height:r.innerHeight(),width:r.innerWidth()},d=i.offset(),h=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:d.top-s,left:d.left-l,height:i.innerHeight(),width:i.innerWidth(),position:o?"fixed":"absolute"}).animate(u,t.duration,t.easing,function(){h.remove(),n()})}}(jQuery),function(e){var t,n,i,r,o="ui-button ui-widget ui-state-default ui-corner-all",a="ui-state-hover ui-state-active ",s="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",l=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},c=function(t){var n=t.name,i=t.form,r=e([]);return n&&(n=n.replace(/'/g,"\\'"),r=i?e(i).find("[name='"+n+"']"):e("[name='"+n+"']",t.ownerDocument).filter(function(){return!this.form})),r};e.widget("ui.button",{version:"@VERSION",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,l),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var a=this,s=this.options,u="checkbox"===this.type||"radio"===this.type,d=u?"":"ui-state-active",h="ui-state-focus";null===s.label&&(s.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(o).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){s.disabled||this===t&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){s.disabled||e(this).removeClass(d)}).bind("click"+this.eventNamespace,function(e){s.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){a.buttonElement.addClass(h)}).bind("blur"+this.eventNamespace,function(){a.buttonElement.removeClass(h)}),u&&(this.element.bind("change"+this.eventNamespace,function(){r||a.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(e){s.disabled||(r=!1,n=e.pageX,i=e.pageY)}).bind("mouseup"+this.eventNamespace,function(e){s.disabled||(n!==e.pageX||i!==e.pageY)&&(r=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return s.disabled||r?!1:undefined}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(s.disabled||r)return!1;e(this).addClass("ui-state-active"),a.buttonElement.attr("aria-pressed","true");var t=a.element[0];c(t).not(t).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return s.disabled?!1:(e(this).addClass("ui-state-active"),t=this,a.document.one("mouseup",function(){t=null}),undefined)}).bind("mouseup"+this.eventNamespace,function(){return s.disabled?!1:(e(this).removeClass("ui-state-active"),undefined)}).bind("keydown"+this.eventNamespace,function(t){return s.disabled?!1:((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"),undefined)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",s.disabled),this._resetButton()},_determineButtonType:function(){var e,t,n;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),n=this.element.is(":checked"),n&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",n)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(o+" "+a+" "+s).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(t?this.element.prop("disabled",!0):this.element.prop("disabled",!1),undefined):(this._resetButton(),undefined)},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?c(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),undefined;var t=this.buttonElement.removeClass(s),n=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),i=this.options.icons,r=i.primary&&i.secondary,o=[];i.primary||i.secondary?(this.options.text&&o.push("ui-button-text-icon"+(r?"s":i.primary?"-primary":"-secondary")),i.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+i.primary+"'></span>"),i.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+i.secondary+"'></span>"),this.options.text||(o.push(r?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(n)))):o.push("ui-button-text-only"),t.addClass(o.join(" "))}}),e.widget("ui.buttonset",{version:"@VERSION",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function(e){var t={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},n={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};e.widget("ui.dialog",{version:"@VERSION",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var n=e(this).css(t).offset().top;0>n&&e(this).css("top",t.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var n=this;this._isOpen&&this._trigger("beforeClose",t)!==!1&&(this._isOpen=!1,this._destroyOverlay(),this.opener.filter(":focusable").focus().length||e(this.document[0].activeElement).blur(),this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",t)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,t){var n=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return n&&!t&&this._trigger("focus",e),n},open:function(){var t=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),undefined):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._trigger("open"),undefined)},_focusTabbable:function(){var e=this.element.find("[autofocus]");e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function n(){var t=this.document[0].activeElement,n=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);n||this._focusTabbable()}t.preventDefault(),n.call(this),this._delay(n)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),this.close(t),undefined;if(t.keyCode===e.ui.keyCode.TAB){var n=this.uiDialog.find(":tabbable"),i=n.filter(":first"),r=n.filter(":last");t.target!==r[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==i[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(r.focus(1),t.preventDefault()):(i.focus(1),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,n=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(n)||e.isArray(n)&&!n.length?(this.uiDialog.removeClass("ui-dialog-buttons"),undefined):(e.each(n,function(n,i){var r,o;i=e.isFunction(i)?{click:i,text:n}:i,i=e.extend({type:"button"},i),r=i.click,i.click=function(){r.apply(t.element[0],arguments)},o={icons:i.icons,text:i.showText},delete i.icons,delete i.showText,e("<button></button>",i).button(o).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),undefined)},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var n=this,i=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(i,r){e(this).addClass("ui-dialog-dragging"),n._blockFrames(),n._trigger("dragStart",i,t(r))},drag:function(e,i){n._trigger("drag",e,t(i))},stop:function(r,o){i.position=[o.position.left-n.document.scrollLeft(),o.position.top-n.document.scrollTop()],e(this).removeClass("ui-dialog-dragging"),n._unblockFrames(),n._trigger("dragStop",r,t(o))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var n=this,i=this.options,r=i.resizable,o=this.uiDialog.css("position"),a="string"==typeof r?r:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:a,start:function(i,r){e(this).addClass("ui-dialog-resizing"),n._blockFrames(),n._trigger("resizeStart",i,t(r))},resize:function(e,i){n._trigger("resize",e,t(i))
},stop:function(r,o){i.height=e(this).height(),i.width=e(this).width(),e(this).removeClass("ui-dialog-resizing"),n._unblockFrames(),n._trigger("resizeStop",r,t(o))}}).css("position",o)},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(i){var r=this,o=!1,a={};e.each(i,function(e,i){r._setOption(e,i),e in t&&(o=!0),e in n&&(a[e]=i)}),o&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",a)},_setOption:function(e,t){var n,i,r=this.uiDialog;"dialogClass"===e&&r.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&(n=r.is(":data(ui-draggable)"),n&&!t&&r.draggable("destroy"),!n&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(i=r.is(":data(ui-resizable)"),i&&!t&&r.resizable("destroy"),i&&"string"==typeof t&&r.resizable("option","handles",t),i||t===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),e=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),t=Math.max(0,i.minHeight-e),n="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-e):"none","auto"===i.height?this.element.css({minHeight:t,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return e(t.target).closest(".ui-dialog").length?!0:!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=this,n=this.widgetFullName;e.ui.dialog.overlayInstances||this._delay(function(){e.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(i){t._allowInteraction(i)||(i.preventDefault(),e(".ui-dialog:visible:last .ui-dialog-content").data(n)._focusTabbable())})}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),e.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(e.ui.dialog.overlayInstances--,e.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}}),e.ui.dialog.overlayInstances=0,e.uiBackCompat!==!1&&e.widget("ui.dialog",e.ui.dialog,{_position:function(){var t,n=this.options.position,i=[],r=[0,0];n?(("string"==typeof n||"object"==typeof n&&"0"in n)&&(i=n.split?n.split(" "):[n[0],n[1]],1===i.length&&(i[1]=i[0]),e.each(["left","top"],function(e,t){+i[e]===i[e]&&(r[e]=i[e],i[e]=t)}),n={my:i[0]+(0>r[0]?r[0]:"+"+r[0])+" "+i[1]+(0>r[1]?r[1]:"+"+r[1]),at:i.join(" ")}),n=e.extend({},e.ui.dialog.prototype.options.position,n)):n=e.ui.dialog.prototype.options.position,t=this.uiDialog.is(":visible"),t||this.uiDialog.show(),this.uiDialog.position(n),t||this.uiDialog.hide()}})}(jQuery),function(e){e.widget("ui.draggable",e.ui.mouse,{version:"@VERSION",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var n=this.options;return this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(e(n.iframeFix===!0?"iframe":n.iframeFix).each(function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,n){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(this._trigger("drag",t,i)===!1)return this._mouseUp({}),!1;this.position=i.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=this,i=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(i=e.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"original"!==this.options.helper||e.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",t)!==!1&&n._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1):!1},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,r=this.options;return r.containment?"window"===r.containment?(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],undefined):"document"===r.containment?(this.containment=[0,0,e(document).width()-this.helperProportions.width-this.margins.left,(e(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],undefined):r.containment.constructor===Array?(this.containment=r.containment,undefined):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),n=e(r.containment),i=n[0],i&&(t="hidden"!==n.css("overflow"),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=n),undefined):(this.containment=null,undefined)},_convertPositionTo:function(t,n){n||(n=this.position);var i="absolute"===t?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:r.scrollTop(),left:r.scrollLeft()}),{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*i}},_generatePosition:function(t){var n,i,r,o,a=this.options,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=t.pageX,c=t.pageY;return this.offset.scroll||(this.offset.scroll={top:s.scrollTop(),left:s.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(i=this.relative_container.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),a.grid&&(r=a.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,c=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-a.grid[1]:r+a.grid[1]:r,o=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-a.grid[0]:o+a.grid[0]:o)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,n,i){return i=i||this._uiHash(),e.ui.plugin.call(this,t,[n,i]),"drag"===t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n){var i=e(this).data("ui-draggable"),r=i.options,o=e.extend({},n,{item:i.element});i.sortables=[],e(r.connectToSortable).each(function(){var n=e.data(this,"ui-sortable");n&&!n.options.disabled&&(i.sortables.push({instance:n,shouldRevert:n.options.revert}),n.refreshPositions(),n._trigger("activate",t,o))})},stop:function(t,n){var i=e(this).data("ui-draggable"),r=e.extend({},n,{item:i.element});e.each(i.sortables,function(){this.instance.isOver?(this.instance.isOver=0,i.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"===i.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,r))})},drag:function(t,n){var i=e(this).data("ui-draggable"),r=this;e.each(i.sortables,function(){var o=!1,a=this;this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(o=!0,e.each(i.sortables,function(){return this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this!==a&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(a.instance.element[0],this.instance.element[0])&&(o=!1),o})),o?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(r).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=i.offset.click.top,this.instance.offset.click.left=i.offset.click.left,this.instance.offset.parent.left-=i.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=i.offset.parent.top-this.instance.offset.parent.top,i._trigger("toSortable",t),i.dropped=this.instance.element,i.currentItem=i.element,this.instance.fromOutside=i),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),i._trigger("fromSortable",t),i.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),n=e(this).data("ui-draggable").options;t.css("cursor")&&(n._cursor=t.css("cursor")),t.css("cursor",n.cursor)},stop:function(){var t=e(this).data("ui-draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n){var i=e(n.helper),r=e(this).data("ui-draggable").options;i.css("opacity")&&(r._opacity=i.css("opacity")),i.css("opacity",r.opacity)},stop:function(t,n){var i=e(this).data("ui-draggable").options;i._opacity&&e(n.helper).css("opacity",i._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("ui-draggable");t.scrollParent[0]!==document&&"HTML"!==t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var n=e(this).data("ui-draggable"),i=n.options,r=!1;n.scrollParent[0]!==document&&"HTML"!==n.scrollParent[0].tagName?(i.axis&&"x"===i.axis||(n.overflowOffset.top+n.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?n.scrollParent[0].scrollTop=r=n.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-n.overflowOffset.top<i.scrollSensitivity&&(n.scrollParent[0].scrollTop=r=n.scrollParent[0].scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(n.overflowOffset.left+n.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?n.scrollParent[0].scrollLeft=r=n.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-n.overflowOffset.left<i.scrollSensitivity&&(n.scrollParent[0].scrollLeft=r=n.scrollParent[0].scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(t.pageY-e(document).scrollTop()<i.scrollSensitivity?r=e(document).scrollTop(e(document).scrollTop()-i.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<i.scrollSensitivity&&(r=e(document).scrollTop(e(document).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(t.pageX-e(document).scrollLeft()<i.scrollSensitivity?r=e(document).scrollLeft(e(document).scrollLeft()-i.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<i.scrollSensitivity&&(r=e(document).scrollLeft(e(document).scrollLeft()+i.scrollSpeed)))),r!==!1&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(n,t)}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("ui-draggable"),n=t.options;t.snapElements=[],e(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var n=e(this),i=n.offset();this!==t.element[0]&&t.snapElements.push({item:this,width:n.outerWidth(),height:n.outerHeight(),top:i.top,left:i.left})})},drag:function(t,n){var i,r,o,a,s,l,c,u,d,h,f=e(this).data("ui-draggable"),p=f.options,m=p.snapTolerance,g=n.offset.left,v=g+f.helperProportions.width,y=n.offset.top,b=y+f.helperProportions.height;for(d=f.snapElements.length-1;d>=0;d--)s=f.snapElements[d].left,l=s+f.snapElements[d].width,c=f.snapElements[d].top,u=c+f.snapElements[d].height,s-m>v||g>l+m||c-m>b||y>u+m||!e.contains(f.snapElements[d].item.ownerDocument,f.snapElements[d].item)?(f.snapElements[d].snapping&&f.options.snap.release&&f.options.snap.release.call(f.element,t,e.extend(f._uiHash(),{snapItem:f.snapElements[d].item})),f.snapElements[d].snapping=!1):("inner"!==p.snapMode&&(i=m>=Math.abs(c-b),r=m>=Math.abs(u-y),o=m>=Math.abs(s-v),a=m>=Math.abs(l-g),i&&(n.position.top=f._convertPositionTo("relative",{top:c-f.helperProportions.height,left:0}).top-f.margins.top),r&&(n.position.top=f._convertPositionTo("relative",{top:u,left:0}).top-f.margins.top),o&&(n.position.left=f._convertPositionTo("relative",{top:0,left:s-f.helperProportions.width}).left-f.margins.left),a&&(n.position.left=f._convertPositionTo("relative",{top:0,left:l}).left-f.margins.left)),h=i||r||o||a,"outer"!==p.snapMode&&(i=m>=Math.abs(c-y),r=m>=Math.abs(u-b),o=m>=Math.abs(s-g),a=m>=Math.abs(l-v),i&&(n.position.top=f._convertPositionTo("relative",{top:c,left:0}).top-f.margins.top),r&&(n.position.top=f._convertPositionTo("relative",{top:u-f.helperProportions.height,left:0}).top-f.margins.top),o&&(n.position.left=f._convertPositionTo("relative",{top:0,left:s}).left-f.margins.left),a&&(n.position.left=f._convertPositionTo("relative",{top:0,left:l-f.helperProportions.width}).left-f.margins.left)),!f.snapElements[d].snapping&&(i||r||o||a||h)&&f.options.snap.snap&&f.options.snap.snap.call(f.element,t,e.extend(f._uiHash(),{snapItem:f.snapElements[d].item})),f.snapElements[d].snapping=i||r||o||a||h)}}),e.ui.plugin.add("draggable","stack",{start:function(){var t,n=this.data("ui-draggable").options,i=e.makeArray(e(n.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});i.length&&(t=parseInt(e(i[0]).css("zIndex"),10)||0,e(i).each(function(n){e(this).css("zIndex",t+n)}),this.css("zIndex",t+i.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n){var i=e(n.helper),r=e(this).data("ui-draggable").options;i.css("zIndex")&&(r._zIndex=i.css("zIndex")),i.css("zIndex",r.zIndex)},stop:function(t,n){var i=e(this).data("ui-draggable").options;i._zIndex&&e(n.helper).css("zIndex",i._zIndex)}})}(jQuery),function(e,t){function n(e,t,n){return[parseFloat(e[0])*(f.test(e[0])?t/100:1),parseFloat(e[1])*(f.test(e[1])?n/100:1)]}function i(t,n){return parseInt(e.css(t,n),10)||0}function r(t){var n=t[0];return 9===n.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var o,a=Math.max,s=Math.abs,l=Math.round,c=/left|center|right/,u=/top|center|bottom/,d=/[\+\-]\d+(\.[\d]+)?%?/,h=/^\w+/,f=/%$/,p=e.fn.position;e.position={scrollbarWidth:function(){if(o!==t)return o;var n,i,r=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=r.children()[0];return e("body").append(r),n=a.offsetWidth,r.css("overflow","scroll"),i=a.offsetWidth,n===i&&(i=r[0].clientWidth),r.remove(),o=n-i},getScrollInfo:function(t){var n=t.isWindow?"":t.element.css("overflow-x"),i=t.isWindow?"":t.element.css("overflow-y"),r="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth,o="scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight;return{width:o?e.position.scrollbarWidth():0,height:r?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),i=e.isWindow(n[0]);return{element:n,isWindow:i,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:i?n.width():n.outerWidth(),height:i?n.height():n.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return p.apply(this,arguments);t=e.extend({},t);var o,f,m,g,v,y,b=e(t.of),w=e.position.getWithinInfo(t.within),x=e.position.getScrollInfo(w),k=(t.collision||"flip").split(" "),_={};return y=r(b),b[0].preventDefault&&(t.at="left top"),f=y.width,m=y.height,g=y.offset,v=e.extend({},g),e.each(["my","at"],function(){var e,n,i=(t[this]||"").split(" ");1===i.length&&(i=c.test(i[0])?i.concat(["center"]):u.test(i[0])?["center"].concat(i):["center","center"]),i[0]=c.test(i[0])?i[0]:"center",i[1]=u.test(i[1])?i[1]:"center",e=d.exec(i[0]),n=d.exec(i[1]),_[this]=[e?e[0]:0,n?n[0]:0],t[this]=[h.exec(i[0])[0],h.exec(i[1])[0]]}),1===k.length&&(k[1]=k[0]),"right"===t.at[0]?v.left+=f:"center"===t.at[0]&&(v.left+=f/2),"bottom"===t.at[1]?v.top+=m:"center"===t.at[1]&&(v.top+=m/2),o=n(_.at,f,m),v.left+=o[0],v.top+=o[1],this.each(function(){var r,c,u=e(this),d=u.outerWidth(),h=u.outerHeight(),p=i(this,"marginLeft"),y=i(this,"marginTop"),C=d+p+i(this,"marginRight")+x.width,S=h+y+i(this,"marginBottom")+x.height,T=e.extend({},v),D=n(_.my,u.outerWidth(),u.outerHeight());"right"===t.my[0]?T.left-=d:"center"===t.my[0]&&(T.left-=d/2),"bottom"===t.my[1]?T.top-=h:"center"===t.my[1]&&(T.top-=h/2),T.left+=D[0],T.top+=D[1],e.support.offsetFractions||(T.left=l(T.left),T.top=l(T.top)),r={marginLeft:p,marginTop:y},e.each(["left","top"],function(n,i){e.ui.position[k[n]]&&e.ui.position[k[n]][i](T,{targetWidth:f,targetHeight:m,elemWidth:d,elemHeight:h,collisionPosition:r,collisionWidth:C,collisionHeight:S,offset:[o[0]+D[0],o[1]+D[1]],my:t.my,at:t.at,within:w,elem:u})}),t.using&&(c=function(e){var n=g.left-T.left,i=n+f-d,r=g.top-T.top,o=r+m-h,l={target:{element:b,left:g.left,top:g.top,width:f,height:m},element:{element:u,left:T.left,top:T.top,width:d,height:h},horizontal:0>i?"left":n>0?"right":"center",vertical:0>o?"top":r>0?"bottom":"middle"};d>f&&f>s(n+i)&&(l.horizontal="center"),h>m&&m>s(r+o)&&(l.vertical="middle"),l.important=a(s(n),s(i))>a(s(r),s(o))?"horizontal":"vertical",t.using.call(this,e,l)}),u.offset(e.extend(T,{using:c}))})},e.ui.position={fit:{left:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollLeft:i.offset.left,o=i.width,s=e.left-t.collisionPosition.marginLeft,l=r-s,c=s+t.collisionWidth-o-r;t.collisionWidth>o?l>0&&0>=c?(n=e.left+l+t.collisionWidth-o-r,e.left+=l-n):e.left=c>0&&0>=l?r:l>c?r+o-t.collisionWidth:r:l>0?e.left+=l:c>0?e.left-=c:e.left=a(e.left-s,e.left)},top:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollTop:i.offset.top,o=t.within.height,s=e.top-t.collisionPosition.marginTop,l=r-s,c=s+t.collisionHeight-o-r;t.collisionHeight>o?l>0&&0>=c?(n=e.top+l+t.collisionHeight-o-r,e.top+=l-n):e.top=c>0&&0>=l?r:l>c?r+o-t.collisionHeight:r:l>0?e.top+=l:c>0?e.top-=c:e.top=a(e.top-s,e.top)}},flip:{left:function(e,t){var n,i,r=t.within,o=r.offset.left+r.scrollLeft,a=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,c=e.left-t.collisionPosition.marginLeft,u=c-l,d=c+t.collisionWidth-a-l,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,f="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,p=-2*t.offset[0];0>u?(n=e.left+h+f+p+t.collisionWidth-a-o,(0>n||s(u)>n)&&(e.left+=h+f+p)):d>0&&(i=e.left-t.collisionPosition.marginLeft+h+f+p-l,(i>0||d>s(i))&&(e.left+=h+f+p))},top:function(e,t){var n,i,r=t.within,o=r.offset.top+r.scrollTop,a=r.height,l=r.isWindow?r.scrollTop:r.offset.top,c=e.top-t.collisionPosition.marginTop,u=c-l,d=c+t.collisionHeight-a-l,h="top"===t.my[1],f=h?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,p="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];0>u?(i=e.top+f+p+m+t.collisionHeight-a-o,e.top+f+p+m>u&&(0>i||s(u)>i)&&(e.top+=f+p+m)):d>0&&(n=e.top-t.collisionPosition.marginTop+f+p+m-l,e.top+f+p+m>d&&(n>0||d>s(n))&&(e.top+=f+p+m))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,n,i,r,o,a=document.getElementsByTagName("body")[0],s=document.createElement("div");t=document.createElement(a?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&e.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in i)t.style[o]=i[o];t.appendChild(s),n=a||document.documentElement,n.insertBefore(t,n.firstChild),s.style.cssText="position: absolute; left: 10.7432222px;",r=e(s).offset().left,e.support.offsetFractions=r>10&&11>r,t.innerHTML="",n.removeChild(t)}()}(jQuery),function(e,t){e.widget("ui.progressbar",{version:"@VERSION",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return e===t?this.options.value:(this.options.value=this._constrainedValue(e),this._refreshValue(),t)},_constrainedValue:function(e){return e===t&&(e=this.options.value),this.indeterminate=e===!1,"number"!=typeof e&&(e=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(n.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}})}(jQuery),function(e){function t(e){return parseInt(e,10)||0}function n(e){return!isNaN(parseInt(e,10))}e.widget("ui.resizable",e.ui.mouse,{version:"@VERSION",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var t,n,i,r,o,a=this,s=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!s.aspectRatio,aspectRatio:s.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:s.helper||s.ghost||s.animate?s.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=s.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},n=0;t.length>n;n++)i=e.trim(t[n]),o="ui-resizable-"+i,r=e("<div class='ui-resizable-handle "+o+"'></div>"),r.css({zIndex:s.zIndex}),"se"===i&&r.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[i]=".ui-resizable-"+i,this.element.append(r);
this._renderAxis=function(t){var n,i,r,o;t=t||this.element;for(n in this.handles)this.handles[n].constructor===String&&(this.handles[n]=e(this.handles[n],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(i=e(this.handles[n],this.element),o=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),r=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),t.css(r,o),this._proportionallyResize()),e(this.handles[n]).length},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){a.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=r&&r[1]?r[1]:"se")}),s.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){s.disabled||(e(this).removeClass("ui-resizable-autohide"),a._handles.show())}).mouseleave(function(){s.disabled||a.resizing||(e(this).addClass("ui-resizable-autohide"),a._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,n=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_mouseCapture:function(t){var n,i,r=!1;for(n in this.handles)i=e(this.handles[n])[0],(i===t.target||e.contains(i,t.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(n){var i,r,o,a=this.options,s=this.element.position(),l=this.element;return this.resizing=!0,/absolute/.test(l.css("position"))?l.css({position:"absolute",top:l.css("top"),left:l.css("left")}):l.is(".ui-draggable")&&l.css({position:"absolute",top:s.top,left:s.left}),this._renderProxy(),i=t(this.helper.css("left")),r=t(this.helper.css("top")),a.containment&&(i+=e(a.containment).scrollLeft()||0,r+=e(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:r},this.size=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalPosition={left:i,top:r},this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-l.height()},this.originalMousePosition={left:n.pageX,top:n.pageY},this.aspectRatio="number"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===o?this.axis+"-resize":o),l.addClass("ui-resizable-resizing"),this._propagate("start",n),!0},_mouseDrag:function(t){var n,i=this.helper,r={},o=this.originalMousePosition,a=this.axis,s=this.position.top,l=this.position.left,c=this.size.width,u=this.size.height,d=t.pageX-o.left||0,h=t.pageY-o.top||0,f=this._change[a];return f?(n=f.apply(this,[t,d,h]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(n=this._updateRatio(n,t)),n=this._respectSize(n,t),this._updateCache(n),this._propagate("resize",t),this.position.top!==s&&(r.top=this.position.top+"px"),this.position.left!==l&&(r.left=this.position.left+"px"),this.size.width!==c&&(r.width=this.size.width+"px"),this.size.height!==u&&(r.height=this.size.height+"px"),i.css(r),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(r)||this._trigger("resize",t,this.ui()),!1):!1},_mouseStop:function(t){this.resizing=!1;var n,i,r,o,a,s,l,c=this.options,u=this;return this._helper&&(n=this._proportionallyResizeElements,i=n.length&&/textarea/i.test(n[0].nodeName),r=i&&e.ui.hasScroll(n[0],"left")?0:u.sizeDiff.height,o=i?0:u.sizeDiff.width,a={width:u.helper.width()-o,height:u.helper.height()-r},s=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,l=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,c.animate||this.element.css(e.extend(a,{top:l,left:s})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,i,r,o,a,s=this.options;a={minWidth:n(s.minWidth)?s.minWidth:0,maxWidth:n(s.maxWidth)?s.maxWidth:1/0,minHeight:n(s.minHeight)?s.minHeight:0,maxHeight:n(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||e)&&(t=a.minHeight*this.aspectRatio,r=a.minWidth/this.aspectRatio,i=a.maxHeight*this.aspectRatio,o=a.maxWidth/this.aspectRatio,t>a.minWidth&&(a.minWidth=t),r>a.minHeight&&(a.minHeight=r),a.maxWidth>i&&(a.maxWidth=i),a.maxHeight>o&&(a.maxHeight=o)),this._vBoundaries=a},_updateCache:function(e){this.offset=this.helper.offset(),n(e.left)&&(this.position.left=e.left),n(e.top)&&(this.position.top=e.top),n(e.height)&&(this.size.height=e.height),n(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,r=this.axis;return n(e.height)?e.width=e.height*this.aspectRatio:n(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===r&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===r&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,r=n(e.width)&&t.maxWidth&&t.maxWidth<e.width,o=n(e.height)&&t.maxHeight&&t.maxHeight<e.height,a=n(e.width)&&t.minWidth&&t.minWidth>e.width,s=n(e.height)&&t.minHeight&&t.minHeight>e.height,l=this.originalPosition.left+this.originalSize.width,c=this.position.top+this.size.height,u=/sw|nw|w/.test(i),d=/nw|ne|n/.test(i);return a&&(e.width=t.minWidth),s&&(e.height=t.minHeight),r&&(e.width=t.maxWidth),o&&(e.height=t.maxHeight),a&&u&&(e.left=l-t.minWidth),r&&u&&(e.left=l-t.maxWidth),s&&d&&(e.top=c-t.minHeight),o&&d&&(e.top=c-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var e,t,n,i,r,o=this.helper||this.element;for(e=0;this._proportionallyResizeElements.length>e;e++){if(r=this._proportionallyResizeElements[e],!this.borderDif)for(this.borderDif=[],n=[r.css("borderTopWidth"),r.css("borderRightWidth"),r.css("borderBottomWidth"),r.css("borderLeftWidth")],i=[r.css("paddingTop"),r.css("paddingRight"),r.css("paddingBottom"),r.css("paddingLeft")],t=0;n.length>t;t++)this.borderDif[t]=(parseInt(n[t],10)||0)+(parseInt(i[t],10)||0);r.css({height:o.height()-this.borderDif[0]-this.borderDif[2]||0,width:o.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize,i=this.originalPosition;return{left:i.left+t,width:n.width-t}},n:function(e,t,n){var i=this.originalSize,r=this.originalPosition;return{top:r.top+n,height:i.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},sw:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,i]))},ne:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},nw:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,i]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"resize"!==t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).data("ui-resizable"),i=n.options,r=n._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),a=o&&e.ui.hasScroll(r[0],"left")?0:n.sizeDiff.height,s=o?0:n.sizeDiff.width,l={width:n.size.width-s,height:n.size.height-a},c=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,u=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(l,u&&c?{top:u,left:c}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};r&&r.length&&e(r[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var n,i,r,o,a,s,l,c=e(this).data("ui-resizable"),u=c.options,d=c.element,h=u.containment,f=h instanceof e?h.get(0):/parent/.test(h)?d.parent().get(0):h;f&&(c.containerElement=e(f),/document/.test(h)||h===document?(c.containerOffset={left:0,top:0},c.containerPosition={left:0,top:0},c.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(n=e(f),i=[],e(["Top","Right","Left","Bottom"]).each(function(e,r){i[e]=t(n.css("padding"+r))}),c.containerOffset=n.offset(),c.containerPosition=n.position(),c.containerSize={height:n.innerHeight()-i[3],width:n.innerWidth()-i[1]},r=c.containerOffset,o=c.containerSize.height,a=c.containerSize.width,s=e.ui.hasScroll(f,"left")?f.scrollWidth:a,l=e.ui.hasScroll(f)?f.scrollHeight:o,c.parentData={element:f,left:r.left,top:r.top,width:s,height:l}))},resize:function(t){var n,i,r,o,a=e(this).data("ui-resizable"),s=a.options,l=a.containerOffset,c=a.position,u=a._aspectRatio||t.shiftKey,d={top:0,left:0},h=a.containerElement;h[0]!==document&&/static/.test(h.css("position"))&&(d=l),c.left<(a._helper?l.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-l.left:a.position.left-d.left),u&&(a.size.height=a.size.width/a.aspectRatio),a.position.left=s.helper?l.left:0),c.top<(a._helper?l.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-l.top:a.position.top),u&&(a.size.width=a.size.height*a.aspectRatio),a.position.top=a._helper?l.top:0),a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top,n=Math.abs((a._helper?a.offset.left-d.left:a.offset.left-d.left)+a.sizeDiff.width),i=Math.abs((a._helper?a.offset.top-d.top:a.offset.top-l.top)+a.sizeDiff.height),r=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),r&&o&&(n-=a.parentData.left),n+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-n,u&&(a.size.height=a.size.width/a.aspectRatio)),i+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-i,u&&(a.size.width=a.size.height*a.aspectRatio))},stop:function(){var t=e(this).data("ui-resizable"),n=t.options,i=t.containerOffset,r=t.containerPosition,o=t.containerElement,a=e(t.helper),s=a.offset(),l=a.outerWidth()-t.sizeDiff.width,c=a.outerHeight()-t.sizeDiff.height;t._helper&&!n.animate&&/relative/.test(o.css("position"))&&e(this).css({left:s.left-r.left-i.left,width:l,height:c}),t._helper&&!n.animate&&/static/.test(o.css("position"))&&e(this).css({left:s.left-r.left-i.left,width:l,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).data("ui-resizable"),n=t.options,i=function(t){e(t).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof n.alsoResize||n.alsoResize.parentNode?i(n.alsoResize):n.alsoResize.length?(n.alsoResize=n.alsoResize[0],i(n.alsoResize)):e.each(n.alsoResize,function(e){i(e)})},resize:function(t,n){var i=e(this).data("ui-resizable"),r=i.options,o=i.originalSize,a=i.originalPosition,s={height:i.size.height-o.height||0,width:i.size.width-o.width||0,top:i.position.top-a.top||0,left:i.position.left-a.left||0},l=function(t,i){e(t).each(function(){var t=e(this),r=e(this).data("ui-resizable-alsoresize"),o={},a=i&&i.length?i:t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(a,function(e,t){var n=(r[t]||0)+(s[t]||0);n&&n>=0&&(o[t]=n||null)}),t.css(o)})};"object"!=typeof r.alsoResize||r.alsoResize.nodeType?l(r.alsoResize):e.each(r.alsoResize,function(e,t){l(e,t)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).data("ui-resizable"),n=t.options,i=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).data("ui-resizable");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).data("ui-resizable");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t=e(this).data("ui-resizable"),n=t.options,i=t.size,r=t.originalSize,o=t.originalPosition,a=t.axis,s="number"==typeof n.grid?[n.grid,n.grid]:n.grid,l=s[0]||1,c=s[1]||1,u=Math.round((i.width-r.width)/l)*l,d=Math.round((i.height-r.height)/c)*c,h=r.width+u,f=r.height+d,p=n.maxWidth&&h>n.maxWidth,m=n.maxHeight&&f>n.maxHeight,g=n.minWidth&&n.minWidth>h,v=n.minHeight&&n.minHeight>f;n.grid=s,g&&(h+=l),v&&(f+=c),p&&(h-=l),m&&(f-=c),/^(se|s|e)$/.test(a)?(t.size.width=h,t.size.height=f):/^(ne)$/.test(a)?(t.size.width=h,t.size.height=f,t.position.top=o.top-d):/^(sw)$/.test(a)?(t.size.width=h,t.size.height=f,t.position.left=o.left-u):(t.size.width=h,t.size.height=f,t.position.top=o.top-d,t.position.left=o.left-u)}})}(jQuery),function(e,t){function n(){return++r}function i(e){return e.hash.length>1&&decodeURIComponent(e.href.replace(o,""))===decodeURIComponent(location.href.replace(o,""))}var r=0,o=/#.*$/;e.widget("ui.tabs",{version:"@VERSION",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var t=this,n=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",n.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),n.active=this._initialActive(),e.isArray(n.disabled)&&(n.disabled=e.unique(n.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(n.active):e(),this._refresh(),this.active.length&&this.load(n.active)},_initialActive:function(){var n=this.options.active,i=this.options.collapsible,r=location.hash.substring(1);return null===n&&(r&&this.tabs.each(function(i,o){return e(o).attr("aria-controls")===r?(n=i,!1):t}),null===n&&(n=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===n||-1===n)&&(n=this.tabs.length?0:!1)),n!==!1&&(n=this.tabs.index(this.tabs.eq(n)),-1===n&&(n=i?!1:0)),!i&&n===!1&&this.anchors.length&&(n=0),n},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(n){var i=e(this.document[0].activeElement).closest("li"),r=this.tabs.index(i),o=!0;if(!this._handlePageNav(n)){switch(n.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:r++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:o=!1,r--;break;case e.ui.keyCode.END:r=this.anchors.length-1;break;case e.ui.keyCode.HOME:r=0;break;case e.ui.keyCode.SPACE:return n.preventDefault(),clearTimeout(this.activating),this._activate(r),t;case e.ui.keyCode.ENTER:return n.preventDefault(),clearTimeout(this.activating),this._activate(r===this.options.active?!1:r),t;default:return}n.preventDefault(),clearTimeout(this.activating),r=this._focusNextTab(r,o),n.ctrlKey||(i.attr("aria-selected","false"),this.tabs.eq(r).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",r)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(n){return n.altKey&&n.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):n.altKey&&n.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):t},_findNextTab:function(t,n){function i(){return t>r&&(t=0),0>t&&(t=r),t}for(var r=this.tabs.length-1;-1!==e.inArray(i(),this.options.disabled);)t=n?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,n){return"active"===e?(this._activate(n),t):"disabled"===e?(this._setupDisabled(n),t):(this._super(e,n),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",n),n||this.options.active!==!1||this._activate(0)),"event"===e&&this._setupEvents(n),"heightStyle"===e&&this._setupHeightStyle(n),t)},_tabId:function(e){return e.attr("aria-controls")||"ui-tabs-"+n()},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,n=this.tablist.children(":has(a[href])");t.disabled=e.map(n.filter(".ui-state-disabled"),function(e){return n.index(e)}),this._processTabs(),t.active!==!1&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(n,r){var o,a,s,l=e(r).uniqueId().attr("id"),c=e(r).closest("li"),u=c.attr("aria-controls");i(r)?(o=r.hash,a=t.element.find(t._sanitizeSelector(o))):(s=t._tabId(c),o="#"+s,a=t.element.find(o),a.length||(a=t._createPanel(s),a.insertAfter(t.panels[n-1]||t.tablist)),a.attr("aria-live","polite")),a.length&&(t.panels=t.panels.add(a)),u&&c.data("ui-tabs-aria-controls",u),c.attr({"aria-controls":o.substring(1),"aria-labelledby":l}),a.attr("aria-labelledby",l)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var n,i=0;n=this.tabs[i];i++)t===!0||-1!==e.inArray(i,t)?e(n).addClass("ui-state-disabled").attr("aria-disabled","true"):e(n).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var n={click:function(e){e.preventDefault()}};t&&e.each(t.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var n,i=this.element.parent();"fill"===t?(n=i.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),i=t.css("position");"absolute"!==i&&"fixed"!==i&&(n-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){n-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,n-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(n=0,this.panels.each(function(){n=Math.max(n,e(this).height("").height())}).height(n))},_eventHandler:function(t){var n=this.options,i=this.active,r=e(t.currentTarget),o=r.closest("li"),a=o[0]===i[0],s=a&&n.collapsible,l=s?e():this._getPanelForTab(o),c=i.length?this._getPanelForTab(i):e(),u={oldTab:i,oldPanel:c,newTab:s?e():o,newPanel:l};t.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||a&&!n.collapsible||this._trigger("beforeActivate",t,u)===!1||(n.active=s?!1:this.tabs.index(o),this.active=a?e():o,this.xhr&&this.xhr.abort(),c.length||l.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(o),t),this._toggle(t,u))},_toggle:function(t,n){function i(){o.running=!1,o._trigger("activate",t,n)}function r(){n.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),a.length&&o.options.show?o._show(a,o.options.show,i):(a.show(),i())}var o=this,a=n.newPanel,s=n.oldPanel;this.running=!0,s.length&&this.options.hide?this._hide(s,this.options.hide,function(){n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r()}):(n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),s.hide(),r()),s.attr({"aria-expanded":"false","aria-hidden":"true"}),n.oldTab.attr("aria-selected","false"),a.length&&s.length?n.oldTab.attr("tabIndex",-1):a.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),a.attr({"aria-expanded":"true","aria-hidden":"false"}),n.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(t){var n,i=this._findActive(t);i[0]!==this.active[0]&&(i.length||(i=this.active),n=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop}))},_findActive:function(t){return t===!1?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),n=t.data("ui-tabs-aria-controls");n?t.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(n){var i=this.options.disabled;i!==!1&&(n===t?i=!1:(n=this._getIndex(n),i=e.isArray(i)?e.map(i,function(e){return e!==n?e:null}):e.map(this.tabs,function(e,t){return t!==n?t:null})),this._setupDisabled(i))},disable:function(n){var i=this.options.disabled;if(i!==!0){if(n===t)i=!0;else{if(n=this._getIndex(n),-1!==e.inArray(n,i))return;i=e.isArray(i)?e.merge([n],i).sort():[n]}this._setupDisabled(i)}},load:function(t,n){t=this._getIndex(t);var r=this,o=this.tabs.eq(t),a=o.find(".ui-tabs-anchor"),s=this._getPanelForTab(o),l={tab:o,panel:s};i(a[0])||(this.xhr=e.ajax(this._ajaxSettings(a,n,l)),this.xhr&&"canceled"!==this.xhr.statusText&&(o.addClass("ui-tabs-loading"),s.attr("aria-busy","true"),this.xhr.success(function(e){setTimeout(function(){s.html(e),r._trigger("load",n,l)},1)}).complete(function(e,t){setTimeout(function(){"abort"===t&&r.panels.stop(!1,!0),o.removeClass("ui-tabs-loading"),s.removeAttr("aria-busy"),e===r.xhr&&delete r.xhr},1)})))},_ajaxSettings:function(t,n,i){var r=this;return{url:t.attr("href"),beforeSend:function(t,o){return r._trigger("beforeLoad",n,e.extend({jqXHR:t,ajaxSettings:o},i))}}},_getPanelForTab:function(t){var n=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}})}(jQuery),jQuery.ajaxq=function(e,t){if(document.ajaxq===void 0&&(document.ajaxq={q:{},r:null,rq:null}),document.ajaxq.q[e]===void 0&&(document.ajaxq.q[e]=[]),t!==void 0){var n={};for(var i in t)n[i]=t[i];t=n;var r=t.complete;t.complete=function(t,n){document.ajaxq.q[e].shift(),document.ajaxq.r=null,document.ajaxq.rq=null,r&&r(t,n),document.ajaxq.q[e].length>0&&(document.ajaxq.rq=e,document.ajaxq.r=jQuery.ajax(document.ajaxq.q[e][0]))},document.ajaxq.q[e].push(t),1==document.ajaxq.q[e].length&&(document.ajaxq.rq=e,document.ajaxq.r=jQuery.ajax(t))}else document.ajaxq.rq==e&&(document.ajaxq.r.abort(),document.ajaxq.r=null,document.ajaxq.rq=null),document.ajaxq.q[e]=[]},function(e){function t(e,t,n){return e>t&&t+n>e}function n(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))}e.widget("ui.sortable",e.ui.mouse,{version:"@VERSION",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===e.axis||n(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,n){"disabled"===t?(this.options[t]=n,this.widget().toggleClass("ui-sortable-disabled",!!n)):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,n){var i=null,r=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,o.widgetName+"-item")===o?(i=e(this),!1):undefined}),e.data(t.target,o.widgetName+"-item")===o&&(i=e(t.target)),i?!this.options.handle||n||(e(this.options.handle,i).find("*").addBack().each(function(){this===t.target&&(r=!0)}),r)?(this.currentItem=i,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(t,n,i){var r,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=e("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var n,i,r,o,a=this.options,s=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+a.scrollSpeed:t.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+a.scrollSpeed:t.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(t.pageY-e(document).scrollTop()<a.scrollSensitivity?s=e(document).scrollTop(e(document).scrollTop()-a.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<a.scrollSensitivity&&(s=e(document).scrollTop(e(document).scrollTop()+a.scrollSpeed)),t.pageX-e(document).scrollLeft()<a.scrollSensitivity?s=e(document).scrollLeft(e(document).scrollLeft()-a.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<a.scrollSensitivity&&(s=e(document).scrollLeft(e(document).scrollLeft()+a.scrollSpeed))),s!==!1&&e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],r=i.item[0],o=this._intersectsWithPointer(i),o&&i.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==r&&!e.contains(this.placeholder[0],r)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],r):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;
this._rearrange(t,i),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){i._clear(t)})}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&i.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n.each(function(){i.push(e(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=e.left,a=o+e.width,s=e.top,l=s+e.height,c=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||i+c>s&&l>i+c,h="y"===this.options.axis||t+u>o&&a>t+u,f=d&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?f:t+this.helperProportions.width/2>o&&a>n-this.helperProportions.width/2&&i+this.helperProportions.height/2>s&&l>r-this.helperProportions.height/2},_intersectsWithPointer:function(e){var n="x"===this.options.axis||t(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.options.axis||t(this.positionAbs.left+this.offset.click.left,e.left,e.width),r=n&&i,o=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return r?this.floating?a&&"right"===a||"down"===o?2:1:o&&("down"===o?2:1):!1},_intersectsWithSides:function(e){var n=t(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=t(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&i||"left"===o&&!i:r&&("down"===r&&n||"up"===r&&!n)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var n,i,r,o,a=[],s=[],l=this._connectWith();if(l&&t)for(n=l.length-1;n>=0;n--)for(r=e(l[n]),i=r.length-1;i>=0;i--)o=e.data(r[i],this.widgetFullName),o&&o!==this&&!o.options.disabled&&s.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(s.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=s.length-1;n>=0;n--)s[n][0].each(function(){a.push(this)});return e(a)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;t.length>n;n++)if(t[n]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var n,i,r,o,a,s,l,c,u=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(n=h.length-1;n>=0;n--)for(r=e(h[n]),i=r.length-1;i>=0;i--)o=e.data(r[i],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(d.push([e.isFunction(o.options.items)?o.options.items.call(o.element[0],t,{item:this.currentItem}):e(o.options.items,o.element),o]),this.containers.push(o));for(n=d.length-1;n>=0;n--)for(a=d[n][1],s=d[n][0],i=0,c=s.length;c>i;i++)l=e(s[i]),l.data(this.widgetName+"-item",a),u.push({item:l,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,r,o;for(n=this.items.length-1;n>=0;n--)i=this.items[n],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?e(this.options.toleranceElement,i.item):i.item,t||(i.width=r.outerWidth(),i.height=r.outerHeight()),o=r.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var n,i=t.options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=t.currentItem[0].nodeName.toLowerCase(),r=e("<"+i+">",t.document[0]).addClass(n||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===i?t.currentItem.children().each(function(){e("<td>&#160;</td>",t.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(r)}):"img"===i&&r.attr("src",t.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(e,r){(!n||i.forcePlaceholderSize)&&(r.height()||r.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(i.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),i.placeholder.update(t,t.placeholder)},_contactContainers:function(i){var r,o,a,s,l,c,u,d,h,f,p=null,m=null;for(r=this.containers.length-1;r>=0;r--)if(!e.contains(this.currentItem[0],this.containers[r].element[0]))if(this._intersectsWith(this.containers[r].containerCache)){if(p&&e.contains(this.containers[r].element[0],p.element[0]))continue;p=this.containers[r],m=r}else this.containers[r].containerCache.over&&(this.containers[r]._trigger("out",i,this._uiHash(this)),this.containers[r].containerCache.over=0);if(p)if(1===this.containers.length)this.containers[m].containerCache.over||(this.containers[m]._trigger("over",i,this._uiHash(this)),this.containers[m].containerCache.over=1);else{for(a=1e4,s=null,f=p.floating||n(this.currentItem),l=f?"left":"top",c=f?"width":"height",u=this.positionAbs[l]+this.offset.click[l],o=this.items.length-1;o>=0;o--)e.contains(this.containers[m].element[0],this.items[o].item[0])&&this.items[o].item[0]!==this.currentItem[0]&&(!f||t(this.positionAbs.top+this.offset.click.top,this.items[o].top,this.items[o].height))&&(d=this.items[o].item.offset()[l],h=!1,Math.abs(d-u)>Math.abs(d+this.items[o][c]-u)&&(h=!0,d+=this.items[o][c]),a>Math.abs(d-u)&&(a=Math.abs(d-u),s=this.items[o],this.direction=h?"up":"down"));if(!s&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[m])return;s?this._rearrange(i,s,null,!0):this._rearrange(i,null,this.containers[m].element,!0),this._trigger("change",i,this._uiHash()),this.containers[m]._trigger("change",i,this._uiHash(this)),this.currentContainer=this.containers[m],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[m]._trigger("over",i,this._uiHash(this)),this.containers[m].containerCache.over=1}},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||e("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"===r.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"===r.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(t=e(r.containment)[0],n=e(r.containment).offset(),i="hidden"!==e(t).css("overflow"),this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var i="absolute"===t?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(t){var n,i,r=this.options,o=t.pageX,a=t.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((a-this.originalPageY)/r.grid[1])*r.grid[1],a=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:s.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:s.scrollLeft())}},_rearrange:function(e,t,n,i){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(e,t){this.reverting=!1;var n,i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)("auto"===this._storedCSS[n]||"static"===this._storedCSS[n])&&(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&i.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||i.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(i.push(function(e){this._trigger("remove",e,this._uiHash())}),i.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)t||i.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over&&(i.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!t){for(this._trigger("beforeStop",e,this._uiHash()),n=0;i.length>n;n++)i[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}if(t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!t){for(n=0;i.length>n;n++)i[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}})}(jQuery),function(e){function t(e,t){return"function"==typeof e?e.call(t):e}function n(e){for(;e=e.parentNode;)if(e==document)return!0;return!1}function i(t,n){this.$element=e(t),this.options=n,this.enabled=!0,this.fixTitle()}i.prototype={show:function(){var n=this.getTitle();if(n&&this.enabled){var i=this.tip();i.find(".tipsy-inner")[this.options.html?"html":"text"](n),i[0].className="tipsy",i.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).prependTo(document.body);var r,o=e.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight}),a=i[0].offsetWidth,s=i[0].offsetHeight,l=t(this.options.gravity,this.$element[0]);switch(l.charAt(0)){case"n":r={top:o.top+o.height+this.options.offset,left:o.left+o.width/2-a/2};break;case"s":r={top:o.top-s-this.options.offset,left:o.left+o.width/2-a/2};break;case"e":r={top:o.top+o.height/2-s/2,left:o.left-a-this.options.offset};break;case"w":r={top:o.top+o.height/2-s/2,left:o.left+o.width+this.options.offset}}2==l.length&&(r.left="w"==l.charAt(1)?o.left+o.width/2-15:o.left+o.width/2-a+15),i.css(r).addClass("tipsy-"+l),i.find(".tipsy-arrow")[0].className="tipsy-arrow tipsy-arrow-"+l.charAt(0),this.options.className&&i.addClass(t(this.options.className,this.$element[0])),this.options.fade?i.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity}):i.css({visibility:"visible",opacity:this.options.opacity})}},hide:function(){this.options.fade?this.tip().stop().fadeOut(function(){e(this).remove()}):this.tip().remove()},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("original-title"))&&e.attr("original-title",e.attr("title")||"").removeAttr("title")},getTitle:function(){var e,t=this.$element,n=this.options;this.fixTitle();var e,n=this.options;return"string"==typeof n.title?e=t.attr("title"==n.title?"original-title":n.title):"function"==typeof n.title&&(e=n.title.call(t[0])),e=(""+e).replace(/(^\s*|\s*$)/,""),e||n.fallback},tip:function(){return this.$tip||(this.$tip=e('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>'),this.$tip.data("tipsy-pointee",this.$element[0])),this.$tip},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}},e.fn.tipsy=function(t){function n(n){var r=e.data(n,"tipsy");return r||(r=new i(n,e.fn.tipsy.elementOptions(n,t)),e.data(n,"tipsy",r)),r}function r(){var e=n(this);e.hoverState="in",0==t.delayIn?e.show():(e.fixTitle(),setTimeout(function(){"in"==e.hoverState&&e.show()},t.delayIn))}function o(){var e=n(this);e.hoverState="out",0==t.delayOut?e.hide():setTimeout(function(){"out"==e.hoverState&&e.hide()},t.delayOut)}if(t===!0)return this.data("tipsy");if("string"==typeof t){var a=this.data("tipsy");return a&&a[t](),this}if(t=e.extend({},e.fn.tipsy.defaults,t),t.live||this.each(function(){n(this)}),"manual"!=t.trigger){var s=t.live?"live":"bind",l="hover"==t.trigger?"mouseenter":"focus",c="hover"==t.trigger?"mouseleave":"blur";this[s](l,r)[s](c,o)}return this},e.fn.tipsy.defaults={className:null,delayIn:0,delayOut:0,fade:!1,fallback:"",gravity:"n",html:!1,live:!1,offset:0,opacity:.8,title:"title",trigger:"hover"},e.fn.tipsy.revalidate=function(){e(".tipsy").each(function(){var t=e.data(this,"tipsy-pointee");t&&n(t)||e(this).remove()})},e.fn.tipsy.elementOptions=function(t,n){return e.metadata?e.extend({},n,e(t).metadata()):n},e.fn.tipsy.autoNS=function(){return e(this).offset().top>e(document).scrollTop()+e(window).height()/2?"s":"n"},e.fn.tipsy.autoWE=function(){return e(this).offset().left>e(document).scrollLeft()+e(window).width()/2?"e":"w"},e.fn.tipsy.autoBounds=function(t,n){return function(){var i={ns:n[0],ew:n.length>1?n[1]:!1},r=e(document).scrollTop()+t,o=e(document).scrollLeft()+t,a=e(this);return r>a.offset().top&&(i.ns="n"),o>a.offset().left&&(i.ew="w"),t>e(window).width()+e(document).scrollLeft()-a.offset().left&&(i.ew="e"),t>e(window).height()+e(document).scrollTop()-a.offset().top&&(i.ns="s"),i.ns+(i.ew?i.ew:"")}}}(jQuery),function(e){jQuery.autocomplete=function(t,n){function i(){E={},E.data={},E.length=0}function r(){if(46==A||A>8&&32>A)return S.hide();var e=_.val();e!=D&&(D=e,e.length>=n.minChars?(_.addClass(n.loadingClass),g(e)):(_.removeClass(n.loadingClass),S.hide()))}function o(t){var n=e("li",C);n&&(M+=t,0>M?M=0:M>=n.size()&&(M=n.size()-1),n.removeClass("ac_over"),e(n[M]).addClass("ac_over"))}function a(){var t=e("li.ac_over",C)[0];if(!t){var i=e("li",C);n.selectOnly?1==i.length&&(t=i[0]):n.selectFirst&&(t=i[0])}return t?(s(t),!0):!1}function s(i){var r=_.get(0).autocompleter;i||(i=document.createElement("li"),i.extra=[],i.selectValue="");var o=e.trim(i.selectValue?i.selectValue:i.innerHTML);i=jQuery(i).clone().get(0),t.lastSelected=o,D=o,S.html(""),_.val(o),h(),n.onItemSelect&&setTimeout(function(){n.onItemSelect(r,i)},1)}function l(e,t){var n=_.get(0);if(n.createTextRange){var i=n.createTextRange();i.collapse(!0),i.moveStart("character",e),i.moveEnd("character",t),i.select()}else n.setSelectionRange?n.setSelectionRange(e,t):n.selectionStart&&(n.selectionStart=e,n.selectionEnd=t);n.focus()}function c(e){8!=A&&(_.val(_.val()+e.substring(D.length)),l(D.length,e.length))}function u(){for(var i=t,r=0;"BODY"!=i.tagName.toUpperCase();){if("auto"!=e(i).css("z-index")){r=e(i).css("z-index");break}i=i.parentNode}var o,a=jQuery(t).offsetParent();o="fixed"==a.css("position")?"fixed":"absolute";var s=x(t),l=n.width>0?n.width:_.width();S.css({zIndex:r,width:parseInt(l)+"px",top:s.y+t.offsetHeight+"px",left:s.x+"px",position:o}).show()}function d(){T&&clearTimeout(T),T=setTimeout(h,200)}function h(){if(T&&clearTimeout(T),_.removeClass(n.loadingClass),S.is(":visible")&&S.hide(),n.mustMatch){var e=_.val();e!=t.lastSelected&&s(null)}}function f(t,i){if(i){if(_.removeClass(n.loadingClass),C.innerHTML="",!N||0==i.length)return h();e.browser.msie&&S.append(document.createElement("iframe")),C.appendChild(m(i)),n.autoFill&&_.val().toLowerCase()==t.toLowerCase()&&c(i[0][0]),u()}else h()}function p(t){if(!t)return null;for(var i=[],r=t.split(n.lineSeparator),o=0;r.length>o;o++){var a=e.trim(r[o]);a&&(i[i.length]=a.split(n.cellSeparator))}return i}function m(t){var i=document.createElement("ul"),r=t.length;n.maxItemsToShow>0&&r>n.maxItemsToShow&&(r=n.maxItemsToShow);for(var o=0;r>o;o++){var a=t[o];if(a){var l=document.createElement("li");n.formatItem?(l.innerHTML=n.formatItem(a,o,r),l.selectValue=a[0]):(l.innerHTML=a[0],l.selectValue=a[0]);var c=null;if(a.length>1){c=[];for(var u=1;a.length>u;u++)c[c.length]=a[u]}l.extra=c,i.appendChild(l),e(l).hover(function(){e("li",i).removeClass("ac_over"),e(this).addClass("ac_over"),M=e("li",i).indexOf(e(this).get(0))},function(){e(this).removeClass("ac_over")}).click(function(e){e.preventDefault(),e.stopPropagation(),s(this)})}}return i}function g(t){n.matchCase||(t=t.toLowerCase());var i=n.cacheLength?y(t):null;i?f(t,i):"string"==typeof n.url&&n.url.length>0?(e.ajaxq("autocomplete"+n.id),e.ajaxq("autocomplete"+n.id,{type:"GET",url:v(t),success:function(e,n,i){return 0==i.status?(ws.session.reloadSession(function(){g(t)},3e3),void 0):(ws.session.reloadSessionSuccess(),e=p(e),w(t,e),f(t,e),void 0)},error:function(){ws.session.reloadSession(function(){g(t)},3e3)}})):_.removeClass(n.loadingClass)}function v(e){var t=n.url+"?q="+encodeURIComponent(e);for(var i in n.extraParams)t+="&"+i+"="+encodeURIComponent(n.extraParams[i]);return t}function y(e){if(!e)return null;if(E.data[e])return E.data[e];if(n.matchSubset)for(var t=e.length-1;t>=n.minChars;t--){var i=e.substr(0,t),r=E.data[i];if(r){for(var o=[],a=0;r.length>a;a++){var s=r[a],l=s[0];b(l,e)&&(o[o.length]=s)}return o}}return null}function b(e,t){n.matchCase||(e=e.toLowerCase());var i=e.indexOf(t);return-1==i?!1:0==i||n.matchContains}function w(e,t){t&&e&&n.cacheLength&&(!E.length||E.length>n.cacheLength?(i(),E.length++):E[e]||E.length++,E.data[e]=t)}function x(t){var n,i,r=e(t).offset(),o=e(t).offsetParent();return"fixed"==o.css("position")?(n=r.left-jQuery(document).scrollLeft(),i=r.top-jQuery(document).scrollTop()):(n=r.left,i=r.top),{x:n,y:i}}var k=this;this.options=n,this.input=t;var _=e(t).attr("autocomplete","off");n.inputClass&&_.addClass(n.inputClass);var C=document.createElement("div"),S=e(C);S.hide().addClass(n.resultsClass).css("position","absolute"),n.width>0&&S.css("width",n.width),e("body").append(C),t.autocompleter=k;var T=null,D="",M=-1,E={},N=!1,A=null;if(i(),null!=n.data){var I="",P={},j=[];"string"!=typeof n.url&&(n.cacheLength=1);for(var L=0;n.data.length>L;L++)j="string"==typeof n.data[L]?[n.data[L]]:n.data[L],j[0].length>0&&(I=j[0].substring(0,1).toLowerCase(),P[I]||(P[I]=[]),P[I].push(j));for(var R in P)n.cacheLength++,w(R,P[R])}_.keydown(function(e){switch(A=e.keyCode,e.keyCode){case 38:e.preventDefault(),o(-1);break;case 40:e.preventDefault(),o(1);break;case 9:case 13:a()&&(_.get(0).blur(),e.preventDefault());break;case 16:case 17:case 18:case 20:case 45:e.preventDefault();break;default:M=-1,T&&clearTimeout(T),T=setTimeout(function(){r()},n.delay)}}).focus(function(){N=!0}).blur(function(){N=!1,d()}),h(),this.refreshResults=function(){T&&clearTimeout(T);var e=_.val();D=e,_.addClass(n.loadingClass),g(e)},this.flushCache=function(){i()},this.setExtraParams=function(e){n.extraParams=e},this.findValue=function(){var t=_.val(),i=this;if(!t.length)return n.onEmptyValue&&setTimeout(function(){n.onEmptyValue(i)},1),void 0;n.matchCase||(t=t.toLowerCase());var r=n.cacheLength?y(t):null;r?this.findValueCallback(i,t,r):"string"==typeof n.url&&n.url.length>0?(e.ajaxq("autocomplete"+n.id),e.ajaxq("autocomplete"+n.id,{type:"GET",url:v(t),success:function(e,n,r){return 0==r.status?(ws.session.reloadSession(function(){i.findValue()},3e3),void 0):(ws.session.reloadSessionSuccess(),e=p(e),w(t,e),i.findValueCallback(i,t,e),void 0)},error:function(){ws.session.reloadSession(function(){i.findValue()},3e3)}})):this.findValueCallback(i,t,null)},this.findValueCallback=function(e,t,i){i&&_.removeClass(n.loadingClass);for(var r=i?i.length:0,o=null,a=0;r>a;a++){var s=i[a];if(s[0].toLowerCase()==t.toLowerCase()){o=document.createElement("li"),n.formatItem?(o.innerHTML=n.formatItem(s,a,r),o.selectValue=s[0]):(o.innerHTML=s[0],o.selectValue=s[0]);var l=null;if(s.length>1){l=[];for(var c=1;s.length>c;c++)l[l.length]=s[c]}o.extra=l}}n.onFindValue&&setTimeout(function(){n.onFindValue(e,o)},1)}},jQuery.fn.autocomplete=function(e,t,n){return t=t||{},t.url=e,t.data="object"==typeof n&&n.constructor==Array?n:null,t.inputClass=t.inputClass||"ac_input",t.resultsClass=t.resultsClass||"ac_results",t.lineSeparator=t.lineSeparator||"\n",t.cellSeparator=t.cellSeparator||"|",t.minChars=t.minChars||1,t.delay=t.delay||400,t.matchCase=t.matchCase||0,t.matchSubset=t.matchSubset||0,t.matchContains=t.matchContains||0,t.cacheLength=t.cacheLength||10,t.mustMatch=t.mustMatch||0,t.extraParams=t.extraParams||{},t.loadingClass=t.loadingClass||"ac_loading",t.selectFirst=t.selectFirst||!1,t.selectOnly=t.selectOnly||!1,t.maxItemsToShow=t.maxItemsToShow||-1,t.autoFill=t.autoFill||!1,t.width=parseInt(t.width,10)||0,this.each(function(){var e=this;new jQuery.autocomplete(e,t)}),this},jQuery.fn.autocompleteArray=function(e,t){return this.autocomplete(null,t,e)},jQuery.fn.indexOf=function(e){for(var t=0;this.length>t;t++)if(this[t]==e)return t;return-1}}(jQuery),function(e){function t(e){return"object"==typeof e?e:{top:e,left:e}}var n=e.scrollTo=function(t,n,i){e(window).scrollTo(t,n,i)};n.defaults={axis:"xy",duration:parseFloat(e.fn.jquery)>=1.3?0:1},n.window=function(){return e(window)._scrollable()},e.fn._scrollable=function(){return this.map(function(){var t=this,n=!t.nodeName||-1!=e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"]);if(!n)return t;var i=(t.contentWindow||t).document||t.ownerDocument||t;return e.browser.safari||"BackCompat"==i.compatMode?i.body:i.documentElement})},e.fn.scrollTo=function(i,r,o){return"object"==typeof r&&(o=r,r=0),"function"==typeof o&&(o={onAfter:o}),"max"==i&&(i=9e9),o=e.extend({},n.defaults,o),r=r||o.speed||o.duration,o.queue=o.queue&&o.axis.length>1,o.queue&&(r/=2),o.offset=t(o.offset),o.over=t(o.over),this._scrollable().each(function(){function a(e){c.animate(d,r,o.easing,e&&function(){e.call(this,i,o)})}var s,l=this,c=e(l),u=i,d={},h=c.is("html,body");switch(typeof u){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(u)){u=t(u);break}u=e(u,this);case"object":(u.is||u.style)&&(s=(u=e(u)).offset())}e.each(o.axis.split(""),function(e,t){var i="x"==t?"Left":"Top",r=i.toLowerCase(),f="scroll"+i,p=l[f],m=n.max(l,t);if(s)d[f]=s[r]+(h?0:p-c.offset()[r]),o.margin&&(d[f]-=parseInt(u.css("margin"+i))||0,d[f]-=parseInt(u.css("border"+i+"Width"))||0),d[f]+=o.offset[r]||0,o.over[r]&&(d[f]+=u["x"==t?"width":"height"]()*o.over[r]);else{var g=u[r];d[f]=g.slice&&"%"==g.slice(-1)?parseFloat(g)/100*m:g}/^\d+$/.test(d[f])&&(d[f]=0>=d[f]?0:Math.min(d[f],m)),!e&&o.queue&&(p!=d[f]&&a(o.onAfterFirst),delete d[f])}),a(o.onAfter)}).end()},n.max=function(t,n){var i="x"==n?"Width":"Height",r="scroll"+i;if(!e(t).is("html,body"))return t[r]-e(t)[i.toLowerCase()]();var o="client"+i,a=t.ownerDocument.documentElement,s=t.ownerDocument.body;return Math.max(a[r],s[r])-Math.min(a[o],s[o])}}(jQuery),function(e){e.fn.hoverIntent=function(t,n,i){var r={interval:100,sensitivity:7,timeout:0};r="object"==typeof t?e.extend(r,t):e.isFunction(n)?e.extend(r,{over:t,out:n,selector:i}):e.extend(r,{over:t,out:t,selector:n});var o,a,s,l,c=function(e){o=e.pageX,a=e.pageY},u=function(t,n){return n.hoverIntent_t=clearTimeout(n.hoverIntent_t),Math.abs(s-o)+Math.abs(l-a)<r.sensitivity?(e(n).off("mousemove.hoverIntent",c),n.hoverIntent_s=1,r.over.apply(n,[t])):(s=o,l=a,n.hoverIntent_t=setTimeout(function(){u(t,n)
},r.interval),void 0)},d=function(e,t){return t.hoverIntent_t=clearTimeout(t.hoverIntent_t),t.hoverIntent_s=0,r.out.apply(t,[e])},h=function(t){var n=jQuery.extend({},t),i=this;i.hoverIntent_t&&(i.hoverIntent_t=clearTimeout(i.hoverIntent_t)),"mouseenter"==t.type?(s=n.pageX,l=n.pageY,e(i).on("mousemove.hoverIntent",c),1!=i.hoverIntent_s&&(i.hoverIntent_t=setTimeout(function(){u(n,i)},r.interval))):(e(i).off("mousemove.hoverIntent",c),1==i.hoverIntent_s&&(i.hoverIntent_t=setTimeout(function(){d(n,i)},r.timeout)))};return this.on({"mouseenter.hoverIntent":h,"mouseleave.hoverIntent":h},r.selector)}}(jQuery),jQuery(function($){$.fn.fcbkcomplete=function(opt){return this.each(function(){function init(){createFCBK(),preSet(),updateSelected(),reset(),bindEvents()}function createFCBK(){element.hide(),element.attr("multiple","multiple"),-1==element.attr("name").indexOf("[]")&&element.attr("name",element.attr("name")+"[]"),holder=$("<ul/>").attr("class","holder"),element.after(holder),complete=$("<div/>").addClass("facebook-auto"),complete.append('<div class="default">'+options.complete_text+"</div>"),browser_msie&&(complete.append('<iframe class="ie6fix" scrolling="no" frameborder="0"></iframe>'),browser_msie_frame=complete.children(".ie6fix")),feed=$("<ul/>").attr("id",elemid+"_feed"),complete.prepend(feed),holder.after(complete)}function reset(){element.children("option").not(originalSelected).removeAttr("selected").removeClass("selected"),holder.empty(),$(originalSelected).attr("selected","selected").addClass("selected").each(function(e,t){t=$(t),addItem(t.text(),t.val(),!0)}),addInput(0),complete.children(".default").show()}function updateSelected(){originalSelected=[],element.children("option.selected").each(function(){originalSelected[originalSelected.length]=this})}function preSet(){var e=options.filter_case?"":"i";element.children("option").each(function(t,n){n=$(n);var i=RegExp(search_delim+"\\d+:"+ws.common.escapeRegExp(n.text())+search_delim,"g"+e),r=i.exec(search_string);r||(cache.push({caption:n.text(),value:n.val(),count:n.attr("count")}),search_string+=""+(cache.length-1)+":"+n.text()+search_delim)})}function addItem(e,t,n){if(e=$.trim(e),t=$.trim(t),e=t,!e||!t)return!1;$("<div/>").text(t).html();var i=holder.find("li").filter(function(){var e=$(this).attr("rel")||"";return e.toLowerCase()==t.toLowerCase()});if(i.length)return $(i).effect("highlight",{},3e3),$("#"+elemid+"_annoninput").children(".maininput").val(""),void 0;var r=$("<a/>").attr({"class":"closebutton",href:"#"}).click(function(){return $(this).parent("li").fadeOut("fast",function(){removeItem($(this))}),!1});if($("<li/>").attr({"class":"bit-box",rel:t}).text(e).append(r).appendTo(holder),!n){$("#"+elemid+"_annoninput").remove();var o;addInput(1);var i=element.children("option").filter(function(){return $(this).val().toLowerCase()==t.toLowerCase()});if(i.length)o=i,o.attr("selected","selected"),o.hasClass("selected")||o.addClass("selected");else var o=$("<option/>").attr("value",t).attr("selected","selected").addClass("selected").text(e).appendTo(element);options.onselect.length&&funCall(options.onselect,o)}holder.children("li.bit-box.deleted").removeClass("deleted"),feed.hide(),browser_msie?browser_msie_frame.hide():""}function removeItem(e){if(options.onremove.length){var t=element.children("option").filter(function(){return jQuery(this).val()==e.attr("rel")});funCall(options.onremove,t)}element.children("option").filter(function(){return jQuery(this).val()==e.attr("rel")}).removeAttr("selected").removeClass("selected"),e.remove(),deleting=0}function addInput(e){var t=$("<li/>").attr({"class":"bit-input",id:elemid+"_annoninput"}),n=$("<input/>").attr({type:"text","class":"maininput",size:"1",maxlength:options.maxlength});holder.append(t.append(n)),n.focus(function(){complete.fadeIn("fast")}),n.blur(function(){complete.fadeOut("fast")}),holder.click(function(){n.focus(),feed.length&&n.val().length?(feed.show(),complete.children(".default").hide()):(feed.hide(),browser_msie?browser_msie_frame.hide():"",complete.children(".default").show())}),n.keypress(function(e){return 13==e.keyCode?!1:(n.attr("size",n.val().length+1),void 0)}),bindEvents(),n.keyup(function(e){var t=xssPrevent(n.val());40==e.keyCode||38==e.keyCode||188==e.keyCode&&!e.shiftKey&&options.comma_is_enter||(0!=t.length?(counter=0,options.json_url?options.cache&&json_cache?(addMembers(t),bindEvents()):($.ajaxq("fcbkcomplete"),$.ajaxq("fcbkcomplete",{url:options.json_url+"?tag="+encodeURIComponent(t),data:null,dataType:"json",type:"GET",success:function(e){addMembers(t,e),json_cache=!0,bindEvents()}})):(addMembers(t),bindEvents()),complete.children(".default").hide(),feed.show()):(feed.hide(),browser_msie?browser_msie_frame.hide():"",complete.children(".default").show()))}),e&&setTimeout(function(){n.focus(),complete.children(".default").show()},1)}function addMembers(e,t){feed.html(""),focuson=null;var n=options.filter_case?"":"i";options.cache||(cache=[],search_string=search_delim),addTextItem(e),null!=t&&t.length&&$.each(t,function(e,t){var i=RegExp(search_delim+"\\d+:"+ws.common.escapeRegExp(t.caption)+search_delim,"g"+n),r=i.exec(search_string);r||(cache.push({caption:t.caption,value:t.value,count:t.count}),search_string+=""+(cache.length-1)+":"+t.caption+search_delim)});var i,r;try{i=RegExp(search_delim+"(\\d+):[^"+search_delim+"]*?"+ws.common.escapeRegExp(e)+"[^"+search_delim+"]*","g"+n),r=i.exec(search_string)}catch(o){}for(var a=getItemIlluminator($("<div/>").text(e).html()),s=options.maxshownitems<cache.length?options.maxshownitems:cache.length,l="";null!=r&&s>0;){var c=r[1],u=cache[c],d=!1,h=u.value,f=element.children("option").filter(function(){return $(this).val()==h});options.filter_case&&options.filter_selected&&f.hasClass("selected")?d=!0:!options.filter_case&&options.filter_selected&&element.find("option").each(function(){this.value.toLowerCase()==u.value.toLowerCase()&&$(this).hasClass("selected")&&(d=!0)}),d||(l+='<li rel="'+$("<div/>").text(u.value).html().replace(/"/g,"&quot;")+'">'+a($("<div/>").text(u.caption).html())+(null!=u.count?" ("+u.count+")":"")+"</li>",counter++,s--),r=i.exec(search_string)}feed.append(l),options.firstselected&&(focuson=feed.children("li:visible:first"),focuson.addClass("auto-focus")),counter>options.height?(feed.css({height:24*options.height+"px",overflow:"auto"}),browser_msie&&browser_msie_frame.css({height:24*options.height+"px",width:feed.width()+"px"}).show()):(feed.css("height","auto"),browser_msie&&browser_msie_frame.css({height:feed.height()+"px",width:feed.width()+"px"}).show())}function getItemIlluminator(e){var t=options.filter_case?"":"i",n=RegExp("("+ws.common.escapeRegExp(e)+")",t);return function(e){return e.replace(n,"<em>$1</em>")}}function bindFeedEvent(){feed.children("li").mouseover(function(){feed.children("li.auto-focus").removeClass("auto-focus"),$(this).addClass("auto-focus"),focuson=$(this)}).mouseout(function(){$(this).removeClass("auto-focus"),focuson=null})}function removeFeedEvent(){feed.children("li").unbind("mouseover").unbind("mouseout"),feed.mousemove(function(){feed.unbind("mousemove"),bindFeedEvent()})}function bindEvents(){var e=$("#"+elemid+"_annoninput").children(".maininput");feed.mousemove(function(){bindFeedEvent(),feed.unbind("mousemove")}),feed.children("li").unbind("mousedown"),feed.children("li").mousedown(function(){var e=$(this);addItem(e.text(),e.attr("rel")),feed.hide(),browser_msie?browser_msie_frame.hide():"",complete.hide()}),e.unbind("keydown"),e.keydown(function(t){8!=t.keyCode&&holder.children("li.bit-box.deleted").removeClass("deleted");var n=$.trim(e.val());if(8==t.keyCode&&0==n.length){if(feed.hide(),0==holder.children("li.bit-box.deleted").length)return holder.children("li.bit-box:last").addClass("deleted"),!1;if(deleting)return;deleting=1,holder.children("li.bit-box.deleted").fadeOut("fast",function(){return removeItem($(this)),!1})}if((13==t.keyCode||options.comma_is_enter&&188==t.keyCode&&!t.shiftKey)&&checkFocusOn()){var i=focuson;return addItem(i.text(),i.attr("rel")),complete.hide(),t.preventDefault(),focuson=null,!1}if((13==t.keyCode||options.comma_is_enter&&188==t.keyCode&&!t.shiftKey)&&!checkFocusOn()){if(options.newel){var r=xssPrevent($(this).val());addItem(r,r),complete.hide(),t.preventDefault(),focuson=null}return!1}if(40==t.keyCode){if(removeFeedEvent(),null==focuson||0==focuson.length)focuson=feed.children("li:visible:first"),feed.get(0).scrollTop=0;else{focuson.removeClass("auto-focus"),focuson=focuson.nextAll("li:visible:first");var o=parseInt(focuson.prevAll("li:visible").length,10),a=parseInt(focuson.nextAll("li:visible").length,10);(o>Math.round(options.height/2)||Math.round(options.height/2)>=a)&&focuson.get(0)!==void 0&&(feed.get(0).scrollTop=parseInt(focuson.get(0).scrollHeight,10)*(o-Math.round(options.height/2)))}feed.children("li").removeClass("auto-focus"),focuson.addClass("auto-focus")}if(38==t.keyCode){if(removeFeedEvent(),null==focuson||0==focuson.length)focuson=feed.children("li:visible:last"),feed.get(0).scrollTop=parseInt(focuson.get(0).scrollHeight,10)*(parseInt(feed.children("li:visible").length,10)-Math.round(options.height/2));else{focuson.removeClass("auto-focus"),focuson=focuson.prevAll("li:visible:first");var o=parseInt(focuson.prevAll("li:visible").length,10),a=parseInt(focuson.nextAll("li:visible").length,10);(a>Math.round(options.height/2)||Math.round(options.height/2)>=o)&&focuson.get(0)!==void 0&&(feed.get(0).scrollTop=parseInt(focuson.get(0).scrollHeight,10)*(o-Math.round(options.height/2)))}feed.children("li").removeClass("auto-focus"),focuson.addClass("auto-focus")}})}function addTextItem(e){options.newel&&(feed.children("li[fckb=1]").remove(),0!=e.length&&($("<li/>").attr({rel:e,fckb:"1"}).text(e).prependTo(feed),counter++))}function funCall(func,item){var _object="";for(i=0;item.get(0).attributes.length>i;i++)null!=item.get(0).attributes[i].nodeValue&&(_object+='"_'+item.get(0).attributes[i].nodeName+'": "'+item.get(0).attributes[i].nodeValue+'",');_object="{"+_object+" notinuse: 0}";try{eval(func+"("+_object+")")}catch(ex){}}function checkFocusOn(){return null==focuson?!1:0==focuson.length?!1:!0}function xssPrevent(e){return jQuery.trim(e)}$(this).bind("addItem",function(e,t){addItem(t.title,t.value)});var options=$.extend({json_url:null,cache:!1,height:"10",newel:!1,firstselected:!1,filter_case:!1,comma_is_enter:!1,filter_hide:!1,complete_text:"Start to type...",maxshownitems:30,onselect:"",onremove:"",maxlength:""},opt),holder=null,feed=null,complete=null,counter=0,cache=[],json_cache=!1,search_delim=",",search_string=search_delim,focuson=null,deleting=0,browser_msie=false,browser_msie_frame,originalSelected=[],element=$(this),elemid=element.attr("id");return this.addFinalItem=function(){var e=$("#"+elemid+"_annoninput").children(".maininput"),t=$.trim(e.val());t&&addItem(t,t)},this.reset=reset,this.updateSelected=updateSelected,init(),this})}}),function(e){var t=0;e.getScrollbarWidth=function(){if(!t)if(e.browser.msie){var n=e('<textarea cols="10" rows="2"></textarea>').css({position:"absolute",top:-1e3,left:-1e3}).appendTo("body"),i=e('<textarea cols="10" rows="2" style="overflow: hidden;"></textarea>').css({position:"absolute",top:-1e3,left:-1e3}).appendTo("body");t=n.width()-i.width(),n.add(i).remove()}else{var r=e("<div />").css({width:100,height:100,overflow:"auto",position:"absolute",top:-1e3,left:-1e3}).prependTo("body").append("<div />").find("div").css({width:"100%",height:200});t=100-r.width(),r.parent().remove()}return t}}(jQuery),function(e){"$:nomunge";var t,n,i,r,o=1,a=this,s=!1,l="postMessage",c="addEventListener",u=a[l]&&!e.browser.opera;e[l]=function(t,n,i){n&&(t="string"==typeof t?t:e.param(t),i=i||parent,u?i[l](t,n.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):n&&(i.location=n.replace(/#.*$/,"")+"#"+ +new Date+o++ +"&"+t))},e.receiveMessage=r=function(o,l,d){u?(o&&(i&&r(),i=function(t){return"string"==typeof l&&t.origin!==l||e.isFunction(l)&&l(t.origin)===s?s:(o(t),void 0)}),a[c]?a[o?c:"removeEventListener"]("message",i,s):a[o?"attachEvent":"detachEvent"]("onmessage",i)):(t&&clearInterval(t),t=null,o&&(d="number"==typeof l?l:"number"==typeof d?d:100,t=setInterval(function(){var e=document.location.hash,t=/^#?\d+&/;e!==n&&t.test(e)&&(n=e,o({data:e.replace(t,"")}))},d)))}}(jQuery),function(e){"use strict";e.ajaxPrefilter(function(e){return e.iframe?"iframe":undefined}),e.ajaxSetup({converters:{"iframe text":function(t){return e(t[0].body).text()},"iframe json":function(t){return e.parseJSON(e(t[0].body).text())},"iframe html":function(t){return e(t[0].body).html()}}}),e.ajaxTransport("iframe",function(t,n){function i(){s.length&&l.replaceWith(function(e){return s.get(e)}),r.remove(),o.attr("src","javascript:false;").remove()}var r=null,o=null,a="iframe-"+e.now(),s=e(t.files).filter(":file:enabled"),l=null;return t.dataTypes.shift(),r=e("<form enctype='multipart/form-data' method='"+t.type+"'></form>").hide().attr({action:t.url,target:a}),"string"==typeof n.data&&n.data.length>0&&e.error("data must not be serialized"),e.each(n.data||{},function(t,n){var t,n;if(n&&n.nodeType){if(e(n).is('input[type="checkbox"],input[type="radio"]')&&!e(n).attr("checked"))return;t=e(n).attr("name"),n=e(n).val()}e.isPlainObject(n)&&(t=n.name,n=n.value),e("<input type='hidden' />").attr({name:t,value:n}).appendTo(r)}),e("<input type='hidden' value='IFrame' name='X-Requested-With' />").appendTo(r),s.length&&(l=s.after(function(){return e(this).clone().prop("disabled",!0)}).next(),s.appendTo(r)),{send:function(t,n){o=e("<iframe src='javascript:false;' name='"+a+"' id='"+a+"' style='display:none'></iframe>"),o.bind("load",function(){o.unbind("load").bind("load",function(){var e=this.contentWindow?this.contentWindow.document:this.contentDocument?this.contentDocument:this.document,t=e.documentElement?e.documentElement:e.body,r=t.getElementsByTagName("textarea")[0],o=r&&r.getAttribute("data-type")||null,a=r&&r.getAttribute("data-status")||200,s=r&&r.getAttribute("data-statusText")||"OK",l={html:t.innerHTML,text:o?r.value:t?t.textContent||t.innerText:null};i(),n(a,s,l,o?"Content-Type: "+o:null)}),r[0].submit()}),e("body").append(r,o)},abort:function(){null!==o&&(o.unbind("load").attr("src","javascript:false;"),i())}}})}(jQuery),function(e){e.fn.autogrow=function(){return this.filter("textarea").each(function(){var t=e(this),n=t.height();t.css("lineHeight");var i=e("<div></div>").css({position:"absolute",top:-1e4,left:-1e4,width:e(this).width(),fontSize:t.css("fontSize"),fontFamily:t.css("fontFamily"),lineHeight:t.css("lineHeight"),resize:"none"}).appendTo(document.body),r=_.throttle(function(){var t=this.value.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&/g,"&amp;").replace(/\n/g,"<br/>");i.html(t),e(this).css("height",Math.max(i.height()+20,n))},200);e(this).focus(r).change(r).keyup(r).keydown(r),r.apply(this)}),this}}(jQuery);var guiders=function(e){var t={};t.version="1.2.6",t._defaultSettings={attachTo:null,autoFocus:!1,buttons:[{name:"Close"}],buttonCustomHTML:"",classString:null,description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",highlight:null,isHashable:!0,offset:{top:null,left:null},onShow:null,onHide:null,overlay:!1,position:0,title:"Sample title goes here",width:400,xButton:!1},t._htmlSkeleton=["<div class='guider'>","  <div class='guider_content'>","    <h1 class='guider_title'></h1>","    <div class='guider_close'></div>","    <p class='guider_description'></p>","    <div class='guider_buttons'>","    </div>","  </div>","  <div class='guider_arrow'>","  </div>","</div>"].join(""),t._arrowSize=42,t._buttonElement="<a></a>",t._buttonAttributes={href:"javascript:void(0);"},t._closeButtonTitle="Close",t._currentGuiderID=null,t._guiders={},t._lastCreatedGuiderID=null,t._nextButtonTitle="Next",t._offsetNameMapping={topLeft:11,top:12,topRight:1,rightTop:2,right:3,rightBottom:4,bottomRight:5,bottom:6,bottomLeft:7,leftBottom:8,left:9,leftTop:10},t._windowHeight=0,t._addButtons=function(n){var i=n.elem.find(".guider_buttons");if(null===n.buttons||0===n.buttons.length)return i.remove(),void 0;for(var r=n.buttons.length-1;r>=0;r--){var o=n.buttons[r],a=e(t._buttonElement,e.extend({"class":"guider_button",html:o.name},t._buttonAttributes,o.html||{}));o.classString!==void 0&&null!==o.classString&&a.addClass(o.classString),i.append(a),o.onclick?a.bind("click",o.onclick):o.onclick||o.name.toLowerCase()!==t._closeButtonTitle.toLowerCase()?o.onclick||o.name.toLowerCase()!==t._nextButtonTitle.toLowerCase()||a.bind("click",function(){!n.elem.data("locked")&&t.next()}):a.bind("click",function(){t.hideAll()})}if(""!==n.buttonCustomHTML){var s=e(n.buttonCustomHTML);n.elem.find(".guider_buttons").append(s)}0===n.buttons.length&&i.remove()},t._addXButton=function(n){var i=n.elem.find(".guider_close"),r=e("<div></div>",{"class":"x_button",role:"button"});i.append(r),r.click(function(){t.hideAll()})},t._attach=function(n){if("object"==typeof n){var i=e(n.attachTo),r=n.elem.innerHeight(),o=n.elem.innerWidth();if(0===n.position||0===i.length)return n.elem.css("position","fixed"),n.elem.css("top",(e(window).height()-r)/3+"px"),n.elem.css("left",(e(window).width()-o)/2+"px"),void 0;var a=i.offset(),s=a.top,l=a.left,c=e("body").outerHeight(!0)-e("body").outerHeight(!1);s-=c,t._offsetNameMapping[n.position]&&(n.position=t._offsetNameMapping[n.position]);var u=i.innerHeight(),d=i.innerWidth(),h=.9*t._arrowSize,f={1:[-h-r,d-o],2:[0,h+d],3:[u/2-r/2,h+d],4:[u-r,h+d],5:[h+u,d-o],6:[h+u,d/2-o/2],7:[h+u,0],8:[u-r,-o-h],9:[u/2-r/2,-o-h],10:[0,-o-h],11:[-h-r,0],12:[-h-r,d/2-o/2]},p=f[n.position];s+=p[0],l+=p[1];var m="absolute";return"fixed"==i.css("position")&&(m="fixed",s-=e(window).scrollTop(),l-=e(window).scrollLeft()),null!==n.offset.top&&(s+=n.offset.top),null!==n.offset.left&&(l+=n.offset.left),n.elem.css({position:m,top:s,left:l})}},t._guiderById=function(e){if(t._guiders[e]===void 0)throw"Cannot find guider with id "+e;return t._guiders[e]},t._showOverlay=function(){e("#guider_overlay").fadeIn("fast",function(){this.style.removeAttribute&&this.style.removeAttribute("filter")})},t._highlightElement=function(t){e(t).addClass("guider_highlight")},t._dehighlightElement=function(t){e(t).removeClass("guider_highlight")},t._hideOverlay=function(){e("#guider_overlay").fadeOut("fast")},t._initializeOverlay=function(){0===e("#guider_overlay").length&&e('<div id="guider_overlay"></div>').hide().appendTo("body")},t._styleArrow=function(n){var i=n.position||0;if(i){var r=e(n.elem.find(".guider_arrow")),o={1:"guider_arrow_down",2:"guider_arrow_left",3:"guider_arrow_left",4:"guider_arrow_left",5:"guider_arrow_up",6:"guider_arrow_up",7:"guider_arrow_up",8:"guider_arrow_right",9:"guider_arrow_right",10:"guider_arrow_right",11:"guider_arrow_down",12:"guider_arrow_down"};r.addClass(o[i]);var a=n.elem.innerHeight(),s=n.elem.innerWidth(),l=t._arrowSize/2,c={1:["right",l],2:["top",l],3:["top",a/2-l],4:["bottom",l],5:["right",l],6:["left",s/2-l],7:["left",l],8:["bottom",l],9:["top",a/2-l],10:["top",l],11:["left",l],12:["left",s/2-l]},i=c[n.position];r.css(i[0],i[1]+"px")}},t._showIfHashed=function(e){var n="guider=",i=window.location.hash.indexOf(n);if(-1!==i){var r=window.location.hash.substr(i+n.length);e.id.toLowerCase()===r.toLowerCase()&&t.show(e.id)}},t.reposition=function(){var e=t._guiders[t._currentGuiderID];t._attach(e)},t.next=function(){var e=t._guiders[t._currentGuiderID];if(void 0!==e){e.elem.data("locked",!0);var n=e.next||null;if(null!==n&&""!==n){var i=t._guiderById(n),r=i.overlay?!0:!1;t.hideAll(r,!0),e&&e.highlight&&t._dehighlightElement(e.highlight),t.show(n)}}},t.createGuider=function(n){(null===n||void 0===n)&&(n={}),myGuider=e.extend({},t._defaultSettings,n),myGuider.id=myGuider.id||Math.floor(1e3*Math.random())+"";var i=e(t._htmlSkeleton);myGuider.elem=i,myGuider.classString!==void 0&&null!==myGuider.classString&&myGuider.elem.addClass(myGuider.classString),myGuider.elem.css("width",myGuider.width+"px");var r=i.find(".guider_title");return r.html(myGuider.title),i.find(".guider_description").html(myGuider.description),t._addButtons(myGuider),myGuider.xButton&&t._addXButton(myGuider),i.hide(),i.appendTo("body"),i.attr("id",myGuider.id),myGuider.attachTo!==void 0&&null!==myGuider&&t._attach(myGuider)&&t._styleArrow(myGuider),t._initializeOverlay(),t._guiders[myGuider.id]=myGuider,t._lastCreatedGuiderID=myGuider.id,myGuider.isHashable&&t._showIfHashed(myGuider),t},t.hideAll=function(n,i){i=i||!1,e(".guider:visible").each(function(n,r){var o=t._guiderById(e(r).attr("id"));o.onHide&&o.onHide(o,i)}),e(".guider").fadeOut("fast");var r=t._guiders[t._currentGuiderID];return r&&r.highlight&&t._dehighlightElement(r.highlight),n!==void 0&&n===!0||t._hideOverlay(),t},t.show=function(n){!n&&t._lastCreatedGuiderID&&(n=t._lastCreatedGuiderID);var i=t._guiderById(n);i.overlay&&(t._showOverlay(),i.highlight&&t._highlightElement(i.highlight)),i.onShow&&i.onShow(i),t._attach(i),i.elem.fadeIn("fast").data("locked",!1),t._currentGuiderID=n;var r=t._windowHeight=e(window).height(),o=e(window).scrollTop(),a=i.elem.offset(),s=i.elem.height(),l=a.top+s>o+r,c=o>a.top;return i.autoFocus&&(l||c)&&setTimeout(t.scrollToCurrent,10),e(i.elem).trigger("guiders.show"),t},t.scrollToCurrent=function(){var n=t._guiders[t._currentGuiderID];if(void 0!==n){var i=t._windowHeight;e(window).scrollTop();var r=n.elem.offset(),o=n.elem.height(),a=Math.round(Math.max(r.top+o/2-i/2,0));window.scrollTo(0,a)}};var n=void 0;return e(window).resize(function(){n!==void 0&&clearTimeout(n),n=setTimeout(function(){n=void 0,t.reposition()},20)}),t}.call(this,jQuery);(function(e,t){"use strict";var n=e.History=e.History||{},i=e.jQuery;if(n.Adapter!==t)throw Error("History.js Adapter has already been loaded...");n.Adapter={bind:function(e,t,n){i(e).bind(t,n)},trigger:function(e,t,n){i(e).trigger(t,n)},extractEventData:function(e,n,i){var r=n&&n.originalEvent&&n.originalEvent[e]||i&&i[e]||t;return r},onDomLoad:function(e){i(e)}},n.init!==t&&n.init()})(window),function(e){"use strict";var t=e.document,n=e.setTimeout||n,i=e.clearTimeout||i,r=e.setInterval||r,o=e.History=e.History||{};if(o.initHtml4!==undefined)throw Error("History.js HTML4 Support has already been loaded...");o.initHtml4=function(){return o.initHtml4.initialized!==undefined?!1:(o.initHtml4.initialized=!0,o.enabled=!0,o.savedHashes=[],o.isLastHash=function(e){var t,n=o.getHashByIndex();return t=e===n},o.saveHash=function(e){return o.isLastHash(e)?!1:(o.savedHashes.push(e),!0)},o.getHashByIndex=function(e){var t=null;return t=e===undefined?o.savedHashes[o.savedHashes.length-1]:0>e?o.savedHashes[o.savedHashes.length+e]:o.savedHashes[e]},o.discardedHashes={},o.discardedStates={},o.discardState=function(e,t,n){var i,r=o.getHashByState(e);return i={discardedState:e,backState:n,forwardState:t},o.discardedStates[r]=i,!0},o.discardHash=function(e,t,n){var i={discardedHash:e,backState:n,forwardState:t};return o.discardedHashes[e]=i,!0},o.discardedState=function(e){var t,n=o.getHashByState(e);return t=o.discardedStates[n]||!1},o.discardedHash=function(e){var t=o.discardedHashes[e]||!1;return t},o.recycleState=function(e){var t=o.getHashByState(e);return o.discardedState(e)&&delete o.discardedStates[t],!0},o.emulated.hashChange&&(o.hashChangeInit=function(){o.checkerFunction=null;var n,i,a,s,l="";return o.isInternetExplorer()?(n="historyjs-iframe",i=t.createElement("iframe"),i.setAttribute("id",n),i.style.display="none",t.body.appendChild(i),i.contentWindow.document.open(),i.contentWindow.document.close(),a="",s=!1,o.checkerFunction=function(){if(s)return!1;s=!0;var t=o.getHash()||"",n=o.unescapeHash(i.contentWindow.document.location.hash)||"";return t!==l?(l=t,n!==t&&(a=n=t,i.contentWindow.document.open(),i.contentWindow.document.close(),i.contentWindow.document.location.hash=o.escapeHash(t)),o.Adapter.trigger(e,"hashchange")):n!==a&&(a=n,o.setHash(n,!1)),s=!1,!0}):o.checkerFunction=function(){var t=o.getHash();return t!==l&&(l=t,o.Adapter.trigger(e,"hashchange")),!0},o.intervalList.push(r(o.checkerFunction,o.options.hashChangeInterval)),!0},o.Adapter.onDomLoad(o.hashChangeInit)),o.emulated.pushState&&(o.onHashChange=function(n){var i,r=n&&n.newURL||t.location.href,a=o.getHashByUrl(r),s=null,l=null;return o.isLastHash(a)?(o.busy(!1),!1):(o.doubleCheckComplete(),o.saveHash(a),a&&o.isTraditionalAnchor(a)?(o.Adapter.trigger(e,"anchorchange"),o.busy(!1),!1):(s=o.extractState(o.getFullUrl(a||t.location.href,!1),!0),o.isLastSavedState(s)?(o.busy(!1),!1):(l=o.getHashByState(s),(i=o.discardedState(s))?(o.getHashByIndex(-2)===o.getHashByState(i.forwardState)?o.back(!1):o.forward(!1),!1):(o.pushState(s.data,s.title,s.url,!1),!0))))},o.Adapter.bind(e,"hashchange",o.onHashChange),o.pushState=function(n,i,r,a){if(o.getHashByUrl(r))throw Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(a!==!1&&o.busy())return o.pushQueue({scope:o,callback:o.pushState,args:arguments,queue:a}),!1;o.busy(!0);var s=o.createStateObject(n,i,r),l=o.getHashByState(s),c=o.getState(!1),u=o.getHashByState(c),d=o.getHash();return o.storeState(s),o.expectedStateId=s.id,o.recycleState(s),o.setTitle(s),l===u?(o.busy(!1),!1):l!==d&&l!==o.getShortUrl(t.location.href)?(o.setHash(l,!1),!1):(o.saveState(s),o.Adapter.trigger(e,"statechange"),o.busy(!1),!0)},o.replaceState=function(e,t,n,i){if(o.getHashByUrl(n))throw Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(i!==!1&&o.busy())return o.pushQueue({scope:o,callback:o.replaceState,args:arguments,queue:i}),!1;o.busy(!0);var r=o.createStateObject(e,t,n),a=o.getState(!1),s=o.getStateByIndex(-2);return o.discardState(a,r,s),o.pushState(r.data,r.title,r.url,!1),!0}),o.emulated.pushState&&o.getHash()&&!o.emulated.hashChange&&o.Adapter.onDomLoad(function(){o.Adapter.trigger(e,"hashchange")}),undefined)},o.init!==undefined&&o.init()}(window),function(e,t){"use strict";var n=e.console||t,i=e.document,r=e.navigator,o=e.sessionStorage||!1,a=e.setTimeout,s=e.clearTimeout,l=e.setInterval,c=e.clearInterval,u=e.JSON,d=e.alert,h=e.History=e.History||{},f=e.history;if(u.stringify=u.stringify||u.encode,u.parse=u.parse||u.decode,h.init!==t)throw Error("History.js Core has already been loaded...");h.init=function(){return h.Adapter===t?!1:(h.initCore!==t&&h.initCore(),h.initHtml4!==t&&h.initHtml4(),!0)},h.initCore=function(){if(h.initCore.initialized!==t)return!1;if(h.initCore.initialized=!0,h.options=h.options||{},h.options.hashChangeInterval=h.options.hashChangeInterval||100,h.options.safariPollInterval=h.options.safariPollInterval||500,h.options.doubleCheckInterval=h.options.doubleCheckInterval||500,h.options.storeInterval=h.options.storeInterval||1e3,h.options.busyDelay=h.options.busyDelay||250,h.options.debug=h.options.debug||!1,h.options.initialTitle=h.options.initialTitle||i.title,h.intervalList=[],h.clearAllIntervals=function(){var e,n=h.intervalList;if(n!==t&&null!==n){for(e=0;n.length>e;e++)c(n[e]);h.intervalList=null}},h.debug=function(){h.options.debug&&h.log.apply(h,arguments)},h.log=function(){var e,r,o,a,s,l=!(n===t||n.log===t||n.log.apply===t),c=i.getElementById("log");for(l?(a=Array.prototype.slice.call(arguments),e=a.shift(),n.debug!==t?n.debug.apply(n,[e,a]):n.log.apply(n,[e,a])):e="\n"+arguments[0]+"\n",r=1,o=arguments.length;o>r;++r){if(s=arguments[r],"object"==typeof s&&u!==t)try{s=u.stringify(s)}catch(h){}e+="\n"+s+"\n"}return c?(c.value+=e+"\n-----\n",c.scrollTop=c.scrollHeight-c.clientHeight):l||d(e),!0},h.getInternetExplorerMajorVersion=function(){var e=h.getInternetExplorerMajorVersion.cached=h.getInternetExplorerMajorVersion.cached!==t?h.getInternetExplorerMajorVersion.cached:function(){for(var e=3,t=i.createElement("div"),n=t.getElementsByTagName("i");(t.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->")&&n[0];);return e>4?e:!1}();return e},h.isInternetExplorer=function(){var e=h.isInternetExplorer.cached=h.isInternetExplorer.cached!==t?h.isInternetExplorer.cached:Boolean(h.getInternetExplorerMajorVersion());return e},h.emulated={pushState:!Boolean(e.history&&e.history.pushState&&e.history.replaceState&&!(/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(r.userAgent)||/AppleWebKit\/5([0-2]|3[0-2])/i.test(r.userAgent))),hashChange:Boolean(!("onhashchange"in e||"onhashchange"in i)||h.isInternetExplorer()&&8>h.getInternetExplorerMajorVersion())},h.enabled=!h.emulated.pushState,h.bugs={setHash:Boolean(!h.emulated.pushState&&"Apple Computer, Inc."===r.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(r.userAgent)),safariPoll:Boolean(!h.emulated.pushState&&"Apple Computer, Inc."===r.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(r.userAgent)),ieDoubleCheck:Boolean(h.isInternetExplorer()&&8>h.getInternetExplorerMajorVersion()),hashEscape:Boolean(h.isInternetExplorer()&&7>h.getInternetExplorerMajorVersion())},h.isEmptyObject=function(e){for(var t in e)return!1;return!0},h.cloneObject=function(e){var t,n;return e?(t=u.stringify(e),n=u.parse(t)):n={},n},h.getRootUrl=function(){var e=i.location.protocol+"//"+(i.location.hostname||i.location.host);return i.location.port&&(e+=":"+i.location.port),e+="/"},h.getBaseHref=function(){var e=i.getElementsByTagName("base"),t=null,n="";return 1===e.length&&(t=e[0],n=t.href.replace(/[^\/]+$/,"")),n=n.replace(/\/+$/,""),n&&(n+="/"),n},h.getBaseUrl=function(){var e=h.getBaseHref()||h.getBasePageUrl()||h.getRootUrl();return e},h.getPageUrl=function(){var e,t=h.getState(!1,!1),n=(t||{}).url||i.location.href;return e=n.replace(/\/+$/,"").replace(/[^\/]+$/,function(e){return/\./.test(e)?e:e+"/"})},h.getBasePageUrl=function(){var e=i.location.href.replace(/[#\?].*/,"").replace(/[^\/]+$/,function(e){return/[^\/]$/.test(e)?"":e}).replace(/\/+$/,"")+"/";return e},h.getFullUrl=function(e,n){var i=e,r=e.substring(0,1);return n=n===t?!0:n,/[a-z]+\:\/\//.test(e)||(i="/"===r?h.getRootUrl()+e.replace(/^\/+/,""):"#"===r?h.getPageUrl().replace(/#.*/,"")+e:"?"===r?h.getPageUrl().replace(/[\?#].*/,"")+e:n?h.getBaseUrl()+e.replace(/^(\.\/)+/,""):h.getBasePageUrl()+e.replace(/^(\.\/)+/,"")),i.replace(/\#$/,"")},h.getShortUrl=function(e){var t=e,n=h.getBaseUrl(),i=h.getRootUrl();return h.emulated.pushState&&(t=t.replace(n,"")),t=t.replace(i,"/"),h.isTraditionalAnchor(t)&&(t="./"+t),t=t.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},h.store={},h.idToState=h.idToState||{},h.stateToId=h.stateToId||{},h.urlToId=h.urlToId||{},h.storedStates=h.storedStates||[],h.savedStates=h.savedStates||[],h.normalizeStore=function(){h.store.idToState=h.store.idToState||{},h.store.urlToId=h.store.urlToId||{},h.store.stateToId=h.store.stateToId||{}},h.getState=function(e,n){e===t&&(e=!0),n===t&&(n=!0);var i=h.getLastSavedState();return!i&&n&&(i=h.createStateObject()),e&&(i=h.cloneObject(i),i.url=i.cleanUrl||i.url),i},h.getIdByState=function(e){var n,i=h.extractId(e.url);if(!i)if(n=h.getStateString(e),h.stateToId[n]!==t)i=h.stateToId[n];else if(h.store.stateToId[n]!==t)i=h.store.stateToId[n];else{for(;;)if(i=(new Date).getTime()+(Math.random()+"").replace(/\D/g,""),h.idToState[i]===t&&h.store.idToState[i]===t)break;h.stateToId[n]=i,h.idToState[i]=e}return i},h.normalizeState=function(e){var n,r;return e&&"object"==typeof e||(e={}),e.normalized!==t?e:(e.data&&"object"==typeof e.data||(e.data={}),n={},n.normalized=!0,n.title=e.title||"",n.url=h.getFullUrl(e.url||i.location.href),n.hash=h.getShortUrl(n.url),n.data=h.cloneObject(e.data),n.id=h.getIdByState(n),n.cleanUrl=n.url.replace(/\??\&_suid.*/,""),n.url=n.cleanUrl,r=!h.isEmptyObject(n.data),(n.title||r)&&(n.hash=h.getShortUrl(n.url).replace(/\??\&_suid.*/,""),/\?/.test(n.hash)||(n.hash+="?"),n.hash+="&_suid="+n.id),n.hashedUrl=h.getFullUrl(n.hash),(h.emulated.pushState||h.bugs.safariPoll)&&h.hasUrlDuplicate(n)&&(n.url=n.hashedUrl),n)
},h.createStateObject=function(e,t,n){var i={data:e,title:t,url:n};return i=h.normalizeState(i)},h.getStateById=function(e){e+="";var n=h.idToState[e]||h.store.idToState[e]||t;return n},h.getStateString=function(e){var t,n,i;return t=h.normalizeState(e),n={data:t.data,title:e.title,url:e.url},i=u.stringify(n)},h.getStateId=function(e){var t,n;return t=h.normalizeState(e),n=t.id},h.getHashByState=function(e){var t,n;return t=h.normalizeState(e),n=t.hash},h.extractId=function(e){var t,n,i;return n=/(.*)\&_suid=([0-9]+)$/.exec(e),i=n?n[1]||e:e,t=n?(n[2]||"")+"":"",t||!1},h.isTraditionalAnchor=function(e){var t=!/[\/\?\.]/.test(e);return t},h.extractState=function(e,t){var n,i,r=null;return t=t||!1,n=h.extractId(e),n&&(r=h.getStateById(n)),r||(i=h.getFullUrl(e),n=h.getIdByUrl(i)||!1,n&&(r=h.getStateById(n)),r||!t||h.isTraditionalAnchor(e)||(r=h.createStateObject(null,null,i))),r},h.getIdByUrl=function(e){var n=h.urlToId[e]||h.store.urlToId[e]||t;return n},h.getLastSavedState=function(){return h.savedStates[h.savedStates.length-1]||t},h.getLastStoredState=function(){return h.storedStates[h.storedStates.length-1]||t},h.hasUrlDuplicate=function(e){var t,n=!1;return t=h.extractState(e.url),n=t&&t.id!==e.id},h.storeState=function(e){return h.urlToId[e.url]=e.id,h.storedStates.push(h.cloneObject(e)),e},h.isLastSavedState=function(e){var t,n,i,r=!1;return h.savedStates.length&&(t=e.id,n=h.getLastSavedState(),i=n.id,r=t===i),r},h.saveState=function(e){return h.isLastSavedState(e)?!1:(h.savedStates.push(h.cloneObject(e)),!0)},h.getStateByIndex=function(e){var n=null;return n=e===t?h.savedStates[h.savedStates.length-1]:0>e?h.savedStates[h.savedStates.length+e]:h.savedStates[e]},h.getHash=function(){var e=h.unescapeHash(i.location.hash);return e},h.unescapeString=function(t){return e.unescape(t)},h.unescapeHash=function(e){var t=h.normalizeHash(e);return t=h.unescapeString(t)},h.normalizeHash=function(e){var t=e.replace(/[^#]*#/,"").replace(/#.*/,"");return t},h.setHash=function(e,t){var n,r,o;return t!==!1&&h.busy()?(h.pushQueue({scope:h,callback:h.setHash,args:arguments,queue:t}),!1):(n=h.escapeHash(e),h.busy(!0),r=h.extractState(e,!0),r&&!h.emulated.pushState?h.pushState(r.data,r.title,r.url,!1):i.location.hash!==n&&(h.bugs.setHash?(o=h.getPageUrl(),h.pushState(null,null,o+"#"+n,!1)):i.location.hash=n),h)},h.escapeHash=function(t){var n=h.normalizeHash(t);return n=e.escape(n),h.bugs.hashEscape||(n=n.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),n},h.getHashByUrl=function(e){var t=(e+"").replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return t=h.unescapeHash(t)},h.setTitle=function(e){var t,n=e.title;n||(t=h.getStateByIndex(0),t&&t.url===e.url&&(n=t.title||h.options.initialTitle));try{i.getElementsByTagName("title")[0].innerHTML=n.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(r){}return i.title=n,h},h.queues=[],h.busy=function(e){if(e!==t?h.busy.flag=e:h.busy.flag===t&&(h.busy.flag=!1),!h.busy.flag){s(h.busy.timeout);var n=function(){var e,t,i;if(!h.busy.flag)for(e=h.queues.length-1;e>=0;--e)t=h.queues[e],0!==t.length&&(i=t.shift(),h.fireQueueItem(i),h.busy.timeout=a(n,h.options.busyDelay))};h.busy.timeout=a(n,h.options.busyDelay)}return h.busy.flag},h.busy.flag=!1,h.fireQueueItem=function(e){return e.callback.apply(e.scope||h,e.args||[])},h.pushQueue=function(e){return h.queues[e.queue||0]=h.queues[e.queue||0]||[],h.queues[e.queue||0].push(e),h},h.queue=function(e,n){return"function"==typeof e&&(e={callback:e}),n!==t&&(e.queue=n),h.busy()?h.pushQueue(e):h.fireQueueItem(e),h},h.clearQueue=function(){return h.busy.flag=!1,h.queues=[],h},h.stateChanged=!1,h.doubleChecker=!1,h.doubleCheckComplete=function(){return h.stateChanged=!0,h.doubleCheckClear(),h},h.doubleCheckClear=function(){return h.doubleChecker&&(s(h.doubleChecker),h.doubleChecker=!1),h},h.doubleCheck=function(e){return h.stateChanged=!1,h.doubleCheckClear(),h.bugs.ieDoubleCheck&&(h.doubleChecker=a(function(){return h.doubleCheckClear(),h.stateChanged||e(),!0},h.options.doubleCheckInterval)),h},h.safariStatePoll=function(){var t,n=h.extractState(i.location.href);if(!h.isLastSavedState(n))return t=n,t||(t=h.createStateObject()),h.Adapter.trigger(e,"popstate"),h},h.back=function(e){return e!==!1&&h.busy()?(h.pushQueue({scope:h,callback:h.back,args:arguments,queue:e}),!1):(h.busy(!0),h.doubleCheck(function(){h.back(!1)}),f.go(-1),!0)},h.forward=function(e){return e!==!1&&h.busy()?(h.pushQueue({scope:h,callback:h.forward,args:arguments,queue:e}),!1):(h.busy(!0),h.doubleCheck(function(){h.forward(!1)}),f.go(1),!0)},h.go=function(e,t){var n;if(e>0)for(n=1;e>=n;++n)h.forward(t);else{if(!(0>e))throw Error("History.go: History.go requires a positive or negative integer passed.");for(n=-1;n>=e;--n)h.back(t)}return h},h.emulated.pushState){var p=function(){};h.pushState=h.pushState||p,h.replaceState=h.replaceState||p}else h.onPopState=function(t,n){var r,o,a=!1,s=!1;return h.doubleCheckComplete(),(r=h.getHash())?(o=h.extractState(r||i.location.href,!0),o?h.replaceState(o.data,o.title,o.url,!1):(h.Adapter.trigger(e,"anchorchange"),h.busy(!1)),h.expectedStateId=!1,!1):(a=h.Adapter.extractEventData("state",t,n)||!1,s=a?h.getStateById(a):h.expectedStateId?h.getStateById(h.expectedStateId):h.extractState(i.location.href),s||(s=h.createStateObject(null,null,i.location.href)),h.expectedStateId=!1,h.isLastSavedState(s)?(h.busy(!1),!1):(h.storeState(s),h.saveState(s),h.setTitle(s),h.Adapter.trigger(e,"statechange"),h.busy(!1),!0))},h.Adapter.bind(e,"popstate",h.onPopState),h.pushState=function(t,n,i,r){if(h.getHashByUrl(i)&&h.emulated.pushState)throw Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(r!==!1&&h.busy())return h.pushQueue({scope:h,callback:h.pushState,args:arguments,queue:r}),!1;h.busy(!0);var o=h.createStateObject(t,n,i);return h.isLastSavedState(o)?h.busy(!1):(h.storeState(o),h.expectedStateId=o.id,f.pushState(o.id,o.title,o.url),h.Adapter.trigger(e,"popstate")),!0},h.replaceState=function(t,n,i,r){if(h.getHashByUrl(i)&&h.emulated.pushState)throw Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(r!==!1&&h.busy())return h.pushQueue({scope:h,callback:h.replaceState,args:arguments,queue:r}),!1;h.busy(!0);var o=h.createStateObject(t,n,i);return h.isLastSavedState(o)?h.busy(!1):(h.storeState(o),h.expectedStateId=o.id,f.replaceState(o.id,o.title,o.url),h.Adapter.trigger(e,"popstate")),!0};if(o){try{h.store=u.parse(o.getItem("History.store"))||{}}catch(m){h.store={}}h.normalizeStore()}else h.store={},h.normalizeStore();h.Adapter.bind(e,"beforeunload",h.clearAllIntervals),h.Adapter.bind(e,"unload",h.clearAllIntervals),h.saveState(h.storeState(h.extractState(i.location.href,!0))),o&&(h.onUnload=function(){var e,t;try{e=u.parse(o.getItem("History.store"))||{}}catch(n){e={}}e.idToState=e.idToState||{},e.urlToId=e.urlToId||{},e.stateToId=e.stateToId||{};for(t in h.idToState)h.idToState.hasOwnProperty(t)&&(e.idToState[t]=h.idToState[t]);for(t in h.urlToId)h.urlToId.hasOwnProperty(t)&&(e.urlToId[t]=h.urlToId[t]);for(t in h.stateToId)h.stateToId.hasOwnProperty(t)&&(e.stateToId[t]=h.stateToId[t]);h.store=e,h.normalizeStore(),o.setItem("History.store",u.stringify(e))},h.intervalList.push(l(h.onUnload,h.options.storeInterval)),h.Adapter.bind(e,"beforeunload",h.onUnload),h.Adapter.bind(e,"unload",h.onUnload)),h.emulated.pushState||(h.bugs.safariPoll&&h.intervalList.push(l(h.safariStatePoll,h.options.safariPollInterval)),("Apple Computer, Inc."===r.vendor||"Mozilla"===(r.appCodeName||""))&&(h.Adapter.bind(e,"hashchange",function(){h.Adapter.trigger(e,"popstate")}),h.getHash()&&h.Adapter.onDomLoad(function(){h.Adapter.trigger(e,"hashchange")})))},h.init()}(window),function(e){e.fn.mask=function(t){var n="mask";return e("."+n).remove(),t===!1?this:("string"!=typeof t&&(t=e(t)),this.each(function(){var i=e(this),r=e.mask.getDims(i),o=t,a=[r],s=[];"string"==typeof o&&(o=i.find(o)),o.each(function(){var t=e.mask.getDims(this);e.each(a,function(){s=e.merge(s,e.mask.getMaskDimsList(this,t))}),a=s,s=[]}),e.each(a,function(){e("<div>").css(this).addClass(n).appendTo(e("body"))})}))},e.mask={},e.mask.getDims=function(t){t=e(t);var n=t.offset();return n||(n={top:0,left:0}),n.height=t.outerHeight(),n.width=t.outerWidth(),n},e.mask.intersectDims=function(e,t){var n=t.top,i=t.left,r=t.height,o=t.width,a=!1;return e.top>n&&(r-=e.top-n,n=e.top,a=!0),e.left>i&&(o-=e.left-i,i=e.left,a=!0),n+r>e.top+e.height&&(r-=n+r-(e.top+e.height),a=!0),i+o>e.left+e.width&&(o-=i+o-(e.left+e.width),a=!0),a?{top:n,left:i,height:r,width:o}:t},e.mask.dimsOverlap=function(e,t){return!(t.top+t.height<=e.top||e.top+e.height<=t.top||t.left+t.width<=e.left||e.left+e.width<=t.left)},e.mask.getMaskDimsList=function(t,n){if(!e.mask.dimsOverlap(t,n))return[t];n=e.mask.intersectDims(t,n);var i=[{top:t.top,left:t.left,height:n.top-t.top,width:n.left+n.width-t.left},{top:t.top,left:n.left+n.width,height:n.top+n.height-t.top,width:t.left+t.width-(n.left+n.width)},{top:n.top+n.height,left:n.left,height:t.top+t.height-(n.top+n.height),width:t.left+t.width-n.left},{top:n.top,left:t.left,height:t.top+t.height-n.top,width:n.left-t.left}];return e.grep(i,function(e){return e.height>0&&e.width>0})}}(jQuery),function(e,t,n){function i(e){var t={},i=/^jQuery\d+$/;return n.each(e.attributes,function(e,n){n.specified&&!i.test(n.name)&&(t[n.name]=n.value)}),t}function r(e,i){var r=this,o=n(r);if(r.value==o.attr("placeholder")&&o.hasClass("placeholder"))if(o.data("placeholder-password")){if(o=o.hide().next().show().attr("id",o.removeAttr("id").data("placeholder-id")),e===!0)return o[0].value=i;o.focus()}else r.value="",o.removeClass("placeholder"),r==t.activeElement&&r.select()}function o(){var e,t=this,o=n(t),a=this.id;if(""==t.value){if("password"==t.type){if(!o.data("placeholder-textinput")){try{e=o.clone().attr({type:"text"})}catch(s){e=n("<input>").attr(n.extend(i(this),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":!0,"placeholder-id":a}).bind("focus.placeholder",r),o.data({"placeholder-textinput":e,"placeholder-id":a}).before(e)}o=o.removeAttr("id").hide().prev().attr("id",a).show()}o.addClass("placeholder"),o[0].value=o.attr("placeholder")}else o.removeClass("placeholder")}var a,s,l="placeholder"in t.createElement("input"),c="placeholder"in t.createElement("textarea"),u=n.valHooks;l&&c?(s=n.fn.placeholder=function(){return this},s.input=s.textarea=!0):(s=n.fn.placeholder=function(){var e=this;return e.filter((l?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":r,"blur.placeholder":o}).data("placeholder-enabled",!0).trigger("blur.placeholder"),e},s.input=l,s.textarea=c,a={get:function(e){var t=n(e);return t.data("placeholder-enabled")&&t.hasClass("placeholder")?"":e.value},set:function(e,i){var a=n(e);return a.data("placeholder-enabled")?(""==i?(e.value=i,e!=t.activeElement&&o.call(e)):a.hasClass("placeholder")?r.call(e,!0,i)||(e.value=i):e.value=i,a):e.value=i}},l||(u.input=a),c||(u.textarea=a),n(function(){n(t).delegate("form","submit.placeholder",function(){var e=n(".placeholder",this).each(r);setTimeout(function(){e.each(o)},10)})}),n(e).bind("beforeunload.placeholder",function(){n(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery),function(e){function t(){var t=n(this);return isNaN(t.datetime)||e(this).text(i(t.datetime)),this}function n(t){if(t=e(t),!t.data("timeago")){t.data("timeago",{datetime:o.datetime(t)});var n=e.trim(t.text());!(n.length>0)||o.isTime(t)&&t.attr("title")||t.attr("title",n)}return t.data("timeago")}function i(e){return o.inWords(r(e))}function r(e){return(new Date).getTime()-e.getTime()}e.timeago=function(t){return t instanceof Date?i(t):"string"==typeof t?i(e.timeago.parse(t)):"number"==typeof t?i(new Date(t)):i(e.timeago.datetime(t))};var o=e.timeago;e.extend(e.timeago,{settings:{refreshMillis:6e4,allowFuture:!1,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(t){function n(n,r){var o=e.isFunction(n)?n(r,t):n,a=i.numbers&&i.numbers[r]||r;return o.replace(/%d/i,a)}var i=this.settings.strings,r=i.prefixAgo,o=i.suffixAgo;this.settings.allowFuture&&0>t&&(r=i.prefixFromNow,o=i.suffixFromNow);var a=Math.abs(t)/1e3,s=a/60,l=s/60,c=l/24,u=c/365,d=45>a&&n(i.seconds,Math.round(a))||90>a&&n(i.minute,1)||45>s&&n(i.minutes,Math.round(s))||90>s&&n(i.hour,1)||24>l&&n(i.hours,Math.round(l))||42>l&&n(i.day,1)||30>c&&n(i.days,Math.round(c))||45>c&&n(i.month,1)||365>c&&n(i.months,Math.round(c/30))||1.5>u&&n(i.year,1)||n(i.years,Math.round(u)),h=void 0===i.wordSeparator?" ":i.wordSeparator;return e.trim([r,d,o].join(h))},parse:function(t){var n=e.trim(t);return n=n.replace(/\.\d+/,""),n=n.replace(/-/,"/").replace(/-/,"/"),n=n.replace(/T/," ").replace(/Z/," UTC"),n=n.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(n)},datetime:function(t){var n=o.isTime(t)?e(t).attr("datetime"):e(t).attr("title");return o.parse(n)},isTime:function(t){return"time"===e(t).get(0).tagName.toLowerCase()}}),e.fn.timeago=function(){var e=this;e.each(t);var n=o.settings;return n.refreshMillis>0&&setInterval(function(){e.each(t)},n.refreshMillis),e},document.createElement("abbr"),document.createElement("time")}(jQuery);var Kicksend={mailcheck:{threshold:3,defaultDomains:["yahoo.com","google.com","hotmail.com","gmail.com","me.com","aol.com","mac.com","live.com","comcast.net","googlemail.com","msn.com","hotmail.co.uk","yahoo.co.uk","facebook.com","verizon.net","sbcglobal.net","att.net","gmx.com","mail.com"],defaultTopLevelDomains:["co.uk","com","net","org","info","edu","gov","mil"],run:function(e){e.domains=e.domains||Kicksend.mailcheck.defaultDomains,e.topLevelDomains=e.topLevelDomains||Kicksend.mailcheck.defaultTopLevelDomains,e.distanceFunction=e.distanceFunction||Kicksend.sift3Distance;var t=Kicksend.mailcheck.suggest(encodeURI(e.email),e.domains,e.topLevelDomains,e.distanceFunction);t?e.suggested&&e.suggested(t):e.empty&&e.empty()},suggest:function(e,t,n,i){e=e.toLowerCase();var r=this.splitEmail(e),o=this.findClosestDomain(r.domain,t,i);if(o){if(o!=r.domain)return{address:r.address,domain:o,full:r.address+"@"+o}}else{var a=this.findClosestDomain(r.topLevelDomain,n);if(r.domain&&a&&a!=r.topLevelDomain){var s=r.domain;return o=s.substring(0,s.lastIndexOf(r.topLevelDomain))+a,{address:r.address,domain:o,full:r.address+"@"+o}}}return!1},findClosestDomain:function(e,t,n){var i,r=99,o=null;if(!e||!t)return!1;n||(n=this.sift3Distance);for(var a=0;t.length>a;a++){if(e===t[a])return e;i=n(e,t[a]),r>i&&(r=i,o=t[a])}return this.threshold>=r&&null!==o?o:!1},sift3Distance:function(e,t){if(null==e||0===e.length)return null==t||0===t.length?0:t.length;if(null==t||0===t.length)return e.length;for(var n=0,i=0,r=0,o=0,a=5;e.length>n+i&&t.length>n+r;){if(e.charAt(n+i)==t.charAt(n+r))o++;else{i=0,r=0;for(var s=0;a>s;s++){if(e.length>n+s&&e.charAt(n+s)==t.charAt(n)){i=s;break}if(t.length>n+s&&e.charAt(n)==t.charAt(n+s)){r=s;break}}}n++}return(e.length+t.length)/2-o},splitEmail:function(e){var t=e.split("@");if(2>t.length)return!1;for(var n=0;t.length>n;n++)if(""===t[n])return!1;var i=t.pop(),r=i.split("."),o="";if(0==r.length)return!1;if(1==r.length)o=r[0];else{for(var n=1;r.length>n;n++)o+=r[n]+".";r.length>=2&&(o=o.substring(0,o.length-1))}return{topLevelDomain:o,domain:i,address:t.join("@")}}}};window.jQuery&&function(e){e.fn.mailcheck=function(e){var t=this;if(e.suggested){var n=e.suggested;e.suggested=function(e){n(t,e)}}if(e.empty){var i=e.empty;e.empty=function(){i.call(null,t)}}e.email=this.val(),Kicksend.mailcheck.run(e)}}(jQuery);var hexcase=0,b64pad="",chrsz=8;ws.namespace("ws.common"),ws.common=function(e,t){function n(){return wikispaces_isDefaultSpace?"":"/"+ws.common.encodePath(ws.common.PROJECT_INDICATOR,wikispaces_projectName,wikispaces_spaceName)}function i(e,t,n,i,r,o){return"/"+ws.common.PROJECT_INDICATOR+"/"+ws.common.encodePath(e,t,n,i,r,o)}function r(e,t,n,i){return"/"+ws.common.encodePath(e,t,n,i)}function o(t){return e(".WikiMenu").not(e(t).next()).removeClass("WikiMenuEnabled").addClass("WikiMenuDisabled"),e(t).removeClass("WikiMenuDisabled").addClass("WikiMenuEnabled"),ws.common.hideOverlappingEmbeds(e(t).find("ul")),!1}function a(t){!l&&e(".WikiMenuEnabled").length&&(e(t).addClass("WikiMenuDisabled").removeClass("WikiMenuEnabled"),ws.common.hideOverlappingEmbeds(e(t).find("ul")))}function s(){var e=window.performance.timing;return{dns:e.domainLookupEnd-e.domainLookupStart,connect:e.connectEnd-e.connectStart,ttfb:e.responseStart-e.connectEnd,basePage:e.responseEnd-e.responseStart,frontEnd:e.loadEventStart-e.responseEnd}}var l=!1;return e(document).ready(function(){e("input, textarea").placeholder(),e(document).on("click","a.userLink:not(.userLinkNoMenu)",ws.common.makeLinkClickFunction(ws.common.userLinkClick)),ws.common.loadMenuHandlers(),e("textarea.autogrow").autogrow(),ws.autocomplete.registerAutocompleters(e("body")),e("body").click(function(){e(".userMenu").remove()}),e(".wsbtn").one("submit",function(){e(this).click(function(){return!1})}),e.browser.msie&&"diff"!=wikispaces_method&&(7==e.browser.version?e(".wiki a[name]").css("display","inline-block"):8==e.browser.version&&e(".wiki a[name]").html("&zwj;")),e("form").submit(function(){e(this).find(".wsh, .jowic, .movkp, .mimw, .jovise").find('input[name="wikispaces_user_id"]').val(""),e(this).find(e(this).data("onSubmitShow")).show(),e(this).find(e(this).data("onSubmitHide")).hide()}),e("#WikispacesBanner").length&&setTimeout(function(){ws.common.displayBanner(!0)},1e3),e(".WikispacesNoticeDismiss").click(function(){e(this).closest(".WikispacesNotice").fadeOut()}),ws.math.process(),e('.WikispacesContent input[type="email"]').one("blur",function(){e(this).mailcheck({suggested:function(t,n){jQuery(".mailcheck").remove();var i=e("<div/>").addClass("mailcheck"),r=e("<a>").click(function(e){jQuery(t).val(n.full),jQuery(".mailcheck").remove(),e.preventDefault()}).html(n.full);i.append("Did you mean ").append(r).append("? ").append(e("<a/>").text("(dismiss)").on("click",function(){e(this).closest(".mailcheck").remove()})),jQuery("#mailcheck-placeholder").css("visibility","visible").find("a").replaceWith(i)},empty:function(){jQuery(".mailcheck").remove()}})}),e(".cobWrapper").hoverIntent(function(){},function(){e(this).find(".popover").removeClass("in").addClass("out")},".cob-popover-container"),setTimeout(function(){e("#WikispacesNoticeHolder .WikispacesNoticeSuccess").fadeOut()},3e4)}),window.onload=function(){if(window.performance&&window.performance.timing){var e=s();_gaq=_gaq||[],_gaq.push(["_setAccount",wsGoogleAccount]),_gaq.push(["_trackEvent","Navigation Timing","DNS",t,e.dns,!0]),_gaq.push(["_trackEvent","Navigation Timing","Connect",t,e.connect,!0]),_gaq.push(["_trackEvent","Navigation Timing","TTFB",t,e.ttfb,!0]),_gaq.push(["_trackEvent","Navigation Timing","BasePage",t,e.basePage,!0]),_gaq.push(["_trackEvent","Navigation Timing","FrontEnd",t,e.frontEnd,!0])}},{PROJECT_INDICATOR:"-",highlightColor:"#FFC",single_page_regex:/^([:\/]?)([^:\/]+)$/,full_link_regex:/^[:\/]?([^:\/]+)[:\/]([^:\/]+)[:\/]([^:\/]+)$/,pageNameRegex:/[\[\]:|{}$\"#@+]/,projectNameRegex:/[:\[\]\/]/,teamNameRegex:/[:\[\]\/]/,disableHideOverlappingEmbeds:!1,isMac:-1!=navigator.userAgent.indexOf("Mac"),camelize:function(e){var t=e.split("-"),n=t.length;if(1==n)return t[0];for(var i="-"==e.charAt(0)?t[0].charAt(0).toUpperCase()+t[0].substring(1):t[0],r=1;n>r;r++)i+=t[r].charAt(0).toUpperCase()+t[r].substring(1);return i},normalizeCssSelector:function(e){return e==e.toUpperCase()&&(e=e.toLowerCase()),ws.common.camelize(e)},truncate:function(e,t,n){return ws.common.truncify(e,t,0,n)},truncify:function(e,t,n,i){return e?(n||(n=10),i||(i="..."),t>=e.length?e:e.substr(0,t-n-i.length)+i+e.substr(e.length-n)):""},addUriParams:function(e,t){if(!t||!t.length)return e;e+=-1==e.indexOf("?")?"?":"&";for(var n=[],i=0;t.length>i;++i)_.isUndefined(t[i][1])||n.push(encodeURIComponent(t[i][0])+"="+encodeURIComponent(t[i][1]));return e+n.join("&")},removeUriParams:function(e){return e.match(/^[^\?]*/)},updateUriParams:function(e,t){return ws.common.replaceUriParams(e,_.extend(ws.common.uriParams(e),t))},replaceUriParams:function(e,t){var n="?"+_(t).chain().map(function(e,t){return null===e?"":encodeURIComponent(t)+"="+encodeURIComponent(e)}).compact().value().join("&");return e.match(/.*?(?=\?|$)/)[0]+n},uriParams:function(e){var t,n={};if((t=e.indexOf("?"))>=0)for(var i,r=e.substring(t+1),o=/(.+?)=(.*?)(?:&|;|$)/g;i=o.exec(r);)n[decodeURIComponent(i[1])]=decodeURIComponent(i[2]);return n},track:function(e,t,n){_gaq=_gaq||[],_gaq.push(["_trackEvent",e,t,n])},escapeRegExp:function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},escapeHtml:function(e){return(e||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},strtr:function(e,t,n){for(var i="",r=-1,o=0;e.length>o;o++)127>=e.charCodeAt(o)?i+=e.charAt(o):(r=t.indexOf(e.charAt(o)),i+=r>=0?n.charAt(r):e.charAt(o));return i},encodePath:function(){return _(arguments).chain().filter(function(e){return null!==e&&e!==t&&""!==e}).map(function(e){return encodeURIComponent(e)}).value().join("/")},pathFor:function(e,t,i,r){return n()+"/"+ws.common.encodePath(e,t,i,r)},parseLink:function(e,t,n){var o=e.match(ws.common.single_page_regex);return o?"/"!=o[1]?ws.common.pathFor(t,n,o[2]):r(t,n,o[2]):(o=e.match(ws.common.full_link_regex),o?i(o[1],o[2],t,n,o[3]):!1)},logFileUploadError:function(e,t){var n;n=e.file&&e.file.name?"Could not upload "+e.file.name+": ":"An error occured while uploading: ",e.code==plupload.FILE_SIZE_ERROR?n+="the file is larger than your maximum of "+t:e.code==plupload.HTTP_ERROR?(n+="an HTTP error occurred. (HTTP status: ",n+=e.status?e.status:"unknown",n+=")"):n+=e.message,alert(n+" (code: "+-e.code+").")},makeLinkClickFunction:function(e){return function(n){return!ws.common.isMac&&n.ctrlKey||ws.common.isMac&&n.originalEvent&&n.originalEvent.metaKey||n.shiftKey?t:e.apply(this,arguments)?t:(n.preventDefault(),!1)}},compareGroupPermissionValues:function(e,n){return e==n?0:"O"==e?1:"O"==n?-1:"M"==e?1:"M"==n?-1:"W"==e?1:"W"==n?-1:"L"==e?1:"L"==n?-1:t},hideOverlappingEmbeds:function(n,i){if(!ws.common.disableHideOverlappingEmbeds){if(n=e(n),!n.is(":visible"))return e(".WikiEmbedSubForPopup").remove(),e(".WikiHideForPopup").removeClass("WikiHideForPopup"),t;var r=n.offset(),o=r.top,a=r.left,s=o+n.outerHeight(),l=a+n.outerWidth();e("iframe:visible, object:visible, embed:visible, applet:visible").not(n.find("*")).each(function(){var t=e(this);if(!(!t.is(":visible")||i&&t.is("iframe"))){var n=t.offset(),r=n.top,c=n.left,u=c+t.outerWidth(),d=r+t.outerHeight();if(t.find("iframe:visible, object:visible, embed:visible, applet:visible").each(function(){var t=e(this),n=t.offset(),i=n.top,o=n.left,a=o+t.outerWidth(),s=i+t.outerHeight();r>i&&(r=i),c>o&&(c=o),s>d&&(d=s),a>u&&(u=a)}),d>o&&s>r&&u>a&&l>c){var h=t.css("display");"block"!=h&&(h="inline-block");var f={display:h,position:t.css("position"),"float":t.css("float"),top:t.css("top"),right:t.css("right"),bottom:t.css("bottom"),left:t.css("left"),width:u-c-18,height:d-r-18,overflow:"hidden"};e("<div></div>").css(f).addClass("WikiEmbedSubForPopup").insertBefore(t),t.addClass("WikiHideForPopup")}}})}},loadMenuHandlers:function(){e(document).on("mouseover",".WikiMenuControl",function(t){var n=e(this),i=n.nextAll(".WikiMenu:first");0===i.length&&(i=n.parent().nextAll(".WikiMenu:first")),n.data("init")||(n.data("init",!0),i.hover(function(){return l=!0,!0},function(){return l=!1,setTimeout(function(){a(i[0])},500),!0}),n.hoverIntent({sensitivity:3,interval:200,over:function(){o(i[0])},timeout:500,out:function(){a(i[0])}}),n.click(function(){o(i[0])}),i.find(".WikiMenuEntry").click(function(t){if(1==e(t.target).children("a").length){var n=e(t.target).children("a:first");n.attr("href")&&"#"!=n.attr("href")&&!n.hasClass("WikispacesDialogLink")?window.location=n.attr("href"):e(n).trigger("click")}l=!1,a(i[0])}),n.trigger(t))})},resolveNameToBoundFunction:function(n){if("string"==typeof n){var i=null,r=window,o=!1;return e.each(n.split("."),function(e,n){return i=r,(r=i[n])?(o=!0,t):(o=!1,!1)}),o&&"function"==typeof r?function(){return r.call(i)}:t}},trackFileLink:function(e){_gaq=_gaq||[],"undefined"!=typeof wsSpaceGoogleAccount&&_gaq.push(["gaSpace._trackPageview",e]),"undefined"!=typeof wsInstanceGoogleAcount&&_gaq.push(["gaInstance._trackPageview",e]),_gaq.push(["_trackPageview",e])},userLinkClick:function(){function t(){ws.session.reloadSession(function(){n.click()},500,function(){alert("Error: Could not display user details")})}var n=e(this);e(".userMenu").remove();var i=e("<div>");i.addClass("userMenu"),e("body").append(i);var r=n.attr("href").substring(n.attr("href").lastIndexOf("/")+1);e.ajax({url:"/user/menu/"+r,type:"GET",dataType:"html",success:function(t){i.html(t),i.fadeIn("slow"),i.css("position","absolute"),i.css("left",Math.min(n.offset().left-3,e(window).width()-i.outerWidth())),i.css("top",n.offset().top-8)},error:t})},ucfirst:function(e){e+="";var t=e.charAt(0).toUpperCase();return t+e.substr(1)},addNotice:function(t,n){var i=e("#WikispacesNoticeJs div."+n),r='<span class="WikispacesNoticeDismiss"><img src="/i/icon/16_close.png"/></span>';0===i.length&&(i=e("<div>").addClass("WikispacesNotice").addClass(n).append(r).append("<ul>").appendTo("#WikispacesNoticeJs")),i.find("ul").append(e("<li>").html(t)),e(".WikispacesNoticeDismiss").click(function(){e(this).closest(".WikispacesNotice").fadeOut()}),e("#WikispacesNoticeJs").show()},removeNotice:function(t){e("#WikispacesNoticeJs").hide().empty(),t&&e(".WikispacesNotice").hide()},addJsonNotices:function(e){e&&e.notices&&_(e.notices).each(function(e,t){_(e).each(function(e){ws.common.addNotice(e,"WikispacesNotice"+ws.common.ucfirst(t))})})},displayBanner:function(t){var n=e("#WikispacesBanner").outerHeight(),i=0;t?e("#WikispacesBanner").show():(i=-1*n,n=0),e("#WikispacesWrapper").animate({marginTop:n,queue:!1},250),e("#WikispacesBanner").animate({top:i,queue:!1},250),t?(e("#WikispacesWrapper").addClass("BannerDisplayed"),e("#WikispacesBanner").addClass("BannerDisplayed")):(e("#WikispacesWrapper").removeClass("BannerDisplayed"),e("#WikispacesBanner").removeClass("BannerDisplayed"))},ajaxPost:function(t){if(t.form){var n=e(t.form);t=e.extend({url:n.attr("action"),type:n.attr("method"),data:n},t)}t=e.extend({url:window.location.href,type:"POST",iframe:!0,processData:!1,cache:!1,dataType:"json"},t);var i=[],r=t.data;return r&&(e.isPlainObject(r)?(e.each(r,function(t,n){e.isArray(n)||(n=[n]),e.each(n,function(e,n){i.push({name:t,value:n})})}),r=[r]):(e.isArray(r)||(r=[r]),e.each(r,function(t,n){e.isPlainObject(n)?i.push(n):"object"==e.type(n)&&(i=i.concat(e(n).find(":input").addBack().filter(":input").toArray()))}))),t.data=i,e.ajax(t).always(function(e){ws.common.addJsonNotices(e)})},pluploadRuntimes:function(){var t=["html5","silverlight","flash","html4"];return e.browser.msie&&(t=_(t).without("silverlight")),t},getURLParameter:function(e){return decodeURI((RegExp(e+"="+"(.+?)(&|$)").exec(location.search)||[null,null])[1])},validatePageName:function(e){var t=e.match(/[\/\[\]\{\}\:\|\$\+\#\@\"]/);return t&&t.length>0||e.length>255||0===e.length?!1:!0},showMorePageBar:function(){e(".MenuBar .Buttons").addClass("MoreMenuActive"),e(".MenuBar .MoreMenu").fadeIn()},hideMorePageBar:function(){e(".MenuBar .MoreMenu").is(".locked")||(e(".MenuBar .Buttons").removeClass("MoreMenuActive"),e(".MenuBar .MoreMenu").fadeOut())},setSelectionRange:function(e,t,n){if(e.setSelectionRange)return e.setSelectionRange(t,n);var i=e.createTextRange();i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",t),i.select()},isScrolledIntoView:function(t){var n=e(window).scrollTop(),i=n+e(window).height(),r=e(t).offset().top,o=r+e(t).height();return i>=o&&r>=n},getPagerData:function(e,t,n){var i={firstpage:1,numrows:n,numpages:Math.max(Math.ceil(n/t),1),limit:t,current:Math.floor(e/t)+1,from:Math.min(n,e+1),to:n};return i.lastpage=i.numpages,i.current!=i.numpages&&(i.to=i.current*t),i.prev=null,i.current>i.firstpage&&(i.prev=Math.max(0,i.from-1-i.limit)),i.next=null,i.current<i.lastpage&&(i.next=Math.min(i.numrows,i.from-1+i.limit)),i.first=0,i.last=(i.lastpage-1)*i.limit,i.paginator=ws.common.getPagerPagination(i),i},getPagerPagination:function(e){var t=[{page:e.firstpage,offset:e.first}];if(1==e.lastpage)return t;var n=1,i=e.current-n,r=e.current+n,o=Math.max(0,e.firstpage+1-i),a=Math.max(0,r-(e.lastpage-1));i=Math.max(e.firstpage+1,i-a),r=Math.min(e.lastpage-1,r+o),i>e.firstpage+1&&t.push({page:null,offset:null});for(var s=i;r>=s;s++)t.push({page:s,offset:(s-1)*e.limit});return e.lastpage-1>r&&t.push({page:null,offset:null}),t.push({page:e.lastpage,offset:e.last}),t},log:function(){var t=!1;if(document.cookie&&-1!=document.cookie.indexOf("debug_js=")&&(t=!0),t&&window.console)if(e.browser.mozilla||e.browser.webkit)window.console.log(arguments);else for(var n=0;arguments.length>n;n++)window.console.log(arguments[n])}}}(jQuery),Date.prototype.toISOString||function(){function e(e){var t=e+"";return 1===t.length&&(t="0"+t),t}Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"."+((this.getUTCMilliseconds()/1e3).toFixed(3)+"").slice(2,5)+"Z"}}(),ws.namespace("ws.assessment"),ws.assessment=function(e){function t(t,n,r){if(i&&ws.context.user.id){r||(r=ws.assessment.getCurrentDate());var o=n(r);if(o){var a="/data/put/"+encodeURIComponent(t),s={s:ws.context.space.id,w:ws.context.wiki.id,u:ws.context.user.id,d:r,v:o},l=[t,encodeURIComponent(Cookie.get("slave"))];e.each(s,function(){a=ws.common.addUriParams(a,[arguments]),l.push(arguments[1])});var c=l.join(":");c=b64_md5(c).replace(/\+/g,"-").replace(/\//g,"_"),a=ws.common.addUriParams(a,[["h",c]]),e.ajax(a)}}}var n={},i=!1;return e(document).ready(function(){var t=function(){return 1};i="C"==ws.context.wiki.module,ws.assessment.schedule("view",t),e(window).on("focus",function(){ws.assessment.schedule("view",t)}),e(window).on("blur",function(){n.view&&(clearTimeout(n.view),n.view=null),e("iframe").not(".pluginIframe").each(function(){e(this.contentWindow).off(".subfocus"),e(this.contentWindow).on("focus.subfocus",function(){ws.assessment.schedule("view",t)}).on("blur.subfocus",function(){n.view&&(clearTimeout(n.view),n.view=null)})})})}),{BUCKET_SECONDS:5,getCurrentDate:function(e){var t=null;t=e?new Date(e):new Date((new Date).getTime()+ws.context.clockSkewMillis),t.setUTCMilliseconds(0);var n=t.getUTCSeconds();n=Math.floor(n/ws.assessment.BUCKET_SECONDS)*ws.assessment.BUCKET_SECONDS,t.setUTCSeconds(n);var i=Math.floor(t.getTime()/1e3);return i},disable:function(){i=!1,e.each(n,function(e,t){clearTimeout(t),n[e]=null})},schedule:function(e,i){if(!n[e]){var r=ws.assessment.getCurrentDate(),o=1e3*(r+ws.assessment.BUCKET_SECONDS-Math.floor(((new Date).getTime()+ws.context.clockSkewMillis)/1e3));n[e]=setTimeout(function(){t(e,i,r),n[e]=null,ws.assessment.schedule(e,i)},o)}}}}(jQuery),ws.namespace("ws.autocomplete"),ws.autocomplete=function(e){function t(t){return e("<div/>").text(t[0]).append(e('<span class="autocompleteId"/>').hide().text(t[0])).html()}function n(t,n){var i;e(t.input).hasClass("autocompleteTag")&&(i="tag"),d[i].failure,d[i].success,n?e(t.input).addClass("ac_match").removeClass("ac_nomatch").nextAll("input.autocompleteData:first").eq(0).val(e(n).find(".autocompleteId").text()):e(t.input).addClass("ac_nomatch").removeClass("ac_match").nextAll("input.autocompleteData:first").eq(0).val("")}function i(t){e(t.input).removeClass("ac_match").removeClass("ac_nomatch")
}function r(t,n){e(t.input).addClass("ac_match").removeClass("ac_nomatch");var i=e(t.input).nextAll("input.autocompleteData:first").eq(0);e(n).find(".autocompleteId").hasClass("novalidate")&&e(t.input).addClass("ac_nomatch").removeClass("ac_match"),i.length&&(e(t.input).val(e(n).children(":first").text()),i.val(e(n).find(".autocompleteId").text()),i.data(c,e(t.input).val())),t.input.focus(),e(n).find(".autocompleteId").hasClass("novalidate")&&t.refreshResults()}function o(t){e(t).find(u).each(function(){var t=e(this),n=t.nextAll("input.autocompleteData:first").eq(0);if(n.length){var i=n.data(c);t.val()!=i&&n.val(t.val())}})}function a(t){clearTimeout(l[t.options.id]),delete l[t.options.id];var n=t.input.value,i=ws.autocomplete.getValue(t),o=!1;e("."+t.options.resultsClass+" li").each(function(){var a=e(this).text(),s=e(this).text(),l=e(this).find(".autocompleteId");l.length&&(a=e(this).children(":first").text(),s=l.text()),a!=n||s==i||l.hasClass("novalidate")?a!=n||s!=i||l.hasClass("novalidate")||(e(t.input).addClass("ac_match").removeClass("ac_nomatch"),o=!0):(r(t,this),o=!0)}),o===!1&&(e(t.input).nextAll("input.autocompleteData:first").val(""),e(t.input).removeClass("ac_match").addClass("ac_nomatch"))}var s=0,l=[],c="dataSearch",u="input.autocompleteTag",d={tag:{success:"Tag Found",failure:"Tag Not Found"}};return{initAutocomplete:function(u){var d=e(u);if(d.get(0).autocompleter)return!0;var h,f,p={maxItemsToShow:20,onFindValue:n,onEmptyValue:i,onItemSelect:r,id:s++},m=255;if(d.is(".autocompleteTag")&&(p.formatItem=t,f=ws.common.pathFor("space","autocomplete","tag")),d.autocomplete(f,p).attr("maxlength",m).keydown(function(e){13!=e.keyCode&&9!=e.keyCode&&(37>e.keyCode||e.keyCode>40)&&(l[u.autocompleter.options.id]&&clearTimeout(l[u.autocompleter.options.id]),l[u.autocompleter.options.id]=setTimeout(function(){a(u.autocompleter)},500),h&&h.data(c,null))}),d.val()&&!d.data("value")&&u.autocompleter.findValue(),h&&h.data(c)==d.val()){var g=e("<li>").append(e('<span class="autocompleteId">').text(h.val()));n(u.autocompleter,g)}d.closest("form").submit(function(e){o(this,e)})},getValue:function(t){var n=e(t.input),i=n.val(),r=n.nextAll("input.autocompleteData:first").eq(0);return r.length&&(i=r.val()),i},registerAutocompleters:function(t){e(t).find(u).each(function(){ws.autocomplete.initAutocomplete(this)})},getAutocompleters:function(t){return e(t).find(u)}}}(jQuery),ws.namespace("ws.cob"),ws.cob=function(e){function t(t){t=e(t);var i=ws.cob.getChecks(t);t.find("input.cobCheck").each(function(){i[e(this).val()]&&(e(this).prop("checked",!0),r(this,!0))}),n(t)}function n(t){t=e(t);var n=t.find("table.cob");n.find("input.cobSelectAll").prop("checked",!n.find("input.cobCheck:not(:checked):first").length);var r=t.find(".js-selections"),o=ws.cob.getChecksCount(t);if(0>=o)return r.hide(),i(t,!1),undefined;if(r.length){r.show();var a=r.find("span span");1==o?a.text(r.data("singular").replace("%d",o)):a.text(r.data("plural").replace("%d",o))}i(t,!0),r.show().find("span").css("color","#F00").animate({color:"#000"},2e3)}function i(t,n){var i=e(t).find(".cobOperations .btn.cobOperation");i.filter(":button").prop("disabled",!n),i.not(":button").toggleClass("disabled",!n)}function r(t,n){t=e(t),t.closest("tr").toggleClass("info",n),o(t.closest(".cobWrapper"),t.val(),n)}function o(e,t,n){var i=ws.cob.getChecks(e),r=ws.cob.getChecksCount(e);n&&!i[t]?(i[t]=1,r++):!n&&i[t]&&(delete i[t],r--),e.data("cob-checks-count",r)}function a(t,n){t.html(n).removeClass("loading"),ws.cob.scrollOnLoad&&!t.find("th:first").is(":inView")&&e.scrollTo(t,{axis:"y"})}var s=[],l=7,c={},u={};return e(document).ready(function(){return e(".cobWrapper").on("click",".js-selections-remove",function(t){var n=e(this).closest(".cobWrapper");ws.cob.clearSelections(n),t.preventDefault()}),e(".cobWrapper").on("change",".cobSelectAll",function(){var t=e(this).prop("checked"),i=e(this).closest(".cobWrapper");i.find("input[type=checkbox].cobCheck").prop("checked",t).each(function(){r(this,t)}),n(i)}),e(".cobWrapper").on("refreshChecks",function(){e(this).find("input.cobCheck").each(function(){r(this,e(this).prop("checked"))}),n(e(this))}),e(".cobWrapper").on("click",".cobCheck",function(){r(this,e(this).prop("checked")),n(e(this).closest(".cobWrapper"))}),e(".cobWrapper").each(function(){n(this)}),e(".cobWrapper").on("click",".cobOperation",function(t){t.preventDefault();var n=e(this).closest(".cobWrapper");if(!ws.cob.hasChecks(n))return alert("Please select at least one item from the list to continue."),undefined;if(!e(this).data("bulk-params"))return e(this).trigger("bulk-needs-params"),undefined;var i=e('<form method="post" action="/site/bulk"/>').addClass("hidden");e("<input>").attr({type:"hidden",name:"operation",value:e(this).data("bulk-operation")}).appendTo(i);for(var r in e(this).data("bulk-params")){var o=e(this).data("bulk-params")[r];"function"==typeof o&&(o=o.call(i)),e("<input>").attr({type:"hidden",name:"params["+r+"]",value:o}).appendTo(i)}for(var a in ws.cob.getChecks(n))e("<input>").attr("type","hidden").addClass("cobId").attr("name","cobCheck[]").val(a).appendTo(i);var s=document.location.href;e(this).data("bulk-goto")&&(s=e(this).data("bulk-goto")),e("<input>").attr("type","hidden").attr("name","goto").val(s).appendTo(i),n.append(i),i.submit()}),History.enabled?(History.Adapter.bind(window,"statechange",function(){var t=History.getState(),n=t.data.tableId;n||(n=e(".cobWrapper").attr("id")),ws.cob.makeAjaxCall(t.url,n)}),undefined):!1}),{TABLE_ID:"utable",scrollOnLoad:!0,enableState:!0,getChecks:function(e){var t=e.data("cob-checks");return t||(t={},e.data("cob-checks",t)),t},getChecksCount:function(e){var t=e.data("cob-checks-count");return t||0},hasChecks:function(e){for(var t in ws.cob.getChecks(e))return!0;return!1},clearSelections:function(e){e.find("input[type=checkbox].cobCheck").prop("checked",!1).each(function(){r(this,!1)}),e.find(".cobSelectAll").prop("checked",!1),e.data("cob-checks-count",0),e.data("cob-checks",{}),n(e)},refreshRows:function(){e("table.cob .refreshLink").trigger("click")},registerCallback:function(e,t){c[e]=t},associateCallback:function(e,t){var n=c[t];u[e]=n},addCallback:function(e){s.push(e)},makeAjaxLink:function(t,n){e(t).click(ws.common.makeLinkClickFunction(function(t){if(!ws.tags.promptForOpenInputs(t))return!1;var i=e(this).attr("href");ws.cob.enableState?History.pushState({tableId:n},null,i):ws.cob.makeAjaxCall(i,n)}))},makeAjaxCall:function(t,n){e("#"+n).addClass("loading"),ws.common.trackFileLink(t);var i=ws.common.addUriParams(t,[[ws.cob.TABLE_ID,n]]);e.ajax({url:i,type:"post",iframe:!0,dataType:"json",processData:!1}).done(function(e){var t=e.content;return ws.cob.makeCallback(n)(t)})},makeCallback:function(n,i){return i||(i=u[n]),i||(i=a),function(r){var o=e("#"+n);i(o,r),e.each(s,function(e,t){t(o)}),t(o),o.find(".jssmLink, .pagerLink").each(function(){ws.cob.makeAjaxLink(this,n)});var a=[],l=o.find(".selectedTagsJson").text();l&&(a=JSON.parse(l));var c=o.find(".filterWrapper");ws.cob.initFilter(c,{tagChangeCallback:function(t){var n=e(t.filter).find(".tagLink");return n.attr("href",ws.common.addUriParams(n.attr("href"),[["tag",t.getTags()]])),n.click(),!1},mode:e.trim(c.find(".listType").text()),tags:a})}},initFilter:function(t,n){if(this.filter=e(t),!this.filter.length)return!1;var i=this;this.showTagSpinner=function(){},this.hideTagSpinner=function(){},this.showPage=function(t){this.showTagSpinner();var n=(t-1)*l,r=this.getTags(),o=this.filter.closest(".cobWrapper").find(".cobUrl").attr("href");o||(o="/tag/listjson/"+encodeURIComponent(this.options.mode)),o=ws.common.addUriParams(o,[["offset",n],["tag",r],["tagPage","1"]]);var a=function(){ws.session.reloadSession(function(){i.showPage(t)},3e3,function(){i.options.sessionFailCallback(i)})};e.ajaxq("tagList"),e.ajaxq("tagList",{url:o,type:"GET",dataType:"json",global:!1,cache:!1,error:a,success:function(e){ws.session.reloadSessionSuccess(),i.loadTagData(e),i.hideTagSpinner(),i.options.tagPageChangeCallback(i)}})},this.tagChange=function(){!1!==this.options.tagChangeCallback(this)&&this.showPage(1)},this.displayTag=function(t){if(this.tagCount>=5)return alert("You can only filter with 5 tags at once."),!1;this.tagCount++;var n=e("<li>");return n.attr("title",t).text(ws.common.truncate(t,28)).addClass("bit-box"),e("<a>").attr({"class":"closebutton",href:"#"}).appendTo(n).click(function(e){i.removeTag(this),e.preventDefault()}),this.filter.find(".tagFilterActive").show().append(n),!0},this.addTag=function(e){this.displayTag(e)&&this.tagChange()},this.removeTag=function(t){this.tagCount--,e(t).parent().remove(),this.tagChange(),this.filter.find(".tagFilterActive li").length||this.filter.find(".tagFilterActive").hide()},this.getTags=function(){var t=[];return this.filter.find(".tagFilterActive li").each(function(){t.push(e(this).attr("title"))}),t.join()},this.loadTagData=function(t){if(t&&t.tags){var n=this.filter.find(".tagFilterList");t.tags.length?(this.filter.find(".filterTagSection").removeClass("hidden"),n.empty().show()):n.hide().empty(),e.each(t.tags,function(t,r){e("<li>").attr("title",r.name).text(ws.common.truncate(r.name,28)+" ("+r.count+")").click(function(){i.addTag(r.name)}).appendTo(n)}),1!=t.pagedata.current&&e('<li class="upTagPageLink"></li>').click(function(){i.showPage(t.pagedata.current-1)}).prependTo(n),t.pagedata.islastpage||e('<li class="downTagPageLink"></li>').click(function(){i.showPage(t.pagedata.current+1)}).appendTo(n)}},this.setMode=function(e){this.options.mode=e},this.options=e.extend({tagChangeCallback:function(){},sessionFailCallback:function(){},tagPageChangeCallback:function(){},mode:"files",tags:[]},n),this.options.tags.length&&(i.tagCount=0,e.each(this.options.tags,function(e,t){i.displayTag(t)}),this.filter.find(".filterTagSection").removeClass("hidden"));var r=this.filter.find(".initialJson").text();return r?this.loadTagData(JSON.parse(r)):this.showPage(1),this.filter.find(".autocompleteTag").each(function(){ws.autocomplete.initAutocomplete(this);var t=this.autocompleter.options.onItemSelect;this.autocompleter.options.onItemSelect=function(n,r){t.call(this,n,r),e(n.input).val("").removeClass("ac_match").removeClass("ac_nomatch");var o=e(r).find(".autocompleteId").text();i.getTags().split(","),e.inArray(o,tag)?i.filter.find(".tagFilterActive li").each(function(){e(this).attr("title")==o&&e(this).effect("highlight",{},3e3)}):i.addTag(o)}}),this}}}(jQuery),function(){var e,t,n,i,r,o,a,s,l,c,u,d,h,f,p,m,g,v,y,b,w;d=10,t=4,o=4,u=5,c=10,p=0,h=1,e=10,l=12,s="disabled",a="Current",wikispaces_isMobileSite&&(s="ui-disabled",a="ui-btn-active"),w=function(){var e;return e=jQuery.Deferred(),jQuery(window).load(function(){return e.resolve()}),e.promise()}(),y=function(e){return jQuery(e).clone().wrap("<div></div>").parent().html()},window.WikispacesCommentManager={comments:[],spaces:[],openComment:null,readOnly:!0,clear:function(){var e,t,n,i,r;for(this.comments=[],jQuery(".commentColumn").empty(),i=this.spaces,r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push(this.removeSpace(e));return r},reload:function(){var e,t,n,i,r=this;for(i=this.spaces,t=0,n=i.length;n>t;t++)e=i[t],e.reset();return this.retrieveData(function(e){return r.commentsFromDigests(e),r.redrawAll()})},retrieveData:function(e){return jQuery.ajax({iframe:!0,type:"GET",url:ws.common.pathFor("page","shares",wikispaces_page),dataType:"json",processData:!1,success:function(t){return e(t.content.comments)}})},commentsFromDigests:function(e){return this.comments=_(e).map(function(e){return new n(e)})},fetchPageViewComments:function(){var e=this;return this.retrieveData(function(t){return e.loadPageViewComments(t)})},loadPageViewComments:function(e){var t,n;return new WikispacesCommentSpace("#content_view",".commentContainer",".commentContainer"),this.commentsFromDigests(e),this.redrawAll(),(t=window.location.hash.match(/#comment-(\d+)-open/))?null!=(n=WikispacesCommentManager.commentById(t[1]))?n.select().scrollTo():void 0:void 0},addSpace:function(e){return this.spaces.push(e),this.redrawAll()},removeSpace:function(e){return e.remove(),this.spaces=_(this.spaces).without(e)},preemptSpaces:function(){var e;return e=this.spaces,this.spaces=[],this.undiscover(),e},restoreSpaces:function(e){return this.spaces=e},rediscover:function(){var e,t,n,i,r;for(i=this.comments,r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push(e.discover(this.spaces));return r},undiscover:function(){var e,t,n,i,r;for(i=this.discoveredComments(),r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push(e.undiscover());return r},discoveredComments:function(){return _(this.comments).select(function(e){return e.isDiscovered()})},unsavedComments:function(){return _(this.discoveredComments()).select(function(e){return e.isUnsaved()})},sortedComments:function(){return _(this.spaces).chain().map(function(e){return e.sortedComments()}).flatten().value()},commentsInSpace:function(e){return _(this.comments).select(function(t){return t.space===e})},commentById:function(e){return _(this.comments).find(function(t){return t.attributes.id===e})},addComment:function(e){return this.comments.push(e),this.redrawAll(!0)},removeComment:function(e){return this.comments=_(this.comments).without(e),this.positionProxies()},showAll:function(){return jQuery(".commentColumn, .commentContainer .div-canvas").show()},hideAll:function(){return jQuery(".commentColumn, .commentContainer .div-canvas").hide()},redrawAll:function(){return this.rediscover(),this.positionProxies()},deselectAll:function(){var e,t,n,i,r;for(i=this.discoveredComments(),r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push(e.deselect());return r},markCommentsSaved:function(){return this.reload()},generateCommentId:function(){var e,t,n,i;for(null==(n=this.idCounter)&&(this.idCounter=0),t=null!=(i="undefined"!=typeof tinymce&&null!==tinymce?tinymce.mainEditor.plugins.wscommon.getOption("version"):void 0)?i:"v",e=""+t+"_"+ ++this.idCounter;_(this.comments).any(function(t){return t.commentId===e});)e=""+t+"_"+ ++this.idCounter;return e},positionProxies:function(){var e,t,n,i,r,o,a,s,l,c,u,d;for(this.reservedPositions=[],n=[],u=this.sortedComments(),a=0,l=u.length;l>a;a++)e=u[a],e.isDiscovered()?(r=e.height(),n.push({comment:e,y:this.findPosition(e.preferredY(),r)})):e.hide();for(o=jQuery(".commentColumn").height(),n=_(n).sortBy(function(e){return e.y}),t=0,d=[],s=0,c=n.length;c>s;s++)i=n[s],i.comment.$proxy.css({visibility:"visible",top:Math.floor(i.y)}).show(),o=Math.max(o,i.y+r),d.push(t+=1);return d},findPosition:function(e,n){var i,r,o,a;for(o=0,a=Math.max(e,o),i=Math.max(e+d,o),r=null;null==r;)a>=o&&this.isPositionClear(a,n)?r=a:this.isPositionClear(i,n)&&(r=i),a-=d,i+=d;return this.reservedPositions.push([r-t,r+n+t]),r},isPositionClear:function(e,t){var n;return n=function(e,t,n){return e>t&&n>e},_(this.reservedPositions).isEmpty()||_(this.reservedPositions).all(function(i){return!n(e,i[0],i[1])&&!n(e+t,i[0],i[1])&&!n(i[0],e,e+t)})}},window.WikispacesCommentSpace=f=function(){function e(e,t,n,r){this.contents=jQuery(e),this.contentContainer=jQuery(t),this.canvasContainer=jQuery(n),this.drawBehind=jQuery(r||t),this.canvas=new i(this.drawBehind,this.canvasContainer,"a.range",this.contents),WikispacesCommentManager.addSpace(this)}return e.prototype.remove=function(){return this.canvas.destroy()},e.prototype.reset=function(){var e,t,n,i,r;for(i=this.comments(),r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push(e.reset());return r},e.prototype.comments=function(){return WikispacesCommentManager.commentsInSpace(this)},e.prototype.sortedComments=function(){var e;return e=this.comments(),_(jQuery("a.range[name^=comment-]",this.contents)).chain().map(function(t){return _(e).find(function(e){return e.opener[0]===t})}).compact().value()},e.prototype.yOffset=function(){return this.contentContainer.offset().top-jQuery(".commentSubject").offset().top},e.prototype.closeAll=function(){var e,t,n,i,r;for(i=this.sortedComments(),r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push(e.close());return r},e}(),window.WikispacesComment=n=function(){function e(e){var t,n,i,r;this.attributes=null!=e?e:{},this.composing=!1,this.attributes.id||(null==(i=(t=this.attributes).commentId)&&(t.commentId=WikispacesCommentManager.generateCommentId()),this.attributes.userCreated={username:wikispaces_username,url:"/user/view/"+wikispaces_username,imageUrl:"/user/pic/"+wikispaces_username+"-sm.jpg"},null==(r=(n=this.attributes).replyPages)&&(n.replyPages=[]),this.composing=!0),this.space=null,this.$proxy=jQuery(b(this.attributes)),this.div=jQuery(this.template()(this.attributes)).css("visibility","hidden"),this.rerender()}return e.prototype.open=function(e){var t,n;return null==e&&(e={}),null!=(n=this.space)&&n.closeAll(),WikispacesCommentManager.openComment=this,this.$proxy.addClass("open"),this.showExtent(),t=this.extent.last().position().top+this.extent.last().height()+this.space.yOffset(),this.div.appendTo(".commentColumn").css({visibility:"visible",top:t,right:jQuery(".commentColumn").width()+4}).show(),jQuery("abbr.timeago").timeago(),jQuery(".ws-tip").tooltip({container:this.div}),this.div.find(".previous, .next").toggle(!(!this.previous()&&!this.next())),this.div.find(".previous").prop("disabled",!this.previous()),this.div.find(".next").prop("disabled",!this.next()),e.noFocus||this.div.find("textarea").focus(),this.repositionDiv()},e.prototype.repositionDiv=function(){var e,t;return(e=this.div.offset().top+this.div.outerHeight()-jQuery(document).outerHeight())>0?(t=parseInt(this.div.css("top").match(/\d+/)[0],10),this.div.css({top:t-e})):void 0},e.prototype.close=function(){return this.$proxy.removeClass("open"),this.hideExtent(),this.div.css({visibility:"hidden"}),WikispacesCommentManager.openComment=null},e.prototype.insertInto=function(e){var t=this;return this.space=e,this.$proxy.appendTo(jQuery(".commentColumn")).hide(),this.$proxy.on("mouseenter",function(){return t.showExtent(),t.$proxy.addClass("selected")}),this.$proxy.on("mouseleave",function(){return t.$proxy.hasClass("open")||t.hideExtent(),t.$proxy.removeClass("selected")}),this.$proxy.on("click",function(){return t.$proxy.hasClass("open")?t.close():t.open()})},e.prototype.setReply=function(e){return this.div.find(".reply textarea").val(e)},e.prototype.previous=function(){var e,t;return t=this.space.sortedComments(),(e=_(t).indexOf(this))>0?t[e-1]:void 0},e.prototype.next=function(){var e,t;return t=this.space.sortedComments(),(e=_(t).indexOf(this))!==t.length-1?t[e+1]:void 0},e.prototype.template=function(){return this.composing?g:v},e.prototype.rerender=function(){var e,t=this;return this.$proxy.html(jQuery(b(this.attributes)).html()),this.div.html(jQuery(this.template()(this.attributes)).html()),jQuery("abbr.timeago").timeago(),jQuery(".ws-tip").tooltip({container:this.div}),this.div.find(".userLink").click(ws.common.makeLinkClickFunction(ws.common.userLinkClick)),e=this,this.div.find(".ws-reveal").on("click keydown",function(){return jQuery(this).removeClass("ws-unrevealed").next(".ws-hidden").slideDown(),e.repositionDiv()}),this.div.find(".previous").on("click",function(){return t.previous().open({noFocus:!0}),!1}),this.div.find(".next").on("click",function(){return t.next().open({noFocus:!0}),!1}),this.div.find(".closeme").on("click",function(){return t.close(),!1}),this.div.find("form.compose").on("submit",function(){return t.close(),!1}),this.div.find(".commentHeader .trash").on("click",function(){return t["delete"](),!1}),this.div.find(".toggle-lock").on("click",function(){return t.attributes.locked=!t.attributes.locked,t.div.find(".toggle-lock").toggleClass("active"),t.div.find(".toggle-lock").attr("title",t.attributes.locked?"Replies are not allowed. Click to allow.":"Replies are allowed. Click to disallow.").tooltip("fixTitle").tooltip("show"),t.sync(!0),!1}),this.div.find(".toggle-monitor").on("click",function(){return t.attributes.monitored=!t.attributes.monitored,t.div.find(".toggle-monitor").toggleClass("active"),t.div.find(".toggle-monitor").attr("title",t.attributes.monitored?"You are monitoring replies. Click to stop.":"You are not monitoring replies. Click to monitor.").tooltip("fixTitle").tooltip("show"),t.sync(!0),!1}),this.div.find(".delete").on("click",function(){return(t.composing&&!t.body()||confirm("Do you really want to delete this comment?"))&&t["delete"](),!1}),this.div.find(".remove").on("click",function(){var e;return e="Do you really want to remove this comment?",t.composing||(e+=" It will remain visible in the page's discussion list."),(t.composing&&!t.body()||confirm(e))&&t.remove(),!1}),(!wikispaces_can_edit||this.attributes.locked&&!window.ws.context.userCanAdministerWiki)&&this.div.find(".reply").hide(),this.div.find(".delete-reply").on("click",function(e){var n;if(confirm("Are you sure you want to delete this reply?"))return n=jQuery(e.target).closest(".commentReply").data("id"),jQuery.ajax({iframe:!0,type:"POST",url:ws.common.pathFor("message","delete","$",n),dataType:"json",success:function(e){return t.update(e.content)}})}),this.div.find("form.reply").on("submit",function(){var e;return(e=t.div.find("form.reply textarea").val())?(t.div.find(".spinner").show(),t.div.find("form.reply").prop("disabled",!0),jQuery.ajax({iframe:!0,type:"POST",url:ws.common.pathFor("share","reply",t.attributes.id),data:{body:e},dataType:"json",processData:!1,success:function(e){return t.update(e.content)},complete:function(){return t.div.find(".spinner").hide()}}),!1):(alert("Please enter a reply first."),!1)})},e.prototype.update=function(e,t){var n,i,r;return null==t&&(t={}),this.attributes=e,!t.silent&&(n=null!=(i=ws.stream)?null!=(r=i.shares)?r.get(this.attributes.id):void 0:void 0)&&n.set(e),t.noRender||this.rerender(),this.repositionDiv()},e.prototype.sync=function(e){var t=this;return null==e&&(e=!1),jQuery.ajax({iframe:!0,type:"POST",url:ws.common.pathFor("share","update",this.attributes.id),data:this.attributes,dataType:"json",success:function(n){return t.update(n.content,{noRender:e})}})},e.prototype.reset=function(){return this.close(),this.div.remove(),this.$proxy.remove(),this.undiscover()},e.prototype.remove=function(){var e,t;return this.reset(),null!=(e=this.opener)&&e.remove(),null!=(t=this.closer)?t.remove():void 0},e.prototype["delete"]=function(e){var t,n=this;return null==e&&(e={}),t=function(){var t,i,r;return n.remove(),!e.silent&&(t=null!=(i=ws.stream)?null!=(r=i.shares)?r.get(n.attributes.id):void 0:void 0)&&ws.stream.shares.remove(t),WikispacesCommentManager.removeComment(n),n.composing=!1},this.composing?t():jQuery.ajax({iframe:!0,type:"POST",url:ws.common.pathFor("share","delete",this.attributes.id),success:t})},e.prototype.discover=function(e){var t,n,i,r,o;for(this.opener=this.closer=null,i=0,r=e.length;r>i;i++){if(n=e[i],this.opener=jQuery(n.contents).find(this.openSelector()),this.closer=jQuery(n.contents).find(this.closeSelector()),0!==this.opener.length||0!==this.closer.length)return!this.isDiscovered()&&(null!=(o=n.editor)?o.selection.isCollapsed():void 0)&&(0===this.opener.length?(n.editor.selection.setContent(this.openerHtml()),this.opener=jQuery(n.contents).find(this.openSelector())):0===this.closer.length&&(n.editor.selection.setContent(this.closerHtml()),this.closer=jQuery(n.contents).find(this.closeSelector()))),t=jQuery("a[name="+this.opener.attr("name")+"], a[name="+this.closer.attr("name")+"]",n.contents)[0]===this.closer[0],t||this.hasNullExtent()?this.remove():(this.opener.slice(1).remove(),this.closer.slice(1).remove()),n!==this.space&&this.insertInto(n),!0;this.space===n&&this.undiscover()}},e.prototype.undiscover=function(){var e;return this.deselect(),null!=(e=this.extent)&&e.remove(),this.$proxy.remove(),this.space=null},e.prototype.isDiscovered=function(){var e,t;return(null!=(e=this.opener)?e.length:void 0)>0&&(null!=(t=this.closer)?t.length:void 0)>0},e.prototype.isContentBetween=function(e,t){var n;for(n=null!=e?e.nextSibling:void 0;n&&n!==t;){if(3!==n.nodeType||n.nodeValue)return!0;n=n.nextSibling}return!1},e.prototype.hasNullExtent=function(){return!this.isContentBetween(this.opener[0],this.closer[0])},e.prototype.scrollTo=function(){return jQuery.scrollTo(this.$proxy,{offset:-70})},e.prototype.showExtent=function(){return this.hideExtent(),this.extent=this.space.canvas.makeExtent(this.opener.get(0),this.closer.get(0))},e.prototype.hideExtent=function(){var e;return null!=(e=this.extent)?e.remove():void 0},e.prototype.openAnchorName=function(){return"comment-"+this.attributes.commentId+"-open"},e.prototype.closeAnchorName=function(){return"comment-"+this.attributes.commentId+"-close"},e.prototype.openSelector=function(){return"a.range[name="+this.openAnchorName()+"]"},e.prototype.closeSelector=function(){return"a.range[name="+this.closeAnchorName()+"]"},e.prototype.generateOpener=function(e){return jQuery("<a>",e).addClass("range").attr("name",this.openAnchorName()).get(0)},e.prototype.generateCloser=function(e){return jQuery("<a>",e).addClass("range").attr("name",this.closeAnchorName()).get(0)},e.prototype.openerHtml=function(){return y(this.generateOpener())},e.prototype.closerHtml=function(){return y(this.generateCloser())},e.prototype.preferredY=function(){return(null==this.opener.get(0).offsetParent||null==this.closer.get(0).offsetParent)&&WikispacesCommentManager.rediscover(),r.top(this.opener)+this.space.yOffset()},e.prototype.height=function(){return this.$proxy.parent().size()||this.$proxy.appendTo("body"),this.$proxy.height()},e.prototype.draw=function(e){return(null==this.opener.get(0).offsetParent||null==this.closer.get(0).offsetParent)&&WikispacesCommentManager.rediscover(),this.$proxy.css({visibility:"visible",top:Math.floor(e)}).show(),this.$proxy.hasClass("open")?this.showExtent():void 0},e.prototype.hide=function(){var e;return this.deselect(),this.div.hide(),null!=(e=this.extent)&&e.hide(),this.$proxy.hide()},e.prototype.commentId=function(){return this.attributes.commentId},e.prototype.body=function(){return this.div.find("textarea").val()},e.prototype.memo=function(){return{body:this.body(),commentId:this.commentId(),locked:this.div.find(".btn.locked").hasClass("active"),monitored:this.div.find(".btn.monitored").hasClass("active")}},e.prototype.select=function(){var e;return WikispacesCommentManager.deselectAll(),this.div.addClass("selected"),null!=(e=this.extent)&&e.addClass("selected").css("z-index",h),this},e.prototype.deselect=function(){var e;return this.div.removeClass("selected"),null!=(e=this.extent)&&e.removeClass("selected").css("z-index",p),this},e.prototype.isSelected=function(){return this.div.hasClass("selected")},e.prototype.isUnsaved=function(){return this.composing},e}(),i=function(){function t(t,n,i,r){var o,a;this.targetDiv=t,this.locatorPattern=i,this.locatorSource=r,jQuery(this.targetDiv).css({position:"relative",zIndex:e}),jQuery(n).css({position:"relative",zIndex:e}),a=parseInt(this.targetDiv.css("padding-top"))+parseInt(n.css("padding-top")),o=parseInt(this.targetDiv.css("padding-left"))+parseInt(n.css("padding-left")),this.canvasDiv=jQuery("<div>").addClass("div-canvas").css({position:"absolute",top:a,left:o}).prependTo(n),this.reset()}return t.prototype.show=function(){return this.canvasDiv.show()},t.prototype.hide=function(){return this.canvasDiv.hide()},t.prototype.destroy=function(){return this.canvasDiv.remove()},t.prototype.reset=function(){return this.canvasDiv.empty(),this.canvasDiv.css({width:this.targetDiv.width(),height:this.targetDiv.height()}),r.prepare(this.locatorPattern,this.locatorSource)},t.prototype.makeExtentDiv=function(e,t,n,i){return jQuery("<div>").addClass("commentExtent").css({top:e,left:t,width:n,height:i})[0]},t.prototype.makeImageFrame=function(e){return e=jQuery(e),this.makeExtentDiv(e.position().top,e.position().left,e.outerWidth()+o,e.outerHeight()+o)},t.prototype.elemsBetween=function(e,t){var n,i;for(n=[],i=e.nextSibling;i!==t;){if(!i)return[];1===i.nodeType&&n.push(i),i=i.nextSibling}return n},t.prototype.makeExtent=function(e,t){var n,i,o,a,s,l,d,h,f,p,m,g,v=this;return n=[],jQuery(this.elemsBetween(e,t)).filter("img").each(function(e,t){return n.push(v.makeImageFrame(t))}),s=r.top(e),o=r.left(e),i=r.height(e),m=r.top(t),f=r.left(t),h=r.height(t),a=jQuery(e).closest("table.wiki_table td"),p=jQuery(t).closest("table.wiki_table td"),a.length&&a.get(0)===p.get(0)?(l=a.position().left,d=l+a.innerWidth()):(l=0,d=this.canvasDiv.width()),10>Math.abs(s-m)?(g=f-o,n.push(this.makeExtentDiv(s,o,g,i))):this.isRtl(e)?(o-l>=u&&n.push(this.makeExtentDiv(s,l,o-l,i)),m-s-i>=c&&n.push(this.makeExtentDiv(s+i,l,d-l,m-s-i)),n.push(this.makeExtentDiv(m,f,d-f,h))):(d-o>=u&&n.push(this.makeExtentDiv(s,o,d-o,i)),m-s-i>=c&&n.push(this.makeExtentDiv(s+i,l,d-l,m-s-i)),n.push(this.makeExtentDiv(m,l,f-l,h))),jQuery(n).appendTo(this.canvasDiv)},t.prototype.isRtl=function(e){return"rtl"===jQuery(e).css("direction")||"rtl"===jQuery(e).parents("*[dir]").attr("dir")},t}(),r={top:function(e){var t;return jQuery.browser.mozilla?jQuery(e).position().top-this.height(e)+2:jQuery.browser.webkit?(jQuery(e).html("&zwj;"),t=jQuery(e).position().top-2,jQuery(e).html(""),t):jQuery.browser.msie&&!WikispacesCommentManager.readOnly&&parseFloat(jQuery.browser.version)>=10?jQuery(e).position().top-this.height(e)+4:jQuery(e).position().top},height:function(e){var t;return jQuery.browser.msie?!WikispacesCommentManager.readOnly&&parseFloat(jQuery.browser.version)>=10?parseInt(jQuery(e).css("lineHeight").match(/^\d+/)[0]):jQuery(e).get(0).offsetHeight:(t=parseInt(jQuery(e).css("lineHeight").match(/^\d+/)),_.isNaN(t)?jQuery(e).get(0).offsetHeight:t)},left:function(e){var t,n;return e=jQuery(e)[0],jQuery.browser.webkit?(jQuery(e).html("&zwj;"),t=jQuery(e).position().left,jQuery(e).html(""),t):jQuery.browser.msie&&"true"===jQuery(null!=(n=e.ownerDocument)?n.body:void 0).attr("contentEditable")?(jQuery(e).html(" "),t=jQuery(e).position().left,jQuery(e).html(""),t):jQuery(e).position().left},prepare:function(e,t){return jQuery.browser.msie?jQuery(e,t).html("&zwj;"):jQuery.browser.webkit?(jQuery("span.wkzw",t).remove(),jQuery("<span>").addClass("wkzw").html("&zwj;").insertBefore(jQuery(e,t))):void 0}},jQuery(document).ready(function(){return WikispacesCommentManager.readOnly=!0,jQuery(".commentColumn").on("click",function(){return WikispacesCommentManager.deselectAll()}),jQuery(window).resize(function(){return WikispacesCommentManager.redrawAll()}),jQuery(document).keydown(function(e){var t,n;if(WikispacesCommentManager.openComment&&!WikispacesCommentManager.openComment.div.find("textarea").is(":focus"))switch(e.keyCode){case 37:case 38:return null!=(t=WikispacesCommentManager.openComment.previous())&&t.open({noFocus:!0}),!1;case 39:case 40:return null!=(n=WikispacesCommentManager.openComment.next())&&n.open({noFocus:!0}),!1}}),jQuery("#content_view a.range[name^=comment-]:first").size()>0&&"C"!==ws.context.wiki.module?WikispacesCommentManager.fetchPageViewComments():void 0}),m='<div class="commentFooter modal-footer">\n  <div class="pull-left">\n    <button class="btn btn-small previous"><i class="icon-arrow-left"></i></button>\n    <button class="btn btn-small next"><i class="icon-arrow-right"></i></button>\n  </div>\n  <% if (ws.context.userCanAdministerWiki && !WikispacesCommentManager.readOnly) { %>\n  <div class="pull-right">\n    <button class="btn btn-small remove">Remove</button>\n  </div>\n  <% } %>\n</div>',v=_.template('<div class="ws-box commentView">\n  <div class="comment-close">\n    <button type="button" class="closeme close" aria-hidden="true">&times;</button>\n  </div>\n  <div class="commentHeader">\n    <p class="ws-stream-meta command-context">\n      <a class="userLink userLinkPicture" href="<%= userCreated.url %>"><img class="userPicture" src="<%= userCreated.imageUrl %>" width="16" height="16"></a>\n      <a href="<%= userCreated.url %>"><%= userCreated.username %></a>\n      <% if (smartDate == \'__live__\') { %>\n      <abbr class="timeago" title="<%= (new Date(parseInt(dateCreated) * 1000)).toISOString() %>">\n        <%= dateCreated %>\n      </abbr>\n      <% } else { %>\n        <%- smartDate %>\n      <% } %>  \n      <% if (ws.context.userCanAdministerWiki) { %>\n        <i class="icon-trash contextual-command delete ws-tip" title="Delete Comment"></i>\n      <% } %>\n    </p>\n  </div>\n\n    <div class="commentBody">\n      <div class="commentContent">\n        <%= description %>\n      </div>\n\n      <% for(i = 0; i < replyPages.length; i++) { %>\n        <% for(var j = 0; j < replyPages[i].digests.length; j++) { %>\n      <div class="commentReply" data-id="<%= replyPages[i].digests[j].id %>">\n        <p class="ws-stream-meta command-context">\n          <a class="userLink userLinkPicture" href="<%= replyPages[i].digests[j].userCreated.url %>"><img class="userPicture" src="<%= replyPages[i].digests[j].userCreated.imageUrl %>" width="16" height="16"></a>\n          <a href="<%= replyPages[i].digests[j].userCreated.url %>"><%= replyPages[i].digests[j].userCreated.username %></a>\n          <% if (smartDate == \'__live__\') { %>\n          <abbr class="timeago" title="<%= (new Date(parseInt(replyPages[i].digests[j].dateCreated) * 1000)).toISOString() %>">\n            <%= new Date(parseInt(replyPages[i].digests[j].dateCreated) * 1000).toLocaleString() %>\n          </abbr>\n          <% } else { %>\n            <%- smartDate %>\n          <% } %>  \n          <% if (ws.context.userCanAdministerWiki) { %>\n          <i class="icon-trash contextual-command delete-reply ws-tip" title="Delete Reply"></i>\n          <% } %>\n          </p>\n        <div class="commentContent"><%= replyPages[i].digests[j].body %></div>\n      </div>\n        <% } %>\n      <% } %>\n\n      <form class="reply commentReply">\n        <textarea name="reply" placeholder="Reply" class="ws-reveal ws-unrevealed" /></textarea>\n        <div class="btn-toolbar">\n          <button class="btn btn-small">Post</button>\n\n          <% if (ws.context.user.id) { %>\n            <% if (monitored) { %>\n            <button class="btn btn-small pull-right toggle-monitor ws-tip active" title="You are monitoring replies. Click to stop."><i class="icon-eye-open"></i></button>\n            <% } else { %>\n            <button class="btn btn-small pull-right toggle-monitor ws-tip" title="You are not monitoring replies. Click to monitor."><i class="icon-eye-open"></i></button>\n            <% } %>\n          <% } %>\n          <% if (ws.context.userCanAdministerWiki) { %>\n            <% if (locked) { %>\n            <button class="btn btn-small pull-right toggle-lock ws-tip active" title="Replies are not allowed. Click to allow."><i class="icon-lock"></i></button>\n            <% } else { %>\n            <button class="btn btn-small pull-right toggle-lock ws-tip" title="Replies are allowed. Click to disallow."><i class="icon-lock"></i></button>\n            <% } %>\n          <% } %>\n\n          <img src="/i/spinner.gif" class="spinner pull-right" style="display:none"/>\n        </div>\n      </form>\n   </div>\n\n  '+m+"\n</div>"),g=_.template('<div class="ws-box commentView">\n  <div class="commentComposer">\n    <div class="comment-close">\n      &nbsp;<button type="button" class="close closeme" aria-hidden="true">&times;</button>\n    </div>\n    <div class="commentHeader">\n      <p class="ws-stream-meta command-context">\n        <img class="userPicture" src="<%= userCreated.imageUrl %>" width="16" height="16">\n        <a href="#" onclick="return false;"><%= userCreated.username %></a>\n      </p>\n    </div>\n    <div class="commentBody">\n      <textarea name="comment" class="compose" placeholder="Comment"/></textarea><br/>\n      <div class="btn-toolbar" style="margin-left: 6px">\n        <button class="btn btn-small monitored active pull-right" style="margin-left: 6px" onclick="jQuery(this).toggleClass(\'active\')"><i class="icon-eye-open"></i></button>\n        <button class="btn btn-small locked btn-toggle pull-right" onclick="jQuery(this).toggleClass(\'active\')"><i class="icon-lock"></i></button>\n        <button class="btn btn-small closeme">Save</button>\n      </div>\n    </div>\n  </div>\n  '+m+"\n</div>"),b=_.template('<div class="comment-proxy">\n  <span class="commentUser">\n  <% if (userCreated) { %>\n    <img class="userPicture" src="<%= userCreated.imageUrl %>" width="16" height="16">\n  <% } else { %>\n    <img class="userPicture" src="/i/user_none_sm.jpg" width="16" height="16">\n  <% } %>\n  </span>\n  <span class="commentReplies"><%= 1 + _(replyPages).reduce(function(memo, page){ return memo + page.digests.length; }, 0) %></span>\n</div>')
}.call(this),ws.namespace("ws.dialog"),ws.dialog=function(e){function t(){return jQuery("<div>").dialog({modal:!0}).closest(".ui-dialog").hide().end()}function n(t){if(t.get(0).contentWindow.document.body){var n=e("body",t.get(0).contentWindow.document).width()+20;n>t.attr("width")&&t.attr("width",n),t.attr("height",e("body",t.get(0).contentWindow.document).height()+40)}}function i(t){var n=Math.max((e(window).height()-t.parent().height())/2.2,0)+e(window).scrollTop();t.parent().css("top",n+"px")}function r(t,r,o,a){var s=e("#dialogContent",a.get(0).contentWindow.document);if(0===s.length)return window.location.href=t,undefined;if(0!==s.contents().length){var l=s.find(".WikispacesContent"),c=l.data("dialogwidth"),u=l.data("dialogheight");c&&a.attr("width",c-40),u&&a.attr("height",u),o.dialog("option",{width:parseInt(a.attr("width"),10)+40,title:l.find(".pageTitle").html()}),o.dialog("option",{width:parseInt(a.attr("width"),10)+40}),r&&!o.dialog("isOpen")&&(r.dialog("destroy"),r=null),o.dialog("open");var d=a.get(0).contentWindow;d.jQuery("body",d.document).bind("resize.dialog",function(){a.is(":visible")&&(n(a),ws.common.hideOverlappingEmbeds(o,!0)),e(document).trigger("resize.dialog")}),l.data("noresize")||n(a),i(o),ws.common.hideOverlappingEmbeds(o,!0),s.find("ul, ol").find("input:visible, textarea:visible").first().filter("input:text, textarea").focus()}}function o(r,o,s,l,c,u){var d=t(),h=e("<div>").addClass("frameDialog").css({padding:0,overflow:"hidden"}).dialog({modal:!0,resizable:!1,draggable:!1,title:r,width:s,autoOpen:!1});a.push(h);var f=e("<div id='tabs'><ul></ul></div>").appendTo(h),p=0;return _(o).each(function(t,r){f.find("ul").append(e('<li><a href="#tabs-'+r+'">'+t.label+"</a></li>"));var o=e("<iframe>").attr({src:ws.common.addUriParams(t.path,[["f","dialog"]]),frameborder:"no",scrolling:"auto",width:s-40,height:l});e("<div>").attr("id","tabs-"+r).appendTo(f).append(o),(t.id==c||!c&&0===r)&&(p=r,o.load(function(){return $dialogContent=e("#dialogContent",o.get(0).contentWindow.document),0===$dialogContent.length?(window.location.href=src,undefined):(0!==$dialogContent.contents().length&&(d&&(d.dialog("destroy"),d=null),n(o),h.dialog("open"),n(o),i(h)),undefined)})),o.load(function(){var t=o.get(0).contentWindow;t.jQuery("body",t.document).bind("resize.dialog",function(){o.is(":visible")&&(n(o),ws.common.hideOverlappingEmbeds(h)),e(document).trigger("resize.dialog")}),o.is(":visible")&&(n(o),ws.common.hideOverlappingEmbeds(h),$dialogContent.find("ul, ol").find("input:visible, textarea:visible").first().filter("input:text, textarea").focus()),e(document).trigger("dialogonload",[h,o])})}),f.tabs({show:function(t,i){if(n(e("iframe",i.panel)),e("iframe",i.panel).get(0)){var r=e("iframe",i.panel).get(0).contentWindow;_.isFunction(r.callOnTabSelect)&&r.callOnTabSelect()}},selected:p}),h.bind("dialogclose",function(){ws.common.hideOverlappingEmbeds(h),a.pop(),u&&u()}),h}var a=[],s=null;return e(document).ready(function(){wikispaces_isMobileSite||(e(document).on("click",".WikispacesDialogLink,.WikispacesModelessDialogLink",ws.common.makeLinkClickFunction(function(){var t=e(this).data("dialogonclose"),n=e(this).hasClass("WikispacesModelessDialogLink");ws.dialog.frameDialog(this.href,ws.common.resolveNameToBoundFunction(t),{modeless:n})})),e(".WikispacesXDomainDialogLink").on("click",ws.common.makeLinkClickFunction(function(){var t=e(this).attr("href"),n=ws.common.getURLParameter("goto");n||(n=window.location.href),ws.common.addUriParams(t,[["goto",n]]),ws.dialog.xDomainDialog(t)})),e(document).on("dialogclose",function(t){e(t.target).closest(".ui-dialog").find("*").addBack().remove()}))}),{xDomainDialog:function(n){s&&s.dialog("close");var r=e("<iframe>").attr({src:ws.common.addUriParams(n,[["f","dialog"],["pwin",window.location.href]]),frameborder:"no",scrolling:"auto",width:480,height:300}),o=e("<div>").addClass("frameDialog xDomainDialog").append(r).dialog({modal:!0,draggable:!1,resizable:!1,autoOpen:!0,minWidth:490});o.css("height","auto"),s=o,e.receiveMessage(function(e){var n;if(n=e.data.match(/title=(.*?)(?:&|$)/))return o.dialog("option","title",ws.common.escapeHtml(decodeURIComponent(n[1]))),undefined;if(n=e.data.match(/openDialog=(.+?)(?:&|$)/))return o.dialog("close"),s=null,ws.dialog.frameDialog(decodeURIComponent(n[1])),undefined;if(n=e.data.match(/redirect=(.+?)(?:&|$)/))return o.dialog("close"),t(),window.location.href=decodeURIComponent(n[1]),undefined;if(e.data.match(/closeAndReload/))return o.dialog("close"),t(),window.location.reload(),undefined;if(n=e.data.match(/dim=(\d+)x(\d+)/)){var a=Number(n[1]),l=Number(n[2]);a>r.attr("width")&&(r.attr("width",a+40),o.dialog("option","width",a+50)),r.attr("height",l).css("height",l),i(o)}})},resizeXDomainFrame:function(t){e.postMessage({dim:e(document).width()+"x"+e(document).height()},t)},titleXDomainDialog:function(t,n){n||(n=e(".pageTitle").text()),e.postMessage("title="+encodeURIComponent(n),t)},newObjectDialog:function(t,n){var i=[{id:"page",label:"New Page",path:ws.common.pathFor("space","page")},{id:"doc",label:"New Google Doc",path:ws.common.pathFor("doc","create")},{id:"files",label:"Upload Files",path:ws.common.pathFor("file","upload")},{id:"template",label:"New Template",path:ws.common.pathFor("space","createtemplate")}];n||(i=[i[0],i[2],i[3]]);var r=o("New",i,750,350,t,function(){r.find("iframe").each(function(e,t){t.contentWindow.callFinally&&t.contentWindow.callFinally()})});e("#tabs",r).addClass("ui-tabs-vertical ui-helper-clearfix"),e("#tabs li",r).removeClass("ui-corner-top").addClass("ui-corner-left"),e("iframe",r).each(function(){var t=e(this).attr("width")-e(".ui-tabs-nav",r).width();e(this).attr("width",t),e(this).closest(".ui-tabs-panel").css("width",t)})},frameDialog:function(n,i,o){var s=_.extend({modeless:!1},o);try{if(window.parent!=window&&parent.ws&&parent.ws.dialog){var l=parent.ws.dialog.frameDialog(n,i,s);return l.find("iframe")&&(l.find("iframe").get(0).contentWindow.dialogParent=window),l}}catch(c){}var u=null;s.modeless||(u=t());var d=e("<iframe>").attr({src:ws.common.addUriParams(n,[["f","dialog"]]),frameborder:"no",scrolling:"auto"}),h=e("<div>").addClass("frameDialog").append(d).dialog({modal:!s.modeless,draggable:s.modeless,resizable:!1,autoOpen:!1});return a.push(h),d.bind("load",function(){r(n,u,h,d),e(document).trigger("dialogonload",[h,d])}),h.bind("dialogclose",function(){ws.common.hideOverlappingEmbeds(h),a.pop(),i&&i()}),d.get(0).contentWindow.dialogParent=window,h},closeDialog:function(e){e||(e={});var n=_(a).last();n&&n.dialog("close");var i=_(a).isEmpty()?window:_(a).last().find("iframe").get(0).contentWindow;e.reload?i.location.reload():e.redirect?(t(),window.location.href=e.redirect):e.notices&&(n&&(n.dialog("destroy"),n.remove()),i.ws.common.removeNotice(),i.ws.common.addJsonNotices(e))}}}(jQuery),ws.namespace("ws.editableWebsite"),ws.editableWebsite=function(e){return e(document).ready(function(){e("a.WikispacesEditableHideControls").click(function(e){e.preventDefault(),ws.editableWebsite.showControls(!1)}),e("a.WikispacesEditableShowControls").click(function(e){e.preventDefault(),ws.editableWebsite.showControls()})}),{controlsVisible:function(){var t=e(".WikispacesEditableShowControls");return 0===t.length?!0:!t.is(":visible")},showControls:function(t){return t===undefined&&(t=!0),ret=e.ajax(ws.common.pathFor("wiki","editable")+"?flag="+(t+0)),e("a.WikispacesEditableShowControls").toggle(!t),e("a.WikispacesEditableHideControls").toggle(t),e(".WikiControls").toggle(t),t||WikispacesCommentManager.hideAll(),ret}}}(jQuery),ws.namespace("ws.editor"),ws.editor=function(e){var t="wsMainEditor",n=["wscommon","wsundo","wslink","wsstyle","wstable","wsimage","wswidget","wslist","wsobjectresize","wsselection","wsblockformat","autoresize","rgbcolor","wsbrtop","wscommentspace"],i=["wssave","wsautosave","wsundomain","wspreview","wspreviewtext","wsassessment","wsreference","wsautoload","wstext","wslinktext","wsimagetext","wstabletext","wswidgettext","wsstyletext","wstoolbarscroll","wssubeditor","wspopup","wssavewithcommentpopup","wsdraftrecoveredpopup","wscleanuppopup","wsconcurrenteditorpopup","wsimagepopup","wslinkpopup","wsstylepopup","wstablepopup","wswidgetpopup","wsimageoverlay","wswidgetoverlay","wstableoverlay","wsexpireddraftpopup","wslinkoverlay","wscomment"],r=e.Deferred();return{_editorDeferred:r,editorLoaded:r.promise(),loadEditor:function(r,o){var a={mode:"exact",language:"",convert_newlines_to_brs:!1,apply_source_formatting:!1,force_br_newlines:!1,force_p_newlines:!0,forced_root_block:"p",body_class:"wiki",formats:{underline:{inline:"u"}},gecko_spellcheck:!0,inline_styles:!1,fix_list_elements:!1,theme:"-subeditor",convert_urls:!1},s={elements:t,plugins:"-paste,-"+n.concat(i).join(",-"),theme_wikispaces_toolbar_align:"left",theme_wikispaces_toolbar_location:"external",paste_remove_styles_if_webkit:!1,paste_retain_style_properties:"all",paste_remove_word_images:!1,wsautosave_enabled:"page"==wikispaces_object,wssubeditor_plugins:"-paste,-"+n.join(",-"),wssubeditor_options:e.extend({},a,r),button_tile_map:!0,theme:"-wikispaces",add_form_submit_trigger:!1,submit_patch:!1,setup:function(e){tinymce.mainEditor=e,e.onInit.add(function(e){e.focus()})}};tinyMCE.isIDevice&&(tinyMCE.isIDevice=!1),tinyMCE.init(e.extend({},a,r,s,o))},loadEditorPlugins:function(t){var r,o="?_="+(new Date).valueOf();e.each(["wikispaces","subeditor","reference"].reverse(),function(e,t){var n=r;r=function(){tinymce.ThemeManager.load(t,"/s/js/editor/themes/"+t+"/editor_template_src.js"+o,n)}}),e.each(["wscleanup"].concat(n,i).reverse(),function(e,t){var n="";this.match(/^ws/)||(n="-lib");var i=r;r=function(){tinymce.PluginManager.load(t,"/s/js/editor"+n+"/plugins/"+t+"/editor_plugin_src.js"+o,i)}}),r(),tinymce.ScriptLoader.loadQueue(t)},loadEditorLibs:function(e){var t=document.createElement("script");t.type="text/javascript",t.src=e,document.getElementsByTagName("head")[0].appendChild(t)},enableButtons:function(){e(".editButton").css("cursor","pointer").bind("click.wsEditor",ws.common.makeLinkClickFunction(function(){e(this).unbind("click.wsEditor").addClass("Current"),e(".WikispacesNotice").fadeOut(),ws.common.displayBanner(!1),ws.navigation.app.collapse();try{ws.editor.disableEditButtons(),ws.editor.startEditor.call(this)}catch(t){return ws.common.log(t),!0}}))},restoreButtons:function(){e(".editButton").unbind("click.wsEditor")},disableEditButtons:function(t){e(t).find(".editButton").css("cursor","default").attr("href","#").unbind("click.wsEditor")}}}(jQuery),ws.namespace("ws.editor.content"),ws.editor.content=function(e){var t={draftRecovered:'<div id="draftRecovered" class="wikispaces_message"><p>We\'ve recovered an unsaved draft from <span id="recoveredDraftDate"></span>.</p><p id="outOfDateDraft" style="display: none;">However, another person has edited this page since your last draft.  If you continue, their changes will be overwritten. To view these changes, <a href="#">click here</a>.</p><p>What would you like to do?</p><button class="wsbtn wsbtn-primary" id="recoverDraft">Edit from Recovered Draft</button><button class="wsbtn" id="discardDraft">Ignore Recovered Draft</button></div>',cleanupPopupContents:'<div id="cleanupPopupContents" style="padding: 5px;"><h1>Style Cleanup</h1><p>Please wait while your page styles are being optimized. <img id="cleanupSpinner" style="vertical-align: top;" src="/i/spinner.gif" width="18" height="18" alt="please wait..."/></p></div>'};return{isLoaded:!1,callbacks:[],loadContent:function(e){if(t[e])return t[e];throw"Unloaded editor part: "+e},setContent:function(e,n){t[e]=n},add:function(e){ws.editor.content.callbacks.push(e),ws.editor.content.isLoaded&&e()},loaded:function(){ws.editor.content.isLoaded=!0,e.each(ws.editor.content.callbacks,function(e,t){t()})}}}(jQuery),jQuery(document).ready(function(e){function t(e){if(-1==e.indexOf("http"))return!1;var t=e.replace("https://","").replace("http://","").split("/")[0],n=location.href.replace("https://","").replace("http://","").split("/")[0];return t!=n}function n(){e(document).on("click","a",function(n){var i=e(this),r=i.attr("href");!r||"javascript:"==r.substring(0,11)||i.hasClass("guider_button")||i.hasClass("nextGuiderLink")||i.hasClass("editButton")||Cookie.get(s)&&(t(r)||o(r))&&(n.preventDefault(),n.stopPropagation(),c=Cookie.get(s),guiders.hideAll(),u=this,guiders.show("misstep-leaving"))})}function i(){var e=Cookie.get(s);if(e){var t=window.guiders;window.parent!=window&&(t=window.parent.guiders),t.show(e)}}function r(e){return"misstep"==e.substring(0,7)}function o(e){if(e=e.replace("https://","").replace("http://",""),e=e.substring(e.indexOf("/"),e.length),"#"==e)return!1;var t=Cookie.get(s);if(t){var n=guiders._guiderById(t);return n.expectedPath?n.expectedPath!=e:!1}return!1}function a(){var e=guiders._guiders[guiders._currentGuiderID];if(e.next==guiders.CALCULATE_NEXT){var t=e.id.split("-");if(3==t.length){var n=guiders.playlists[t[0]][t[1]];e.next=n?n:guiders.playlists[t[0]]["final"]}else e.next="misstep-no-return"}}var s="tour",l=!1,c=null,u=null;guiders.CALCULATE_NEXT="calculate",guiders.loaded=!1,guiders._defaultSettings.expectedPath=null,guiders._defaultSettings.previousId=null,guiders._defaultSettings.xButton=!0,guiders._defaultSettings.preShow=null,guiders._defaultSettings.overlay=!0,guiders._defaultSettings.buttons=[],guiders.playlists={},e(document).on("resize.dialog",function(){guiders.reposition()}),guiders.loadGuiders=function(){return wikispaces_isMobileSite||"C"==ws.context.wiki.module?e.Deferred().reject().promise():guiders.loaded?e.when():e.ajax({url:"/wiki/guiders",dataType:"script",data:{wsobject:wikispaces_object,wsmethod:wikispaces_method,wspage:wikispaces_page}})},guiders.abortTour=function(){guiders.hideAll(),u&&e(u).on("click.guiderclick",function(t){t.isDefaultPrevented()||(window.location.href=e(this).attr("href"))}).click().off("click.guiderclick")},guiders.setMilestone=function(t,n){e.ajax("/wiki/setmilestone/"+t,{type:"POST",data:"stage="+n})},guiders.showPreviousStep=function(){guiders.show(c),c=null},guiders.jumpToStep=function(e){guiders.hideAll(),guiders.show(e)},guiders.advanceGuidersAfterLoad=function(){var e=window.guiders;if(window.parent!=window&&(e=window.parent.guiders),Cookie.get(s)){var t=e._guiderById(Cookie.get(s)),n=t.next;n&&Cookie.set(s,n)}},guiders._showOverlay=function(){},guiders._highlightElement=function(t){"function"==typeof t&&(t=t()),e(document).mask(t)},guiders._dehighlightElement=function(){e(document).mask(!1)},function(){var e=guiders._showIfHashed;guiders._showIfHashed=function(t){l=!0,e.call(guiders,t),l=!1}}(),function(){var t=guiders.createGuider;guiders.createGuider=function(n){if(!n.highlight){if(!e(".hiddenHighlight").length){var i=e('<div class="hiddenHighlight" style="display: none;"></div>');e("body").append(i)}n.highlight=".hiddenHighlight"}t.apply(guiders,arguments);var r=guiders._guiders[guiders._lastCreatedGuiderID];r.elem.find("h1").css("width",r.width-20+"px")}}(),function(){var e=guiders.hideAll;guiders.hideAll=function(){e.apply(guiders,arguments),Cookie.erase(s),guiders._currentGuiderID=null}}(),function(){var e=guiders.next;guiders.next=function(){var t=window.guiders;window.parent!=window&&(t=window.parent.guiders),a(),Cookie.get(s)&&e.apply(t,arguments)}}(),function(){var t=guiders.reposition;guiders.reposition=function(){if(t.apply(guiders,arguments),guiders._currentGuiderID){var n=guiders._guiderById(guiders._currentGuiderID);n.highlight&&(guiders._dehighlightElement(n.highlight),guiders._highlightElement(n.highlight));var i=e(n.elem),r=!1,o=i.offset().left;0>o&&(i.width(i.width()+o-1),r=!0),o+i.width()>e("body").width()&&(i.width(e("body").width()-o),r=!0);var a=i.offset().top;0>a&&(i.height(i.height()+a-1),r=!0),a+i.height()>e("body").height()&&(i.height(e("body").height()-a),r=!0),r&&(t.apply(guiders,arguments),guiders._styleArrow(myGuider))}}}(),function(){var t=guiders.show;guiders.show=function(n){e(".nextGuiderLink").removeClass("nextGuiderLink");var i=guiders._guiderById(n);if(i.expectedPath&&i.expectedPath!=window.location.pathname)return Cookie.set(s,n),window.location=i.expectedPath+window.location.hash,void 0;var o=function(){try{t.call(guiders,n),guiders._styleArrow(i),r(n)||Cookie.set(s,n)}catch(e){return guiders.hideAll(),"misstep-no-return"==n?alert("There was a problem with the help system."):guiders.show("misstep-no-return"),void 0}};if("function"==typeof i.preShow){var a=i.preShow.call(guiders);a.done(o)}else o()},!Cookie.get(s)&&1!=window.location.hash.indexOf("guider")||window.parent!=window||e(window).load(function(){guiders.loadGuiders().done(function(){l||i()})}),n()}()}),ws.namespace("ws.guidercontent"),ws.guidercontent=function(){var e={};return{set:function(t,n){e[t]=n},get:function(t){if(e[t])return e[t];throw"Unloaded guider stages content "+t}}}(jQuery),ws.namespace("ws.guiders.stages"),ws.guiders.stages=function(e){function t(){this.createMiscStages=function(){guiders.createGuider({id:"misstep-no-return",title:ws.guidercontent.get("misstep1Title"),description:ws.guidercontent.get("misstep1Description"),buttons:[{name:ws.guidercontent.get("buttonEndTour"),onclick:function(e){guiders.hideAll(),e.preventDefault()}}]}),guiders.createGuider({id:"misstep-leaving",title:ws.guidercontent.get("misstep2Title"),description:ws.guidercontent.get("misstep2Description"),buttons:[{name:ws.guidercontent.get("buttonGoBack"),onclick:function(e){guiders.hideAll(),guiders.showPreviousStep(),e.preventDefault()}},{name:ws.guidercontent.get("buttonEndTour"),onclick:function(e){guiders.abortTour(),e.preventDefault()}}]})},this.createintroStage=function(t,n,i,r){guiders.createGuider({id:t+"-intro-1",next:t+"-intro-2",title:ws.guidercontent.get("intro1Title"),description:ws.guidercontent.get("intro1Description"),buttons:[{name:ws.guidercontent.get("buttonEndTour"),onclick:function(e){guiders.hideAll(),e.preventDefault()}},{name:ws.guidercontent.get("buttonNext"),onclick:function(e){guiders.next(),e.preventDefault()}}],expectedPath:r}),guiders.createGuider({id:t+"-intro-2",next:n,title:ws.guidercontent.get("intro2Title"),description:ws.guidercontent.get("intro2Description"),buttons:[{name:ws.guidercontent.get("buttonNext"),onclick:function(e){guiders.next(),e.preventDefault()}}],preShow:function(){var t=e.Deferred();return e(document).on("showPanel",function(e,n){"Help"==n&&t.resolve()}),ws.navigation.app.show("Help"),t.promise()},onShow:function(){e(".WikiInternalHeaderNav a").on("click.guider",function(e){e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation()})},onHide:function(){ws.navigation.app.collapse(),jQuery(".WikiInternalHeaderNav a").off("click.guider")},attachTo:".WikiInternalHeaderNav",highlight:".WikiInternalHeaderNav",position:9})},this.createeditStage=function(t,i,r,o){guiders.createGuider({id:t+"-edit-1",next:t+"-edit-2",title:ws.guidercontent.get("edit1Title"),description:ws.guidercontent.get("edit1Description"),attachTo:".editButton",position:6,highlight:".editButton",preShow:function(){return ws.editableWebsite.showControls()},onShow:function(){ws.editor.restoreButtons(),e(".editButton").on("click.guider",guiders.next)},onHide:function(){e(".editButton").off("click.guider")},expectedPath:o}),guiders.createGuider({id:t+"-edit-2",next:t+"-edit-3",title:ws.guidercontent.get("edit2Title"),description:ws.guidercontent.get("edit2Description"),attachTo:"#wsMainEditor_container",highlight:"#wsMainEditor_container",buttons:[{name:ws.guidercontent.get("buttonNext"),onclick:function(e){guiders.next(),e.preventDefault()}}],preShow:n,expectedPath:ws.common.pathFor("page","edit",wikispaces_page)}),guiders.createGuider({id:t+"-edit-3",next:t+"-edit-4",title:ws.guidercontent.get("edit3Title"),description:ws.guidercontent.get("edit3Description"),attachTo:"#wsMainEditor_wssave_action",position:9,highlight:"#wsMainEditor_wssave_action",preShow:n,onShow:function(){e("#wsMainEditor_wssave_action").on("click.guider",guiders.advanceGuidersAfterLoad)},onHide:function(){ws.editor.editorLoaded.done(function(){e("#wsMainEditor_wssave_action").off("click.guider")})},expectedPath:ws.common.pathFor("page","edit",wikispaces_page)}),guiders.createGuider({id:t+"-edit-4",next:i,title:ws.guidercontent.get("edit4Title"),description:ws.guidercontent.get("edit4Description"),buttons:[{name:ws.guidercontent.get("buttonNext"),onclick:function(e){guiders.next(),e.preventDefault()}}],onShow:function(){guiders.setMilestone(t,"edit")}})},this.createfileStage=function(t,r,o,a){guiders.createGuider({id:t+"-file-1",next:t+"-file-2",title:ws.guidercontent.get("file1Title"),description:ws.guidercontent.get("file1Description"),buttons:[{name:ws.guidercontent.get("buttonNext"),onclick:function(e){guiders.next(),e.preventDefault()}}]}),guiders.createGuider({id:t+"-file-2",next:t+"-file-3",title:ws.guidercontent.get("file2Title"),description:ws.guidercontent.get("file2Description"),attachTo:"#WikiActionPagesAndFiles",position:o,highlight:"#WikiActionPagesAndFiles .WikiActionSupplemental",onShow:function(){e(document).one("dialogonload.guiders",function(){guiders.next()})},onHide:function(){e(document).off("dialogonload.guider")}}),guiders.createGuider({id:t+"-file-3",next:t+"-file-4",title:ws.guidercontent.get("file3Title"),description:ws.guidercontent.get("file3Description"),attachTo:".ui-dialog",highlight:function(){return e(".frameDialog #tabs li").eq(-2)},position:9,preShow:function(){if(e(".frameDialog").length)return e.when();var t=e.Deferred();return e(document).one("dialogopen",function(){t.resolve()}),e("#WikiActionPagesAndFiles .WikiActionSupplemental a").click(),t.promise()},onShow:function(){e(document).on("dialogTabChanged.guider",function(e,t){"upload"==t&&guiders.next()})},onHide:function(){e(document).off("dialogTabChanged.guider")},expectedPath:a}),guiders.createGuider({id:t+"-file-4",next:t+"-file-5",title:ws.guidercontent.get("file4Title"),description:ws.guidercontent.get("file4Description"),preShow:i,onShow:function(){e(document).on("fileUploaded.guider",guiders.next)},onHide:function(){e(document).off("fileUploaded.guider")},attachTo:".ui-dialog",highlight:".ui-tabs-panel",position:12}),guiders.createGuider({id:t+"-file-5",next:t+"-file-6",title:ws.guidercontent.get("file5Title"),description:ws.guidercontent.get("file5Description"),preShow:i,onShow:function(){e(document).on("dialogclose.guider","div.ui-dialog-titlebar",guiders.next)},onHide:function(){e(document).off("dialogclose.guider")},attachTo:".ui-dialog",position:1,highlight:".ui-dialog-titlebar-close",expectedPath:a}),guiders.createGuider({id:t+"-file-6",next:t+"-file-7",title:ws.guidercontent.get("file6Title"),description:ws.guidercontent.get("file6Description"),attachTo:".editButton",position:6,highlight:".editButton",onShow:function(){ws.editor.restoreButtons(),e(".editButton").on("click.guider",guiders.next)},onHide:function(){e(".editButton").off(".guider")},expectedPath:a}),guiders.createGuider({id:t+"-file-7",next:t+"-file-8",title:ws.guidercontent.get("file7Title"),description:ws.guidercontent.get("file7Description"),attachTo:"#wsMainEditor_wsimage",position:6,highlight:"#wsMainEditor_wsimage",preShow:n,onShow:function(){e("#wsMainEditor_wsimage").addClass("nextGuiderLink").on("click.guider",guiders.next)},onHide:function(){ws.editor.editorLoaded.done(function(){e(document).off("click.guider")})},expectedPath:ws.common.pathFor("page","edit",wikispaces_page)}),guiders.createGuider({id:t+"-file-8",next:t+"-file-9",title:ws.guidercontent.get("file8Title"),description:ws.guidercontent.get("file8Description"),attachTo:".fileList",highlight:"#imageDivTable .fileList, #imageDivTable .inputArea, #imageDivTable #imagePages",position:3,preShow:function(){return n(function(){e(".wsPopup .fileList").length||tinymce.activeEditor.wsExecCommand("wsimage")})},onShow:function(){e(".fileList").on("click.guider","li",guiders.next)},onHide:function(){ws.editor.editorLoaded.done(function(){e(".fileList li").off("click.guider")})},expectedPath:ws.common.pathFor("page","edit",wikispaces_page)}),guiders.createGuider({id:t+"-file-9",next:t+"-file-10",title:ws.guidercontent.get("file9Title"),description:ws.guidercontent.get("file9Description"),attachTo:"#wsMainEditor_wssave_action",position:6,highlight:"#wsMainEditor_wssave_action",preShow:n,onShow:function(){e("#wsMainEditor_wssave_action").on("click.guider",guiders.advanceGuidersAfterLoad)},onHide:function(){ws.editor.editorLoaded.done(function(){e("#wsMainEditor_wssave_action").off("click.guider")})},expectedPath:ws.common.pathFor("page","edit",wikispaces_page)}),guiders.createGuider({id:t+"-file-10",next:r,title:ws.guidercontent.get("file10Title"),description:ws.guidercontent.get("file10Description"),buttons:[{name:ws.guidercontent.get("buttonNext"),onclick:function(e){guiders.next(),e.preventDefault()}}],onShow:function(){guiders.setMilestone(t,"file")},expectedPath:a})},this.createnavStage=function(t,n,i,r){guiders.createGuider({id:t+"-nav-1",next:t+"-nav-2",title:ws.guidercontent.get("nav1Title"),description:ws.guidercontent.get("nav1Description"),preShow:function(){return ws.navbar.setEditMode(!1)},buttons:[{name:ws.guidercontent.get("buttonNext"),onclick:function(e){guiders.next(),e.preventDefault()}}]}),guiders.createGuider({id:t+"-nav-2",next:t+"-nav-3",title:ws.guidercontent.get("nav2Title"),description:ws.guidercontent.get("nav2Description"),attachTo:".WikispacesNavbar",position:i,highlight:".WikispacesNavbar",preShow:function(){return ws.navbar.setEditMode(!1)},buttons:[{name:ws.guidercontent.get("buttonNext"),onclick:function(e){guiders.next(),e.preventDefault()}}]});var o=ws.navbar.setEditMode;guiders.createGuider({id:t+"-nav-3",next:t+"-nav-4",title:ws.guidercontent.get("nav3Title"),description:ws.guidercontent.get("nav3Description"),attachTo:".WikispacesCustomNavEdit",position:i,highlight:".WikispacesCustomNavEdit",preShow:function(){return ws.navbar.setEditMode(!1)},onShow:function(){ws.navbar.setEditMode=function(){return o.apply(this,arguments).done(function(){guiders.next()})}},onHide:function(){ws.navbar.setEditMode=o}});var a=ws.navbar.addTag;guiders.createGuider({id:t+"-nav-4",next:t+"-nav-5",title:ws.guidercontent.get("nav4Title"),description:ws.guidercontent.get("nav4Description"),attachTo:"#WikispacesNavbarOptions",position:i,highlight:"#WikispacesNavbarOptions .WikispacesNavbarNewTagNavbarForm",preShow:function(){return ws.navbar.setEditMode()},onShow:function(){ws.navbar.addTag=function(){return a.apply(this,arguments).done(function(){guiders.next()})}},onHide:function(){ws.navbar.addTag=a}}),guiders.createGuider({id:t+"-nav-5",next:t+"-nav-6",title:ws.guidercontent.get("nav5Title"),description:ws.guidercontent.get("nav5Description"),attachTo:"#WikispacesNavbarTags",position:i,highlight:".WikispacesNavbar",preShow:function(){return ws.navbar.setEditMode()},buttons:[{name:ws.guidercontent.get("buttonNext"),onclick:function(e){guiders.next(),e.preventDefault()}}]});var s=ws.common.showMorePageBar;guiders.createGuider({id:t+"-nav-6",next:t+"-nav-7",title:ws.guidercontent.get("nav6Title"),description:ws.guidercontent.get("nav6Description"),attachTo:".ButtonMore",position:6,highlight:".ButtonMore",preShow:function(){return ws.navbar.setEditMode()},onShow:function(){ws.common.showMorePageBar=function(){s.apply(this,arguments),guiders.next()}},onHide:function(){ws.common.showMorePageBar=s},expectedPath:r});var l=ws.common.hideMorePageBar,c=ws.tags.showInput;guiders.createGuider({id:t+"-nav-7",next:t+"-nav-8",title:ws.guidercontent.get("nav7Title"),description:ws.guidercontent.get("nav7Description"),attachTo:".MoreMenu",position:6,highlight:".MoreMenu tr:first",preShow:function(){return ws.navbar.setEditMode().done(function(){ws.common.showMorePageBar(),e(".MoreMenu .WikiTagsInput:visible .WikiTagFormCancel").click()})},onShow:function(){ws.common.hideMorePageBar=function(){},ws.tags.showInput=function(){c.apply(this,arguments),guiders.next()}},onHide:function(){ws.common.hideMorePageBar=l,ws.tags.showInput=c},expectedPath:r});var u=ws.navbar.refresh;guiders.createGuider({id:t+"-nav-8",next:t+"-nav-9",title:ws.guidercontent.get("nav8Title"),description:ws.guidercontent.get("nav8Description"),attachTo:".MoreMenu",position:6,highlight:".MoreMenu tr:first",preShow:function(){return ws.navbar.setEditMode().done(function(){ws.common.showMorePageBar(),e(".MoreMenu .WikiTagList:visible .WikiTagsEditLink").click()})},onShow:function(){ws.common.hideMorePageBar=function(){},e(".WikiTagsInput button").on("click.guider",function(){e(document).mask()}),ws.navbar.refresh=function(e){return u.apply(this,arguments).done(function(){e&&guiders.next()})}},onHide:function(){ws.common.hideMorePageBar=l,ws.navbar.refresh=u,e(".WikiTagsInput button").off("click.guider")},expectedPath:r}),guiders.createGuider({id:t+"-nav-9",next:t+"-nav-10",title:ws.guidercontent.get("nav9Title"),description:ws.guidercontent.get("nav9Description"),attachTo:".WikispacesNavbar",position:i,highlight:".WikispacesNavbar",preShow:function(){return ws.navbar.setEditMode()},onShow:function(){ws.common.hideMorePageBar()},buttons:[{name:ws.guidercontent.get("buttonNext"),onclick:function(e){guiders.next(),e.preventDefault()}}]}),o=ws.navbar.setEditMode,guiders.createGuider({id:t+"-nav-10",next:n,title:ws.guidercontent.get("nav10Title"),description:ws.guidercontent.get("nav10Description"),attachTo:".WikispacesNavbarEditDone",position:i,highlight:".WikispacesNavbarEditDone",preShow:function(){return ws.navbar.setEditMode()},onShow:function(){ws.navbar.setEditMode=function(){return o.apply(this,arguments).done(function(){guiders.setMilestone(t,"nav"),guiders.next()})}},onHide:function(){ws.navbar.setEditMode=o}})},this.createinviteStage=function(t,n,i){guiders.createGuider({id:t+"-invite-1",next:t+"-invite-2",title:ws.guidercontent.get("invite1Title"),description:ws.guidercontent.get("invite1Description"),buttons:[{name:ws.guidercontent.get("buttonNext"),onclick:function(e){guiders.next(),e.preventDefault()}}]}),guiders.createGuider({id:t+"-invite-2",next:t+"-invite-3",title:ws.guidercontent.get("invite2Title"),description:ws.guidercontent.get("invite2Description"),attachTo:"#WikiActionMembers",position:i,highlight:"#WikiActionMembers .WikiActionSupplemental",onShow:function(){e(document).one("dialogonload.guiders",function(){guiders.next()})},onHide:function(){e(document).off("dialogonload.guider")}}),guiders.createGuider({id:t+"-invite-3",next:t+"-invite-4",title:ws.guidercontent.get("invite3Title"),description:ws.guidercontent.get("invite3Description"),attachTo:".ui-dialog",highlight:".frameDialog",position:9,buttons:[{name:ws.guidercontent.get("buttonSkip"),onclick:function(t){guiders.next(),e(".ui-dialog .ui-dialog-titlebar-close").click(),t.preventDefault()}}],preShow:function(){var t=e.Deferred();return e(".frameDialog").length?t.resolve():(e(document).one("dialogonload.guiders",function(){t.resolve()}),e("#WikiActionMembers .WikiActionSupplemental a").addClass("nextGuiderLink").click().removeClass("nextGuiderLink")),t.promise()},onShow:function(){e(document).on("dialogclose.guider",guiders.next)},onHide:function(){e(document).off("dialogclose.guider")}}),guiders.createGuider({id:t+"-invite-4",next:t+"-invite-5",title:ws.guidercontent.get("invite4Title"),description:ws.guidercontent.get("invite4Description"),attachTo:"#WikiActionMembers",position:i,onShow:function(){e('#WikiActionMembers a:not(".WikispacesDialogLink")').on("click.guider",guiders.next)},onHide:function(){e('#WikiActionMembers a:not(".WikispacesDialogLink")').off("click.guider")},highlight:"#WikiActionMembers a:not('.WikispacesDialogLink')"}),guiders.createGuider({id:t+"-invite-5",next:n,title:ws.guidercontent.get("invite5Title"),description:ws.guidercontent.get("invite5Description"),highlight:".PendingEmailInvitations table.cob > *, #WikiTableMemberList table.cob > *",buttons:[{name:ws.guidercontent.get("buttonNext"),onclick:function(e){guiders.next(),e.preventDefault()}}],onShow:function(){guiders.setMilestone(t,"invite")
},expectedPath:"/wiki/members"})},this.createpermissionsStage=function(t,n,i){guiders.createGuider({id:t+"-permissions-1",next:t+"-permissions-2",title:ws.guidercontent.get("permissions1Title"),description:ws.guidercontent.get("permissions1Description"),buttons:[{name:ws.guidercontent.get("buttonNext"),onclick:function(e){guiders.next(),e.preventDefault()}}],preShow:function(){return ws.editableWebsite.showControls()}}),guiders.createGuider({id:t+"-permissions-2",next:t+"-permissions-3",title:ws.guidercontent.get("permissions2Title"),description:ws.guidercontent.get("permissions2Description"),attachTo:"#WikiActionManage",position:i,highlight:"#WikiActionManage",onShow:function(){e("#WikiActionManage a").on("click.guider",guiders.next)},onHide:function(){e("#WikiActionManage a").off("click.guider")}});var r='.nav-list a[href*="permissions"]';guiders.createGuider({id:t+"-permissions-3",next:t+"-permissions-4",title:ws.guidercontent.get("permissions3Title"),description:ws.guidercontent.get("permissions3Description"),attachTo:r,position:3,highlight:r,onShow:function(){e(r).on("click.guider",guiders.next).addClass("nextGuiderLink")},onHide:function(){e(r).off("click.guider")},expectedPath:"/wiki/about"}),guiders.createGuider({id:t+"-permissions-4",next:t+"-permissions-5",title:ws.guidercontent.get("permissions4Title"),description:ws.guidercontent.get("permissions4Description"),attachTo:"form[action*=permissions] fieldset:first button",position:3,highlight:"form[action*=permissions] fieldset:first",onShow:function(){e("form[action*=permissions]").on("submit.guider",guiders.advanceGuidersAfterLoad)},onHide:function(){e("form[action*=permissions]").off("submit.guider")},expectedPath:"/space/permissions"}),guiders.createGuider({id:t+"-permissions-5",next:n,title:ws.guidercontent.get("permissions5Title"),description:ws.guidercontent.get("permissions5Description"),buttons:[{name:ws.guidercontent.get("buttonNext"),onclick:function(e){guiders.next(),e.preventDefault()}}],onShow:function(){guiders.setMilestone(t,"permissions")},expectedPath:"/space/permissions"})},this.createcolorStage=function(t,n,i){guiders.createGuider({id:t+"-color-1",next:t+"-color-2",title:ws.guidercontent.get("color1Title"),description:ws.guidercontent.get("color1Description"),buttons:[{name:ws.guidercontent.get("buttonNext"),onclick:function(e){guiders.next(),e.preventDefault()}}]}),guiders.createGuider({id:t+"-color-2",next:t+"-color-3",title:ws.guidercontent.get("color2Title"),description:ws.guidercontent.get("color2Description"),attachTo:"#WikiActionManage",position:i,onShow:function(){e("#WikiActionManage a").on("click.guider",guiders.next)},onHide:function(){e("#WikiActionManage a").off("click.guider")},highlight:"#WikiActionManage"}),guiders.createGuider({id:t+"-color-3",next:t+"-color-4",title:ws.guidercontent.get("color3Title"),description:ws.guidercontent.get("color3Description"),attachTo:'a[href*="theme/list"]',position:6,highlight:'a[href*="theme/list"]',onShow:function(){e('a[href*="theme/list"]').on("click.guider",guiders.next).addClass("nextGuiderLink")},onHide:function(){e('a[href*="theme/list"]').off("click.guider")},expectedPath:"/wiki/about"}),guiders.createGuider({id:t+"-color-4",next:t+"-color-5",title:ws.guidercontent.get("color4Title"),description:ws.guidercontent.get("color4Description"),attachTo:".colorSelector:visible",position:12,highlight:".info:visible",onShow:function(){e('form[action*="theme/list"]:first').on("submit.guider",guiders.advanceGuidersAfterLoad)},onHide:function(){e('form[action*="theme/list"]:first').off("submit.guider")},expectedPath:"/theme/list"}),guiders.createGuider({id:t+"-color-5",next:n,title:ws.guidercontent.get("color5Title"),description:ws.guidercontent.get("color5Description"),buttons:[{name:ws.guidercontent.get("buttonNext"),onclick:function(e){guiders.next(),e.preventDefault()}}],onShow:function(){guiders.setMilestone(t,"color")},expectedPath:"/theme/list"})},this.createiconStage=function(t,n){guiders.createGuider({id:t+"-icon-1",next:t+"-icon-2",title:ws.guidercontent.get("icon1Title"),description:ws.guidercontent.get("icon1Description"),buttons:[{name:ws.guidercontent.get("buttonNext"),onclick:function(e){guiders.next(),e.preventDefault()}}]}),guiders.createGuider({id:t+"-icon-2",next:n,title:ws.guidercontent.get("icon2Title"),description:ws.guidercontent.get("icon2Description"),attachTo:".WikispacesEditableControls",position:6,highlight:".WikispacesEditableControls",preShow:function(){return e.when(ws.editableWebsite.showControls(!1),ws.navigation.app.expand())},onShow:function(){e(".WikispacesEditableControls").on("click.guider",guiders.next).addClass("nextGuiderLink"),guiders.setMilestone(t,"icon")},onHide:function(){e(".WikispacesEditableControls").off("click.guider")}})},this.createlogoStage=function(t,n,i){guiders.createGuider({id:t+"-logo-1",next:t+"-logo-2",title:ws.guidercontent.get("logo1Title"),description:ws.guidercontent.get("logo1Description"),attachTo:"#WikiActionManage",position:i,highlight:"#WikiActionManage",preShow:function(){return ws.editableWebsite.showControls()},onShow:function(){e("#WikiActionManage a").on("click.guider",guiders.next).addClass("nextGuiderLink")},onHide:function(){e("#WikiActionManage a").off("click.guider")}}),guiders.createGuider({id:t+"-logo-2",next:t+"-logo-3",title:ws.guidercontent.get("logo2Title"),description:ws.guidercontent.get("logo2Description"),attachTo:'a[href*="wiki/logo"]',position:3,highlight:'a[href*="wiki/logo"]',onShow:function(){e('a[href*="wiki/logo"]').on("click.guider",guiders.next).addClass("nextGuiderLink")},onHide:function(){e('a[href*="wiki/logo"]').off("click.guider")},expectedPath:"/wiki/about"}),guiders.createGuider({id:t+"-logo-3",next:t+"-logo-4",title:ws.guidercontent.get("logo3Title"),description:ws.guidercontent.get("logo3Description"),attachTo:'form[action*="/wiki/logo"] input[name=userfile]',position:3,highlight:'form[action*="/wiki/logo"] input[name=userfile]',onShow:function(){e("input[name=userfile]").on("change",guiders.next)},onHide:function(){e("input[name=userfile]").off("change")},expectedPath:"/wiki/logo"}),guiders.createGuider({id:t+"-logo-4",next:t+"-logo-5",title:ws.guidercontent.get("logo4Title"),description:ws.guidercontent.get("logo4Description"),attachTo:'form[action*="/wiki/logo"] button[name=go]',position:3,highlight:'form[action*="/wiki/logo"] button[name=go]',onShow:function(){e('form[action*="/wiki/logo"]').on("submit.guiders",guiders.advanceGuidersAfterLoad)},onHide:function(){e('form[action*="/wiki/logo"]').off("submit.guiders")}}),guiders.createGuider({id:t+"-logo-5",next:t+"-logo-6",title:ws.guidercontent.get("logo5Title"),description:ws.guidercontent.get("logo5Description"),attachTo:".WikiLogo",position:3,highlight:".WikiLogo",buttons:[{name:ws.guidercontent.get("buttonNext"),onclick:function(e){guiders.next(),e.preventDefault()}}]}),guiders.createGuider({id:t+"-logo-6",next:n,title:ws.guidercontent.get("logo6Title"),description:ws.guidercontent.get("logo6Description"),attachTo:'form[action*="/wiki/logo"] button[name=removeLogo]',position:3,highlight:'form[action*="/wiki/logo"]',onShow:function(){e("body,html").animate({scrollTop:window.screen.height},"fast"),e("button[name=removeLogo]").on("click.guiders",guiders.advanceGuidersAfterLoad),guiders.setMilestone(t,"logo")},onHide:function(){e("body,html").animate({scrollTop:0},"fast"),e("button[name=removeLogo]").off("click.guiders")},buttons:[{name:ws.guidercontent.get("buttonNext"),onclick:function(e){guiders.next(),e.preventDefault()}}]})},this.createthemeStage=function(t,n,i){guiders.createGuider({id:t+"-theme-1",next:t+"-theme-2",title:ws.guidercontent.get("theme1Title"),description:ws.guidercontent.get("theme1Description"),attachTo:"#WikiActionManage",position:i,highlight:"#WikiActionManage",preShow:function(){return ws.editableWebsite.showControls()},onShow:function(){e("#WikiActionManage a").on("click.guider",guiders.next).addClass("nextGuiderLink")},onHide:function(){e("#WikiActionManage a").off("click.guider")}}),guiders.createGuider({id:t+"-theme-2",next:t+"-theme-3",title:ws.guidercontent.get("theme2Title"),description:ws.guidercontent.get("theme2Description"),attachTo:'a[href*="/theme/list"]',position:3,highlight:'a[href*="/theme/list"]',onShow:function(){e('a[href*="/theme/list"]').on("click.guider",guiders.advanceGuidersAfterLoad).addClass("nextGuiderLink")},onHide:function(){e('a[href*="/theme/list"]').off("click.guider")},expectedPath:"/wiki/about"}),guiders.createGuider({id:t+"-theme-3",next:t+"-theme-4",title:ws.guidercontent.get("theme3Title"),description:ws.guidercontent.get("theme3Description"),attachTo:"#themeSwatches",position:12,highlight:"#themeSwatches",onShow:function(){e(".themeSwatch").on("click.guider",guiders.next)},onHide:function(){e(".themeSwatch").off("click.guider")}}),guiders.createGuider({id:t+"-theme-4",next:t+"-theme-5",title:ws.guidercontent.get("theme4Title"),description:ws.guidercontent.get("theme4Description"),attachTo:".wsbtn-primary:visible",position:12,highlight:".info:visible",onShow:function(){e(".themeRow button.wsbtn-primary").on("click.guider",guiders.advanceGuidersAfterLoad)},onHide:function(){e(".themeRow button.wsbtn-primary").off("click.guider")},expectedPath:"/theme/list"}),guiders.createGuider({id:t+"-theme-5",next:t+"-theme-6",title:ws.guidercontent.get("theme5Title"),description:ws.guidercontent.get("theme5Description"),buttons:[{name:ws.guidercontent.get("buttonNext"),onclick:function(e){guiders.next(),e.preventDefault()}}]});var r=ws.editableWebsite.showControls;guiders.createGuider({id:t+"-theme-6",next:n,title:ws.guidercontent.get("theme6Title"),description:ws.guidercontent.get("theme6Description"),attachTo:".WikispacesEditableControls",position:6,highlight:".WikispacesEditableControls",preShow:function(){return ws.editableWebsite.showControls()},onShow:function(){ws.editableWebsite.showControls=function(){return guiders.setMilestone(t,"theme"),r.apply(this,arguments).done(function(){guiders.advanceGuidersAfterLoad(),window.location="/"})}},onHide:function(){ws.editableWebsite.showControls=r}})},this.createroundupStage=function(e){guiders.createGuider({id:e+"-roundup-1",title:ws.guidercontent.get("roundupTitle"),description:ws.guidercontent.get("roundupDescription"),buttons:[{name:ws.guidercontent.get("buttonEndTour"),onclick:function(e){guiders.hideAll(),e.preventDefault()}}]})}}var n=function(t){var n=e.Deferred();return n.done(t),ws.editor.editorLoaded.done(function(){e("#recoverDraft").click(),n.resolve()}),n.promise()},i=function(){var t=e.Deferred().done(function(){e(".frameDialog #tabs li").eq(-2).find("a").click()});if(e(".frameDialog").length)return t.resolve(),e.when();e(document).on("dialogopen",function(){t.resolve()});var n=e.Deferred();return e(document).on("dialogonload.guiders",function(t,i,r){-1!==r.attr("src").indexOf("/file/upload")&&(e(document).off("dialogonload.guiders"),n.resolve())}),e("#WikiActionPagesAndFiles .WikiActionSupplemental a").click(),e.when(t,n)},r=new t;return{createStages:function(e,t,n,i){r.createMiscStages(),_.each(t,function(t,o,a){r["create"+t+"Stage"](e,e+"-"+a[o+1]+"-1",n,i)})}}}(jQuery),ws.namespace("ws.help"),ws.help=function(e){function t(e){var t=e;return t||(t=""),"/"==t.substr(0,1)&&(t=t.substr(1)),t=decodeURIComponent(t),t=t.replace(/\+/g," "),t.lastIndexOf(".")>0&&(t=t.substr(t.lastIndexOf(".")+1)),t}function i(){e("#WikispacesHelpBreadcrumbs span.WikispacesHelpBreadcrumb").remove(":not(#WikispacesHelpBreadcrumbHome)");var n=a.length-s;1>n&&(n=1);for(var i=n;a.length>i;i++){var r=a[i],o=t(r),l=e("#WikispacesHelpBreadcrumbs span:last"),c='<span class="WikispacesHelpBreadcrumb"> &gt; <a href="'+window.location.protocol+"//help."+wikispaces_main_domain+"/"+r+'" onclick="return ws.help.gotoBreadcrumb(\''+i+"');\">"+o+"</a></span>";l.after(" "+c)}a.length-1>s?e("#WikispacesHelpBreadcrumbsEllipsis").show():e("#WikispacesHelpBreadcrumbsEllipsis").hide(),e("#WikispacesHelpBreadcrumbs .WikispacesHelpBreadcrumbCurrent").removeClass("WikispacesHelpBreadcrumbCurrent"),e("#WikispacesHelpBreadcrumbs .WikispacesHelpBreadcrumb:last").addClass("WikispacesHelpBreadcrumbCurrent")}function r(t){var n=e('<div id="toc"><h1 class="nopad">Table of Contents</h1></div>');t.find("h1,h2,h3,h4,h5,h6").each(function(){var t=e('<a href="#">'+e(this).text()+"</a>"),i=e(this);t.click(function(t){return e("#WikispacesHelpContent").scrollTo(i,300),t.preventDefault(),!1});var r=e('<div style="margin-left: '+this.tagName.substr(1,2)+'em;"></div>');r.append(t),n.append(r)}),t.prepend(n)}function o(t){e(t).find("#toc").remove();var n=window.location.protocol+"//help."+wikispaces_main_domain;e(t).find('img[src^="/"]').attr("src",function(e,t){return n+t}),e(t).find('a[href^="/"]').attr("href",function(e,t){return n+t}),e("a[href$='site/help']").each(function(){e(this).attr("href",e(this).attr("href")+"?src="+wikispaces_wikiName)}),e(t).find("a").each(function(){var t=e(this);t.attr("href")&&n==t.attr("href").substr(0,n.length)&&(t.unbind(),t.click(function(e){return ws.help.loadHelp(t.attr("href").substr(n.length))?(e.preventDefault(),!1):undefined}))})}var a=[],s=4,l="0",c="0",u=0,d={1:"Editing Your Home Page",2:"Introduction to Your Wiki",3:"Becoming Familiar with Your Wiki",4:"Managing Your User Account",5:"Inviting Members to Your Wiki",6:"Some Advanced Features",7:"More on Wikispaces and Wikis"};return e(document).ready(function(){e("#WikispacesHelp").length&&e(".WikispacesHelpLink").click(ws.common.makeLinkClickFunction(function(){ws.help.showHelp(jQuery(this).data("help"))}))}),{showGettingStartedHome:function(){return e("#WikispacesGettingStartedCategory").empty(),e("#WikispacesGettingStartedBreadcrumbHome").addClass("WikispacesHelpBreadcrumbCurrent"),e("#WikispacesGettingStartedNav").empty(),e("#w_gs_"+c+"-"+l).hide(),e("#w_gs_index").show(),l="0",c="0",!1},showGettingStartedDiv:function(t,i){return e("#WikispacesGettingStartedBreadcrumbs .WikispacesHelpBreadcrumbCurrent").removeClass("WikispacesHelpBreadcrumbCurrent"),e("#WikispacesGettingStartedCategory").html('<span class="WikispacesHelpBreadcrumb WikispacesHelpBreadcrumbCurrent"> &gt; <a href="#" onclick="return false;">'+d[t]+"</a></span>"),e("#w_gs_index").hide(),t!=c&&(n=1,e("#w_gs_s"+t).children().each(function(){e("#WikispacesGettingStartedNav").append('<div id="w_gs_n'+n+'" class="num" onclick="ws.help.showGettingStartedDiv(currentSection, \''+n+"');\">"+n+"</div>"),n++}),u=n-1,e("#WikispacesGettingStartedNav").append('<div id="w_gs_next" onclick="ws.help.showGettingStartedDiv(currentSection, parseInt(currentId) + 1);">Next &gt;</div>'),e("#WikispacesGettingStartedNav").append('<div id="w_gs_end" onclick="return ws.help.showGettingStartedHome();">Menu</div>'),e("#WikispacesGettingStartedNav").show()),i!=l&&(e("#w_gs_n"+l).removeClass("navhl"),e("#w_gs_"+c+"-"+l).hide()),e("#w_gs_n"+i).addClass("navhl"),e("#w_gs_"+t+"-"+i).show(),parseInt(i,10)==u?e("#w_gs_next").hide():e("#w_gs_next").show(),l=i,c=t,!1},attachGettingStarted:function(t){e(".WikispacesHelpTrigger").click(function(){return ws.help.loadGettingStarted(t),e("#WikispacesHelp").dialog({modal:!0,resizable:!1,title:"Help",width:880}).css({"z-index":3001,padding:0}),!1})},attachHelpWindow:function(){e(".WikispacesHelpTrigger").click(function(){return ws.help.showHelp(),!1})},showHelp:function(t){return parent!=window&&"function"==typeof parent.ws.help.showHelp?parent.ws.help.showHelp(t):(t||0!==a.length||(t="/home"),ws.navigation.app.collapse(),e("#WikispacesHelp").dialog({modal:!0,resizable:!1,title:"Help",width:880}).css({"z-index":3001,padding:0}),t&&ws.help.loadHelp(t),undefined)},loadGettingStarted:function(t){e("#WikispacesHelpControls").hide(),e("#WikispacesHelpContent").hide(),ws.navigation.app.collapse(),e("#WikispacesGettingStartedControls").show(),e("#WikispacesGettingStartedContent").show();var n="/site/helpcontent/none?mode=gettingstarted"+t,i=function(){ws.session.reloadSession(function(){ws.help.loadGettingStarted(t)},500,function(){alert("Error: Could not display help")})};e.ajaxq("help",{url:n,type:"GET",dataType:"html",success:function(t){e("#WikispacesGettingStartedContent").html(t),ws.session.reloadSessionSuccess()},error:i})},loadHelp:function(t){e("#WikispacesHelpControls").show(),e("#WikispacesHelpContent").show(),e("#WikispacesGettingStartedControls").hide(),e("#WikispacesGettingStartedContent").hide();var n=document.location.protocol+"//"+document.location.hostname;if(t.substring(0,n.length)==n&&"/Help."==t.substr(n.length,6)&&(t=t.substr(n.length)),"http://"==t.substring(0,7)||"https://"==t.substring(0,8))return!1;if("/file/view/"==t.substring(0,11))return window.location=window.location.protocol+"//help."+wikispaces_main_domain+t,!0;e("#WikispacesHelpBreadcrumbSpinner").html('<img src="/i/spinner.gif" width="18" height="18" alt="please wait"/>'),"/"==t.substr(0,1)&&(t=t.substr(1));var s="";if(t.indexOf("#")>0&&(s=t.substr(t.indexOf("#")+1),t=t.substr(0,t.indexOf("#"))),t==a[a.length])s?e("#WikispacesHelpContent").scrollTo(e("#WikispacesHelpContent a[name='"+s+"']")):e("#WikispacesHelpContent").scrollTop(0);else{var l=function(){ws.session.reloadSession(function(){ws.help.loadHelp(t)},500,function(){alert("Error: Could not display help")})},c="/site/helpcontent/"+t;e.ajaxq("help",{url:c,cache:!1,type:"GET",dataType:"html",success:function(n){ws.session.reloadSessionSuccess(),e("#WikispacesHelpContent").html(n),o(e("#WikispacesHelpContent")),r(e("#WikispacesHelpContent")),a.push(t),i(),e("#WikispacesHelpBreadcrumbSpinner").html(""),s?e("#WikispacesHelpContent").scrollTo(e("#WikispacesHelpContent a[name='"+s+"']")):e("#WikispacesHelpContent").scrollTop(0)},error:l})}return!0},gotoBreadcrumb:function(e){for(var t=a[e],n=a.length;n>e;n--)a.pop();return ws.help.loadHelp(t),!1}}}(jQuery),ws.namespace("ws.math"),ws.math=function(e){return{process:function(t){e('.wiki script[type="math/tex"]').length>0&&(window.MathJax?MathJax.Hub.Queue(["Typeset",MathJax.Hub,t]):ws.math.loadMath())},loadMath:function(){var e="/s/js/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML",t=document.createElement("script");t.type="text/javascript",t.src=e,document.getElementsByTagName("head")[0].appendChild(t)}}}(jQuery),ws.namespace("ws.messagequeue"),ws.messagequeue=function(e){return e(document).ready(function(){var t=[];ws.context.user.id&&t.push(ws.context.environment_name+"user"+ws.context.user.id),ws.context.space.id&&t.push(ws.context.environment_name+"space"+ws.context.space.id);var n=t.join("/"),i=new EventSource("/queue/subscribe/ev/"+n);i.addEventListener("message",function(t){var n=JSON.parse(t.data),i=n.text.split(" "),r=i.shift();e(document).trigger("message."+r,i)})}),{}}(jQuery),ws.namespace("ws.navbar"),ws.navbar=function(e){function t(){ws.navbar.setEditMode(!0);var t=e(this);t.data("edittext",t.text());var n=t.data("editpagetext");n||(n=""),t.text(n),e(".WikispacesCustomNavEdit").off(".navEdit")}function n(){ws.navbar.setEditMode(!1),e(".WikispacesCustomNavEdit").each(function(){$edit=e(this),$edit.text($edit.data("edittext")),$edit.on("click.navEdit",ws.common.makeLinkClickFunction(t))})}function i(t){e(t).find(".WikispacesNavbarEntry").not("#WikispacesNavbarOptions").each(function(){var t=e(this);Cookie.get(t.attr("id"))?t.addClass("WikispacesNavbarEntryCollapsed"):t.removeClass("WikispacesNavbarEntryCollapsed")})}function r(t){return function(n){var i=e(this).closest(".WikispacesNavbarEntry"),r=t?"slideUp":"slideDown";return Cookie.set(i.attr("id"),t,365),n.stopPropagation(),i.find(".WikispacesNavbarEntryItems")[r]("fast").promise().done(function(){i.toggleClass("WikispacesNavbarEntryCollapsed",t)})}}function o(e){e.toggle(!!e.find("li").length)}function a(t){var n=e(t);return n.find(".icon-spinner").show(),ws.common.ajaxPost({form:n}).pipe(function(){return ws.navbar.refresh(!0)}).always(function(){n.closest("li").addClass("hidden"),n.find(".icon-spinner").hide()})}function s(e){e.addClass("WikispacesNavbarEntryWorking");var t=e.data("entryid"),n=e.closest(".WikispacesNavbar"),i=n.data("navbarurl");return ws.common.ajaxPost({url:i+"/update/"+t,data:{status:"D"}}).done(function(){e.hide(),n.find("#WikispacesNavbarAllPagesEntry").is(":visible")||n.find(".WikispacesNavbarShowAllPages").removeClass("hidden")}).always(function(){e.removeClass("WikispacesNavbarEntryWorking")})}function l(t){var n=t.closest(".WikispacesNavbar").data("navbarurl"),i=[];return t.find(".WikispacesNavbarEntry:visible").addClass("WikispacesNavbarEntryWorking").each(function(){i.push(e(this).data("entryid"))}),ws.common.ajaxPost({url:n+"/tagreorder",data:{"tags[]":i}}).fail(function(){t.sortable("cancel")}).always(function(){t.find(".WikispacesNavbarEntry").removeClass("WikispacesNavbarEntryWorking")})}function c(t){var n=t.closest(".WikispacesNavbar").data("navbarurl"),i=t.closest(".WikispacesNavbarEntry").addClass("WikispacesNavbarEntryWorking").data("entryid"),r=[];return t.find("li a").each(function(){r.push(e(this).data("uniqid"))}),ws.common.ajaxPost({url:n+"/pagereorder/"+i,data:{"pages[]":r}}).fail(function(){t.sortable("cancel")}).always(function(){t.closest(".WikispacesNavbarEntry").removeClass("WikispacesNavbarEntryWorking")})}function u(t){if($navbar=e(".WikispacesNavbar"),!t||$navbar.length&&$navbar.is(".WikispacesNavbarEdit")){if($tags=$navbar.find("div#WikispacesNavbarTags"),$pages=$navbar.find(".WikispacesNavbarSortableEntry ol"),!t)return $tags.sortable("destroy"),$pages.sortable("destroy"),undefined;$tags.sortable({handle:".WikispacesNavbarEntryHeader",tolerance:"pointer",containment:"parent",update:function(){l(e(this))}}),$pages.sortable({tolerance:"pointer",containment:"parent",update:function(){c(e(this))}})}}return e(document).ready(function(){$navbar=e(".WikispacesNavbar"),$navbar.length&&(o($navbar.find("#WikispacesNavbarFavoritesEntry")),i($navbar),e(document).on("message.navbar",function(e,t,n){"refresh"==t&&n==$navbar.data("spaceid")&&ws.navbar.refresh()}),$navbar.on("click",".WikispacesNavbarEntry .WikispacesNavbarEntryHeader:not(.ui-sortable *)",function(){e(this).find(".WikispacesNavbarToggle:visible").click()}),$navbar.on("click",".WikispacesNavbarToggle.WikispacesNavbarPlus",r(!1)),$navbar.on("click",".WikispacesNavbarToggle.WikispacesNavbarMinus",r(!0)),$navbar.on("click","a.WikispacesNavbarSeeMore",function(t){ws.navbar.seeMore(e(this).closest(".WikispacesNavbarEntryItems")),t.preventDefault()}),jQuery(document).on("tagUpdate","form.WikiTagForm",function(){ws.navbar.refresh(!0)}),e(".WikispacesCustomNavEdit").on("click.navEdit",ws.common.makeLinkClickFunction(t)),$navbar.on("click",".WikispacesNavbarEditDone",function(e){n(),e.preventDefault()}),$navbar.on("click",".WikispacesNavbarRemoveEntry",function(t){s(e(this).closest(".WikispacesNavbarEntry")),t.stopPropagation()}),$navbar.on("click",".WikispacesNavbarSortableEntry .ui-sortable a",function(e){e.preventDefault()}),$navbar.on("submit",".WikispacesNavbarShowAllPagesForm",function(t){a(e(this)),t.preventDefault()}),$navbar.on("submit",".WikispacesNavbarNewTagNavbarForm",function(e){ws.navbar.addTag(),e.preventDefault()}))}),{seeMore:function(t,n){var i=t.closest(".WikispacesNavbarEntry"),r=i.data("entryid"),a=e.Deferred(),s={num:n};n||(s.num=t.find("span.WikispacesNavbarNum").text(),s.seeMore=1),i.addClass("WikispacesNavbarEntryWorking");var l=t.closest(".WikispacesNavbar").data("navbarurl");return t.load(l+"/fetch/"+r,s,function(e,t){"error"===t?a.reject(i):a.resolve(i)}),a.done(function(e){u(!0),o(e)}).always(function(e){e.removeClass("WikispacesNavbarEntryWorking")}),a.promise()},addTag:function(t){var n=e(".WikispacesNavbarNewTagNavbarForm");if(!n.length)return e.when();if(t&&n.find("input[name=tagName]").val(t),""===n.find("input[name=tagName]").val())return e.when();n.find("button").hide(),n.find(".icon-spinner").show();var i=ws.common.ajaxPost({form:n});return n.find("input[name=tagName]").prop("disabled",!0).val(""),i.pipe(function(){return ws.navbar.refresh(!0)}).always(function(){n.find(".icon-spinner").hide(),n.find("button").show(),n.find("input[name=tagName]").removeAttr("disabled").val("")})},refresh:function(t){var n=null;if(n=t?e(".WikispacesNavbar"):e(".WikispacesNavbar:not(.WikispacesNavbarEdit)"),!n.length)return e.when();var r=e.Deferred(),a=n.data("navbarurl"),s=[];n.find(".WikispacesNavbarEntry:visible").each(function(){var t=e(this),n=t.find("span.WikispacesNavbarNum").text();s.push(t.data("entryid")+":"+n)});var l=e("<div>").hide().load(a+"/fetch/full",{"entryNums[]":s},function(e,t){"error"===t?r.reject(l):r.resolve(l)});return r.done(function(e){var t=e.find(".WikispacesNavbar");o(t.find("#WikispacesNavbarFavoritesEntry")),i(t);var r=t.html();n.html(r),u(!0)}).always(function(e){e.remove()}),r.promise()},setEditMode:function(t){t===undefined&&(t=!0);var n=!1;return!t&&e(".WikispacesNavbar.WikispacesNavbarEdit").length&&(n=!0),e(".WikispacesNavbar").toggleClass("WikispacesNavbarEdit",t),n?ws.navbar.refresh():(u(t),e.when())}}}(jQuery),ws.namespace("ws.navigation"),ws.navigation=function(e){return e(document).ready(function(){var t=Backbone.Model.extend({defaults:{}}),n=Backbone.Collection.extend({initialize:function(){this.loadedPromise=null;var t=this;e(document).bind("message.mail",function(e,n){("increment"==n||"decrement"==n)&&t.fetch()})},model:t,url:"/site/notice/"+encodeURIComponent(wikispaces_username)}),i=Backbone.Collection.extend({model:t,url:"/site/wikilist/"+encodeURIComponent(wikispaces_username),initialize:function(){this.loadedPromise=null}}),r=Backbone.Collection.extend({model:t,url:"/site/wikitour",initialize:function(){this.loadedPromise=null}}),o=Backbone.View.extend({events:{mouseover:"tryExpand","click .headerButton":"clickButton"},panels:[],initialize:function(){var t=this;this.options.panels=[],e(window).scroll(function(){var n=_.filter(t.options.panels,function(e){return e.options.displayed}).length>0;e(document).scrollTop()>15&&!n&&t.collapse()}),e(document).bind("message.mail",function(e,n,i){("increment"==n||"decrement"==n)&&t.$el.find("#NoticeButton").text(i)})},render:function(){var e=new s({collection:new n,viewClass:u,name:"Notice",parentApp:this,id:"NoticeTool"});this.options.panels.push(e);var t=new l({collection:new i,viewClass:d,name:"Wiki",parentApp:this,id:"WikiTool"});if(this.options.panels.push(t),!wikispaces_isMobileSite){var o=new c({collection:new r,viewClass:h,name:"Help",parentApp:this,id:"HelpTool"});this.options.panels.push(o)}var a=this;return _.each(this.options.panels,function(e){a.$el.append(e.render().el)}),this},clickButton:function(t){var n=e(t.target).data("panel");_.each(this.options.panels,function(e){e.options.name!=n&&e.hide()}),_.each(this.options.panels,function(e){e.options.name==n&&(e.options.displayed?e.hide():e.show())}),t.preventDefault()},highlightButton:function(e){this.$el.find(".headerButton").closest(".WikiInternalHeaderNavMenuArea").removeClass("active"),this.$el.find('.headerButton[data-panel="'+e+'"]').closest(".WikiInternalHeaderNavMenuArea").addClass("active")},tryExpand:function(){this.options.justHidden||this.expand()},expand:function(){return this.options.isHidden?(this.options.isHidden=!1,this.$el.animate({right:0}).promise()):e.when()},collapse:function(){if(!this.options.isHidden&&(!wikispaces_isMain||"www"!=wikispaces_spaceName||wikispaces_username)&&(_.each(this.options.panels,function(e){e.hide()}),e(".WikiInternalHeaderNav .slideMarker").length)){var t=e(window).width()-e(".WikiInternalHeaderNav .slideMarker").offset().left;this.$el.animate({right:-t}),this.options.isHidden=!0,this.options.justHidden=!0,setTimeout(function(){ws.navigation.app.options.justHidden=!1},500)}},show:function(e){this.$el.find('.headerButton[data-panel="'+e+'"]').click()}}),a=Backbone.View.extend({tagName:"div",className:"panel",parentApp:null,initialize:function(){var t=this;this.options.displayed=!1,e(window).resize(function(){t.options.displayed&&t.updateHeight()}),this.collection.on("add",this.addOne,this),this.collection.on("reset",this.addAll,this)},render:function(){return this.$el.hide(),0===this.$el.closest("body").length&&this.$el.append('<div id="'+this.options.name+'ToolList"><ol></ol></div>'),this},addOne:function(e){var t=new this.options.viewClass({model:e});this.getPanelArea().append(t.render().el)},addAll:function(){this.getPanelArea().empty();var e=_.bind(this.addOne,this);this.collection.each(e)},getPanelArea:function(){return this.$el.find("#"+this.id+"List ol")},updateHeight:function(){var t=e(this.id);if(t.length){var n=e(window).height()-(t.offset().top-e(window).scrollTop());t.height(n)}},show:function(){var t=this,n=this.collection.loadedPromise;n||(n=this.collection.fetch(),this.collection.loadedPromise=n);var i=this.options.parentApp.options.animationDone,r=e.Deferred();return this.options.parentApp.options.animationDone=r.promise(),e.when(n,i).pipe(function(){return t.options.parentApp.expand()}).pipe(function(){return t.options.parentApp.highlightButton(t.options.name),t.$el.slideDown(100).promise()}).done(function(){t.$el.css("max-height",t.$el.get(0).scrollHeight),t.$el.css("width",e(".WikiInternalHeaderNavMenu")[0].scrollWidth),t.updateHeight(),e(document).trigger("showPanel",[t.options.name]),r.resolve()}),this.options.displayed=!0,this},hide:function(){var t=this,n=this.options.parentApp.options.animationDone,i=e.Deferred();this.options.parentApp.options.animationDone=i.promise(),e.when(n).pipe(function(){return t.$el.slideUp(100).promise()}).done(function(){t.options.parentApp.highlightButton(""),i.resolve()}),this.options.displayed=!1}}),s=a.extend({}),l=a.extend({}),c=a.extend({render:function(){var e=a.prototype.render.apply(this,arguments),t="help."+ws.context.instance.url;return this.$el.find("#HelpToolList").prepend('<ol><li><a class="text WikispacesHelpTrigger" rel="nofollow" href="//'+t+'/">Help Wiki</a></li></ol>'),ws.help.attachHelpWindow("/home"),e},getPanelArea:function(){return this.$el.find("#"+this.id+"List ol").eq(1)}}),u=Backbone.View.extend({tagName:"li",events:{hover:"highlight",click:"clickItem"},render:function(){"R"==this.model.get("status")?this.$el.removeClass("unread"):this.$el.addClass("unread");var e=new Date(1e3*this.model.get("InternalMail").date_created),t=ws.user.link(this.model.get("InternalMail").UserCreated);return this.$el.html('<div style="cursor: pointer;">'+this.model.get("InternalMail").subject+'</div><div class="mailDetails">'+t+" "+e.toDateString()+"</div>"),this},highlight:function(){this.$el.toggleClass("highlight")},clickItem:function(){window.location.href=this.model.get("url")}}),d=Backbone.View.extend({tagName:"li",events:{hover:"highlight",click:"clickItem"},render:function(){this.$el.addClass("wikiItem");var e=ws.common.escapeHtml(this.model.get("text"));return this.$el.html('<a href="'+this.model.get("url")+'"><img src="'+(this.model.get("image_type")?this.model.get("image"):"/i/icon_48_bonsai_silhouette.gif")+'" width="20" height="20" alt="'+e+'"></a><a href="'+this.model.get("url")+'">'+e+"</a>"),this},highlight:function(){this.$el.toggleClass("highlight")},clickItem:function(){window.location.href=this.model.get("url")}}),h=Backbone.View.extend({tagName:"div",events:{"click .wikiTour":"clickItem"},render:function(){var e=this.model,t='<li class="wikiTour"><a href="#" class="text" data-tour-id="'+e.get("id")+'-intro-1">'+e.get("name")+(e.get("completed")?" (done!)":"")+"</a></li>";return _.each(e.get("stages"),function(n,i){t+='<li class="wikiTour"><a href="#" class="text" data-tour-id="'+e.get("id")+"-"+i+'-1"> * '+n.name+(n.completed?" (done!)":"")+"</a></li>"}),this.$el.html(t),this},clickItem:function(t){t.preventDefault(),ws.navigation.app.collapse(),e(".frameDialog").dialog("close");var n=e(t.target).data("tour-id");guiders.loadGuiders().done(function(){guiders.jumpToStep(n)})}});ws.navigation.app=new o({el:e(".WikiInternalHeaderNav").get(0)}),ws.navigation.app.render()}),{}}(jQuery),ws.namespace("ws.pricing"),ws.pricing=function(e){function t(t,i,r,o){e(t).data("timeout")&&clearTimeout(e(t).data("timeout"));
var a=setTimeout(function(){n(t,i,r,o)},200);e(t).data("timeout",a)}function n(t,n,r,o){var a=e(t),s=a.data("plan"),l=a.data("version"),c=a.data("type"),u=ws.pricing.normalizeUsers(a.val());if("function"==typeof r){var d=r.call(t,u);if(!d)return}var h="/site/previewprice/"+encodeURIComponent(s)+"/"+encodeURIComponent(l)+encodeURIComponent(c)+encodeURIComponent(u);e.ajaxq("pricing",{url:h,dataType:"json",success:function(e){var r=i(e.year);n.html(r),"function"==typeof o&&o.call(t,u,e)}})}function i(e){e+="";for(var t=e.split("."),n=t[0],i=t.length>1?"."+t[1]:"",r=/(\d+)(\d{3})/;r.test(n);)n=n.replace(r,"$1,$2");return n+i}var r=100,o=1e6;return{normalizeUsers:function(e){return e=e.replace(/,/,""),e=e.replace(/^0+/,""),e=parseInt(e,10),(!e||0>=e)&&(e=1),e=Math.ceil(e/r)*r},attachPriceCheck:function(n,i,r,o){e(n).change(function(){t(this,i,r,o)}).keyup(function(){t(this,i,r,o)}),t(n,i,r,o)},validateUsers:function(e,t,n){var i=function(e){n===!0?alert(e):n===!1||(n.message=e)};if(!e)return i("Please enter a user number."),!1;if(t.minUsers>e)return i("The minimum number of users is "+t.minUsers+"."),!1;if(e>o)return i("The maximum number of users is ".MAX_USERS+"."),!1;if(t.currentUsers>e){var r=ws.pricing.normalizeUsers(t.currentUsers);return i("You currently have "+t.currentUsers+" active users. Please set your subscription to "+r+" users or more."),!1}return!0}}}(jQuery),ws.namespace("ws.select2"),ws.select2=function(e){function t(){var t=e(this).closest(".wsPopup").css("z-index");e(".select2-drop-mask").css("z-index",t+1),e(".select2-drop").css("z-index",t+2),e(".select2-search").css("z-index",t+3)}function n(t){var n=[];return e(t.content.result).each(function(){var e=this.shift(),t=this.shift();n.push({id:e,text:t,data:this})}),{results:n,more:t.content.more}}function i(t,n){var i={id:e(t).val(),text:e(t).val()};n(i)}function r(t,n){var i={id:e(t).val(),text:e(t).data("select2-text")};n(i)}function o(e){return e&&e.text?ws.common.escapeHtml(e.text):""}function a(e){return ws.common.escapeHtml(e.text)+' <br/><span class="smgrey">'+ws.common.escapeHtml(e.data[0])+"</span>"}return e(document).ready(function(){ws.select2.instance(e(".autocompleteInstance")),ws.select2.wiki(e(".autocompleteWiki")),ws.select2.user(e(".autocompleteUser"))}),{formatObject:function(e){return e.title?ws.common.escapeHtml(e.title):e.iconUrl?"<img src='"+ws.common.escapeHtml(e.iconUrl)+"' width='16' height='16' style='text-align: center'/> "+ws.common.escapeHtml(e.text):e.text?"<img src='/i/mime/32/text/plain.png' width='16' height='16' style='text-align: center'/> "+ws.common.escapeHtml(e.text):""},instance:function(i){e(i).select2({width:"200px",placeholder:"Find a Private Label",ajax:{url:"/int/autocompleteinstance",dataType:"json",type:"POST",quietMillis:200,params:{iframe:!0},data:function(e,t){return{q:e,p:t,n:10}},results:n},formatSelection:o,formatResult:a,initSelection:r}).on("select2-open",t)},user:function(r){e(r).select2({width:"200px",placeholder:"Find a user",minimumInputLength:3,ajax:{url:"/user/autocomplete",dataType:"json",quietMillis:200,data:function(e,t){return{q:e,p:t,n:10}},results:n},formatSelection:o,formatResult:o,initSelection:i}).on("select2-open",t)},wikiAndObject:function(e,t,n){ws.select2.wiki(e),ws.select2.object(t,e,n)},wiki:function(i){var a={a:("U"==ws.context.user.status)+0};e(i).each(function(){var t=e(this),i=t.data("autocomplete-params");i||(i={});var s=e.extend({},a,i);t.select2({width:"200px",placeholder:"Find a wiki",ajax:{url:"/wiki/autocomplete",dataType:"json",quietMillis:200,data:function(t,n){return e.extend({},s,{q:t,p:n,n:10})},results:n},formatSelection:o,formatResult:o,initSelection:r})}).on("select2-open",t)},tag:function(n){e(n).each(function(){var t=e(this);t.select2({width:"200px",placeholder:"Filter by tags",ajax:{url:ws.common.pathFor("tag","listjson","all"),dataType:"json",quietMillis:200,data:function(t,n){var i=10;return e.extend({},{q:t,offset:(n-1)*i,pageLimit:i})},results:function(e){var t=_(e.tags).map(function(e){return{id:e.name,text:e.name+" ("+e.count+")",data:e}});return{results:t,more:!e.pagedata.islastpage}}},formatSelection:o,formatResult:o,initSelection:r})}).on("select2-open",t)},object:function(n,r,a){var s="Find a page or file";switch(a){case"P":s="Find a page";break;case"F":s="Find a file";break;case"G":s="Find a Google Doc"}e(n).select2({width:"200px",placeholder:s,createSearchChoice:function(e){e=e.replace(/,/,"");var t="page:";return"P"==a&&(t=""),{id:t+e,text:e}},ajax:{url:ws.common.pathFor("space","autocompletepage"),dataType:"text",quietMillis:200,data:function(t,n){var i=wikispaces_wikiName;return r&&(i=e(r).val()),{json:1,w:i,q:t,p:n,n:10,type:a}},results:function(e){var t=_(e.split("\n")).chain().compact().map(function(e){var t=e.split("|"),n=t[2]+":";return"P"==a&&(n=""),{text:t[0],id:n+t[0],iconUrl:t[4]}}).value(),n=10==t.length;return{results:t,more:n}}},formatSelection:o,formatResult:ws.select2.formatObject,initSelection:i}).on("select2-open",t)}}}(jQuery),ws.namespace("ws.session"),ws.session=function(e){var t=0,n=null,i=function(n,i){var r=(new Date).getTime(),o='<iframe class="sessionReloadIframe" id="sessionReloadIfr'+t+'" src="/space/sessionreload?_='+r+'" name="sessionReloadIfr'+t+'" style="display: none; width:0; height:0; border:0; padding:0; margin:0; visibility: hidden;"></if'+"rame>";e("body").append(o),t++,setTimeout(n,i)};return{reloadSessionSuccess:function(){e("iframe.sessionReloadIframe").remove(),t=0},reloadSession:function(e,n,r){return t>4?("function"==typeof r&&r.call(this),undefined):(i(e,n),undefined)},reloadSessionAt:function(e){"number"==typeof n&&clearTimeout(n);var t=Math.floor((new Date).getTime()/1e3),r=e-t;1>r&&(r=1),n=setTimeout(function(){i(function(){ws.session.reloadSessionSuccess()},1)},1e3*r)}}}(jQuery),ws.namespace("ws.star"),ws.star=function(e){function t(t){e("iframe#star_edit").remove(),r=i,o||(o=!0,n());var a=ws.common.pathFor("star",t,wikispaces_page);a=ws.common.addUriParams(a,[["type",wikispaces_object],["ajax","true"]]);var s=e("<iframe>").attr("id","star_edit").attr("name","star_edit").attr("src",a).width(0).height(0).css("border",0);e("body").append(s)}function n(){o&&(e(".MenuBar img.StarImg:visible").addClass("star-"+r%i).removeClass("star-"+(r-1)%i),setTimeout(n,100),r++)}var i=6,r=i,o=!1,a=!1;return e(document).ready(function(){e(".MenuBar img.StarYes").click(function(){t("delete")}),e(".MenuBar img.StarNo").click(function(){t("create")})}),{starIsCreated:function(){var t=100*(i-(r-1)%i-1);setTimeout(function(){o=!1,e(".MenuBar img.StarImg").removeClass("star-"+(r-1)%i).hide(),e(".MenuBar img.StarYes").show(),a&&(ws.common.removeNotice(),a=!1)},t),ws.navbar.seeMore(e("div#WikispacesNavbarFavoritesListItems"),21)},starIsDeleted:function(t){var n=100*(i-(r-1)%i-1);setTimeout(function(){o=!1,e(".MenuBar img.StarImg").removeClass("star-"+(r-1)%i).hide(),e(".MenuBar img.StarNo").show(),a&&(ws.common.removeNotice(),a=!1),t&&t.call(this)},n),ws.navbar.seeMore(e("div#WikispacesNavbarFavoritesListItems"),21)},addNotice:function(e,t){ws.common.removeNotice(),ws.star.starIsDeleted(function(){ws.common.addNotice(e,t),a=!0})}}}(jQuery),ws.namespace("ws.tags"),ws.tags=function(e){function t(n){function i(){ws.session.reloadSession(function(){t(n)},500,function(){alert("Error: Could not update tags")})}var r=ws.tags.getTagsFromSelect(e(n).find("select"));e.ajax({url:ws.common.pathFor("tag","update",n.objectName.value)+"?object="+encodeURIComponent(n.type.value),type:"POST",data:{go:!0,"tags[]":r},success:function(){e(n).find(".WikiTagList ul").empty();for(var t=0;r.length>t;t++){var i=e("<a/>").attr("rel","tag").attr("href",ws.common.pathFor("space","content")+"?tag="+encodeURIComponent(r[t])).text(r[t]),o=e("<li/>").addClass("WikiTag").append(i);e(n).find(".WikiTagList ul").append(o),e(n).find(".WikiTagList ul").append(" ")}e(n).trigger("tagUpdate")},error:i})}function n(t){var n=e(t).parents(".WikiTagForm");n.find(".WikiTagList").show(),n.find(".WikiTagsEdit, .WikiTagsInput").hide()}function i(n){var i=e(n).find("select.WikiTagInput").get(0);t(n),i.updateSelected(),e(".WikiTagList").show().parents("td:first").css("width","auto"),e(".WikiTagsEdit, .WikiTagsInput").hide(),o--}function r(){return o>0?"You have not yet saved your tag changes.":undefined}var o=0;return e(document).ready(function(){e(document).on("click",".WikiTagsEditLink",function(t){window.onbeforeunload=r,ws.tags.showInput(this);var n=e(this).parents(".WikiTagForm");return n.find(".facebook-auto").length||(ws.tags.initElements(n.find("select.WikiTagInput")),n.submit(function(t){return i(this),e(".WikiTagsEditLink").show(),t.preventDefault(),!1}),ws.tags.showInput(this)),e(".WikiTagsEditLink").hide(),o++,t.preventDefault(),!1}),e(document).on("click",".WikiTagFormCancel",function(t){return n(this),o--,e(".WikiTagsEditLink").show(),t.preventDefault(),!1})}),{getTagsFromSelect:function(t){var n=[];return t[0].addFinalItem&&t[0].addFinalItem(),e(t).find("option.selected").each(function(){n.push(e(this).val())}),n},initElements:function(t){e(t).filter(function(){return!e(this).siblings("div.facebook-auto").length}).fcbkcomplete({json_url:ws.common.pathFor("space","autocomplete2","tag"),json_cache:!1,filter_case:!1,filter_selected:!0,comma_is_enter:!0,newel:!0,complete_text:"Type a tag name. Press comma or enter to add another.",maxlength:255})},showInput:function(t){var n=e(t).parents(".WikiTagForm");n.find(".WikiTagList").hide(),n.find("select.WikiTagInput").get(0).reset&&n.find("select.WikiTagInput").get(0).reset(),n.find(".WikiTagsEdit, .WikiTagsInput").show().find("input.maininput").focus()},promptForOpenInputs:function(e){var t=r();if(t){var n=confirm("Are you sure you want to navigate away from this page?\n\n"+t+"\n\n"+"Press OK to continue, or Cancel to stay on the current page.");if(!n)return e.stopImmediatePropagation(),e.preventDefault(),!1;o=0}return!0}}}(jQuery),ws.namespace("ws.user"),ws.user=function(){return{link:function(e,t){t||(t={});var n="//www."+ws.context.instance.url;n+=t.adminLink?"/admin/userdetail/":"/user/view/",n+=encodeURIComponent(e.username),url=e.date_pic_updated?"//www."+ws.context.instance.url+"/user/pic/"+e.date_pic_updated+"/"+encodeURIComponent(e.username)+"-":"/i/user_none_";var i='<a class="userLink'+(t.showMenu?"":" userLinkNoMenu")+'" href="'+n+'" style="outline: none;"'+(t.target?' target="'+t.target+'"':"")+">",r="</a>",o='<img src="'+url+'sm.jpg" width="16" height="16" alt="'+ws.common.escapeHtml(e.username)+'" class="userPicture" />';"large"==t.imageSize?o='<img src="'+url+'lg.jpg" width="48" height="48" alt="'+ws.common.escapeHtml(e.username)+'" class="userPicture" />':"none"==t.imageSize&&(o=""),o&&(o=i+o+r+" ");var a=i+ws.common.escapeHtml(e.username)+r;t.hideUsername&&($userString="");var s=!1;return t.activity&&(a+=" "+e.posts+"/"+e.edits,(e.posts||e.edits>12)&&(s=!0)),s&&(a='<span style="background-color: red;">'+a+"</span>"),o+a}}}(jQuery),ws.namespace("ws.wikitext"),ws.wikitext=function(e){return{highlightIncludeSection:function(t,n,i){e(t).toggleClass("includeEditButton",!i).toggleClass("includeEditButtonActive",i),e(".includeBody-"+n.replace(/%/g,"\\%")).toggleClass("includeBody",!i).toggleClass("includeBodyActive",i)}}}(jQuery);